(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xu={exports:{}},Qi={},Eu={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh;function h_(){if(Kh)return he;Kh=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),_=Symbol.iterator;function C(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,D={};function P(E,M,ue){this.props=E,this.context=M,this.refs=D,this.updater=ue||I}P.prototype.isReactComponent={},P.prototype.setState=function(E,M){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,M,"setState")},P.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function X(){}X.prototype=P.prototype;function J(E,M,ue){this.props=E,this.context=M,this.refs=D,this.updater=ue||I}var W=J.prototype=new X;W.constructor=J,b(W,P.prototype),W.isPureReactComponent=!0;var H=Array.isArray,F=Object.prototype.hasOwnProperty,re={current:null},ge={key:!0,ref:!0,__self:!0,__source:!0};function ke(E,M,ue){var de,_e={},ye=null,oe=null;if(M!=null)for(de in M.ref!==void 0&&(oe=M.ref),M.key!==void 0&&(ye=""+M.key),M)F.call(M,de)&&!ge.hasOwnProperty(de)&&(_e[de]=M[de]);var fe=arguments.length-2;if(fe===1)_e.children=ue;else if(1<fe){for(var Ne=Array(fe),dt=0;dt<fe;dt++)Ne[dt]=arguments[dt+2];_e.children=Ne}if(E&&E.defaultProps)for(de in fe=E.defaultProps,fe)_e[de]===void 0&&(_e[de]=fe[de]);return{$$typeof:i,type:E,key:ye,ref:oe,props:_e,_owner:re.current}}function Oe(E,M){return{$$typeof:i,type:E.type,key:M,ref:E.ref,props:E.props,_owner:E._owner}}function ae(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function Z(E){var M={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ue){return M[ue]})}var Q=/\/+/g;function le(E,M){return typeof E=="object"&&E!==null&&E.key!=null?Z(""+E.key):M.toString(36)}function we(E,M,ue,de,_e){var ye=typeof E;(ye==="undefined"||ye==="boolean")&&(E=null);var oe=!1;if(E===null)oe=!0;else switch(ye){case"string":case"number":oe=!0;break;case"object":switch(E.$$typeof){case i:case e:oe=!0}}if(oe)return oe=E,_e=_e(oe),E=de===""?"."+le(oe,0):de,H(_e)?(ue="",E!=null&&(ue=E.replace(Q,"$&/")+"/"),we(_e,M,ue,"",function(dt){return dt})):_e!=null&&(ae(_e)&&(_e=Oe(_e,ue+(!_e.key||oe&&oe.key===_e.key?"":(""+_e.key).replace(Q,"$&/")+"/")+E)),M.push(_e)),1;if(oe=0,de=de===""?".":de+":",H(E))for(var fe=0;fe<E.length;fe++){ye=E[fe];var Ne=de+le(ye,fe);oe+=we(ye,M,ue,Ne,_e)}else if(Ne=C(E),typeof Ne=="function")for(E=Ne.call(E),fe=0;!(ye=E.next()).done;)ye=ye.value,Ne=de+le(ye,fe++),oe+=we(ye,M,ue,Ne,_e);else if(ye==="object")throw M=String(E),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return oe}function be(E,M,ue){if(E==null)return E;var de=[],_e=0;return we(E,de,"","",function(ye){return M.call(ue,ye,_e++)}),de}function Ce(E){if(E._status===-1){var M=E._result;M=M(),M.then(function(ue){(E._status===0||E._status===-1)&&(E._status=1,E._result=ue)},function(ue){(E._status===0||E._status===-1)&&(E._status=2,E._result=ue)}),E._status===-1&&(E._status=0,E._result=M)}if(E._status===1)return E._result.default;throw E._result}var ie={current:null},L={transition:null},G={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:L,ReactCurrentOwner:re};function B(){throw Error("act(...) is not supported in production builds of React.")}return he.Children={map:be,forEach:function(E,M,ue){be(E,function(){M.apply(this,arguments)},ue)},count:function(E){var M=0;return be(E,function(){M++}),M},toArray:function(E){return be(E,function(M){return M})||[]},only:function(E){if(!ae(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},he.Component=P,he.Fragment=n,he.Profiler=l,he.PureComponent=J,he.StrictMode=s,he.Suspense=m,he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,he.act=B,he.cloneElement=function(E,M,ue){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var de=b({},E.props),_e=E.key,ye=E.ref,oe=E._owner;if(M!=null){if(M.ref!==void 0&&(ye=M.ref,oe=re.current),M.key!==void 0&&(_e=""+M.key),E.type&&E.type.defaultProps)var fe=E.type.defaultProps;for(Ne in M)F.call(M,Ne)&&!ge.hasOwnProperty(Ne)&&(de[Ne]=M[Ne]===void 0&&fe!==void 0?fe[Ne]:M[Ne])}var Ne=arguments.length-2;if(Ne===1)de.children=ue;else if(1<Ne){fe=Array(Ne);for(var dt=0;dt<Ne;dt++)fe[dt]=arguments[dt+2];de.children=fe}return{$$typeof:i,type:E.type,key:_e,ref:ye,props:de,_owner:oe}},he.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:u,_context:E},E.Consumer=E},he.createElement=ke,he.createFactory=function(E){var M=ke.bind(null,E);return M.type=E,M},he.createRef=function(){return{current:null}},he.forwardRef=function(E){return{$$typeof:h,render:E}},he.isValidElement=ae,he.lazy=function(E){return{$$typeof:w,_payload:{_status:-1,_result:E},_init:Ce}},he.memo=function(E,M){return{$$typeof:g,type:E,compare:M===void 0?null:M}},he.startTransition=function(E){var M=L.transition;L.transition={};try{E()}finally{L.transition=M}},he.unstable_act=B,he.useCallback=function(E,M){return ie.current.useCallback(E,M)},he.useContext=function(E){return ie.current.useContext(E)},he.useDebugValue=function(){},he.useDeferredValue=function(E){return ie.current.useDeferredValue(E)},he.useEffect=function(E,M){return ie.current.useEffect(E,M)},he.useId=function(){return ie.current.useId()},he.useImperativeHandle=function(E,M,ue){return ie.current.useImperativeHandle(E,M,ue)},he.useInsertionEffect=function(E,M){return ie.current.useInsertionEffect(E,M)},he.useLayoutEffect=function(E,M){return ie.current.useLayoutEffect(E,M)},he.useMemo=function(E,M){return ie.current.useMemo(E,M)},he.useReducer=function(E,M,ue){return ie.current.useReducer(E,M,ue)},he.useRef=function(E){return ie.current.useRef(E)},he.useState=function(E){return ie.current.useState(E)},he.useSyncExternalStore=function(E,M,ue){return ie.current.useSyncExternalStore(E,M,ue)},he.useTransition=function(){return ie.current.useTransition()},he.version="18.3.1",he}var Xh;function gc(){return Xh||(Xh=1,Eu.exports=h_()),Eu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function p_(){if(Jh)return Qi;Jh=1;var i=gc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(h,m,g){var w,_={},C=null,I=null;g!==void 0&&(C=""+g),m.key!==void 0&&(C=""+m.key),m.ref!==void 0&&(I=m.ref);for(w in m)s.call(m,w)&&!u.hasOwnProperty(w)&&(_[w]=m[w]);if(h&&h.defaultProps)for(w in m=h.defaultProps,m)_[w]===void 0&&(_[w]=m[w]);return{$$typeof:e,type:h,key:C,ref:I,props:_,_owner:l.current}}return Qi.Fragment=n,Qi.jsx=d,Qi.jsxs=d,Qi}var Zh;function m_(){return Zh||(Zh=1,xu.exports=p_()),xu.exports}var y=m_(),Go={},ku={exports:{}},Tt={},Nu={exports:{}},Tu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function g_(){return ep||(ep=1,function(i){function e(L,G){var B=L.length;L.push(G);e:for(;0<B;){var E=B-1>>>1,M=L[E];if(0<l(M,G))L[E]=G,L[B]=M,B=E;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var G=L[0],B=L.pop();if(B!==G){L[0]=B;e:for(var E=0,M=L.length,ue=M>>>1;E<ue;){var de=2*(E+1)-1,_e=L[de],ye=de+1,oe=L[ye];if(0>l(_e,B))ye<M&&0>l(oe,_e)?(L[E]=oe,L[ye]=B,E=ye):(L[E]=_e,L[de]=B,E=de);else if(ye<M&&0>l(oe,B))L[E]=oe,L[ye]=B,E=ye;else break e}}return G}function l(L,G){var B=L.sortIndex-G.sortIndex;return B!==0?B:L.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var m=[],g=[],w=1,_=null,C=3,I=!1,b=!1,D=!1,P=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(L){for(var G=n(g);G!==null;){if(G.callback===null)s(g);else if(G.startTime<=L)s(g),G.sortIndex=G.expirationTime,e(m,G);else break;G=n(g)}}function H(L){if(D=!1,W(L),!b)if(n(m)!==null)b=!0,Ce(F);else{var G=n(g);G!==null&&ie(H,G.startTime-L)}}function F(L,G){b=!1,D&&(D=!1,X(ke),ke=-1),I=!0;var B=C;try{for(W(G),_=n(m);_!==null&&(!(_.expirationTime>G)||L&&!Z());){var E=_.callback;if(typeof E=="function"){_.callback=null,C=_.priorityLevel;var M=E(_.expirationTime<=G);G=i.unstable_now(),typeof M=="function"?_.callback=M:_===n(m)&&s(m),W(G)}else s(m);_=n(m)}if(_!==null)var ue=!0;else{var de=n(g);de!==null&&ie(H,de.startTime-G),ue=!1}return ue}finally{_=null,C=B,I=!1}}var re=!1,ge=null,ke=-1,Oe=5,ae=-1;function Z(){return!(i.unstable_now()-ae<Oe)}function Q(){if(ge!==null){var L=i.unstable_now();ae=L;var G=!0;try{G=ge(!0,L)}finally{G?le():(re=!1,ge=null)}}else re=!1}var le;if(typeof J=="function")le=function(){J(Q)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,be=we.port2;we.port1.onmessage=Q,le=function(){be.postMessage(null)}}else le=function(){P(Q,0)};function Ce(L){ge=L,re||(re=!0,le())}function ie(L,G){ke=P(function(){L(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_continueExecution=function(){b||I||(b=!0,Ce(F))},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Oe=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_getFirstCallbackNode=function(){return n(m)},i.unstable_next=function(L){switch(C){case 1:case 2:case 3:var G=3;break;default:G=C}var B=C;C=G;try{return L()}finally{C=B}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var B=C;C=L;try{return G()}finally{C=B}},i.unstable_scheduleCallback=function(L,G,B){var E=i.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?E+B:E):B=E,L){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=B+M,L={id:w++,callback:G,priorityLevel:L,startTime:B,expirationTime:M,sortIndex:-1},B>E?(L.sortIndex=B,e(g,L),n(m)===null&&L===n(g)&&(D?(X(ke),ke=-1):D=!0,ie(H,B-E))):(L.sortIndex=M,e(m,L),b||I||(b=!0,Ce(F))),L},i.unstable_shouldYield=Z,i.unstable_wrapCallback=function(L){var G=C;return function(){var B=C;C=G;try{return L.apply(this,arguments)}finally{C=B}}}}(Tu)),Tu}var tp;function y_(){return tp||(tp=1,Nu.exports=g_()),Nu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np;function v_(){if(np)return Tt;np=1;var i=gc(),e=y_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function u(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(l[t]=r,t=0;t<r.length;t++)s.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},_={};function C(t){return m.call(_,t)?!0:m.call(w,t)?!1:g.test(t)?_[t]=!0:(w[t]=!0,!1)}function I(t,r,o,a){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function b(t,r,o,a){if(r===null||typeof r>"u"||I(t,r,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function D(t,r,o,a,c,f,p){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=f,this.removeEmptyString=p}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){P[t]=new D(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];P[r]=new D(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){P[t]=new D(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){P[t]=new D(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){P[t]=new D(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){P[t]=new D(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){P[t]=new D(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){P[t]=new D(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){P[t]=new D(t,5,!1,t.toLowerCase(),null,!1,!1)});var X=/[\-:]([a-z])/g;function J(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(X,J);P[r]=new D(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(X,J);P[r]=new D(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(X,J);P[r]=new D(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){P[t]=new D(t,1,!1,t.toLowerCase(),null,!1,!1)}),P.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){P[t]=new D(t,1,!1,t.toLowerCase(),null,!0,!0)});function W(t,r,o,a){var c=P.hasOwnProperty(r)?P[r]:null;(c!==null?c.type!==0:a||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(b(r,o,c,a)&&(o=null),a||c===null?C(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):c.mustUseProperty?t[c.propertyName]=o===null?c.type===3?!1:"":o:(r=c.attributeName,a=c.attributeNamespace,o===null?t.removeAttribute(r):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,a?t.setAttributeNS(a,r,o):t.setAttribute(r,o))))}var H=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),re=Symbol.for("react.portal"),ge=Symbol.for("react.fragment"),ke=Symbol.for("react.strict_mode"),Oe=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),Z=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),L=Symbol.iterator;function G(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var B=Object.assign,E;function M(t){if(E===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);E=r&&r[1]||""}return`
`+E+t}var ue=!1;function de(t,r){if(!t||ue)return"";ue=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(T){var a=T}Reflect.construct(t,[],r)}else{try{r.call()}catch(T){a=T}t.call(r.prototype)}else{try{throw Error()}catch(T){a=T}t()}}catch(T){if(T&&a&&typeof T.stack=="string"){for(var c=T.stack.split(`
`),f=a.stack.split(`
`),p=c.length-1,v=f.length-1;1<=p&&0<=v&&c[p]!==f[v];)v--;for(;1<=p&&0<=v;p--,v--)if(c[p]!==f[v]){if(p!==1||v!==1)do if(p--,v--,0>v||c[p]!==f[v]){var S=`
`+c[p].replace(" at new "," at ");return t.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",t.displayName)),S}while(1<=p&&0<=v);break}}}finally{ue=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?M(t):""}function _e(t){switch(t.tag){case 5:return M(t.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return t=de(t.type,!1),t;case 11:return t=de(t.type.render,!1),t;case 1:return t=de(t.type,!0),t;default:return""}}function ye(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ge:return"Fragment";case re:return"Portal";case Oe:return"Profiler";case ke:return"StrictMode";case le:return"Suspense";case we:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z:return(t.displayName||"Context")+".Consumer";case ae:return(t._context.displayName||"Context")+".Provider";case Q:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case be:return r=t.displayName||null,r!==null?r:ye(t.type)||"Memo";case Ce:r=t._payload,t=t._init;try{return ye(t(r))}catch{}}return null}function oe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(r);case 8:return r===ke?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ne(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function dt(t){var r=Ne(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),a=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ds(t){t._valueTracker||(t._valueTracker=dt(t))}function td(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),a="";return t&&(a=Ne(t)?t.checked?"true":"false":t.value),t=a,t!==o?(r.setValue(t),!0):!1}function Rs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pl(t,r){var o=r.checked;return B({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function nd(t,r){var o=r.defaultValue==null?"":r.defaultValue,a=r.checked!=null?r.checked:r.defaultChecked;o=fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:a,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function rd(t,r){r=r.checked,r!=null&&W(t,"checked",r,!1)}function Ml(t,r){rd(t,r);var o=fe(r.value),a=r.type;if(o!=null)a==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Dl(t,r.type,o):r.hasOwnProperty("defaultValue")&&Dl(t,r.type,fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function id(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var a=r.type;if(!(a!=="submit"&&a!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Dl(t,r,o){(r!=="number"||Rs(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var ui=Array.isArray;function Cr(t,r,o,a){if(t=t.options,r){r={};for(var c=0;c<o.length;c++)r["$"+o[c]]=!0;for(o=0;o<t.length;o++)c=r.hasOwnProperty("$"+t[o].value),t[o].selected!==c&&(t[o].selected=c),c&&a&&(t[o].defaultSelected=!0)}else{for(o=""+fe(o),r=null,c=0;c<t.length;c++){if(t[c].value===o){t[c].selected=!0,a&&(t[c].defaultSelected=!0);return}r!==null||t[c].disabled||(r=t[c])}r!==null&&(r.selected=!0)}}function Rl(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sd(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(ui(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:fe(o)}}function od(t,r){var o=fe(r.value),a=fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),a!=null&&(t.defaultValue=""+a)}function ld(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ad(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Al(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ad(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var As,ud=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,a,c){MSApp.execUnsafeLocalFunction(function(){return t(r,o,a,c)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(As=As||document.createElement("div"),As.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=As.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function ci(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yy=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(t){yy.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),di[r]=di[t]})});function cd(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||di.hasOwnProperty(t)&&di[t]?(""+r).trim():r+"px"}function dd(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var a=o.indexOf("--")===0,c=cd(o,r[o],a);o==="float"&&(o="cssFloat"),a?t.setProperty(o,c):t[o]=c}}var vy=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ol(t,r){if(r){if(vy[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function jl(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ll=null;function Fl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zl=null,Sr=null,xr=null;function fd(t){if(t=Ri(t)){if(typeof zl!="function")throw Error(n(280));var r=t.stateNode;r&&(r=ro(r),zl(t.stateNode,t.type,r))}}function hd(t){Sr?xr?xr.push(t):xr=[t]:Sr=t}function pd(){if(Sr){var t=Sr,r=xr;if(xr=Sr=null,fd(t),r)for(t=0;t<r.length;t++)fd(r[t])}}function md(t,r){return t(r)}function gd(){}var Wl=!1;function yd(t,r,o){if(Wl)return t(r,o);Wl=!0;try{return md(t,r,o)}finally{Wl=!1,(Sr!==null||xr!==null)&&(gd(),pd())}}function fi(t,r){var o=t.stateNode;if(o===null)return null;var a=ro(o);if(a===null)return null;o=a[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Bl=!1;if(h)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{Bl=!1}function _y(t,r,o,a,c,f,p,v,S){var T=Array.prototype.slice.call(arguments,3);try{r.apply(o,T)}catch(A){this.onError(A)}}var pi=!1,Os=null,js=!1,$l=null,wy={onError:function(t){pi=!0,Os=t}};function Cy(t,r,o,a,c,f,p,v,S){pi=!1,Os=null,_y.apply(wy,arguments)}function Sy(t,r,o,a,c,f,p,v,S){if(Cy.apply(this,arguments),pi){if(pi){var T=Os;pi=!1,Os=null}else throw Error(n(198));js||(js=!0,$l=T)}}function Zn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function vd(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function _d(t){if(Zn(t)!==t)throw Error(n(188))}function xy(t){var r=t.alternate;if(!r){if(r=Zn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,a=r;;){var c=o.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){o=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===o)return _d(c),t;if(f===a)return _d(c),r;f=f.sibling}throw Error(n(188))}if(o.return!==a.return)o=c,a=f;else{for(var p=!1,v=c.child;v;){if(v===o){p=!0,o=c,a=f;break}if(v===a){p=!0,a=c,o=f;break}v=v.sibling}if(!p){for(v=f.child;v;){if(v===o){p=!0,o=f,a=c;break}if(v===a){p=!0,a=f,o=c;break}v=v.sibling}if(!p)throw Error(n(189))}}if(o.alternate!==a)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function wd(t){return t=xy(t),t!==null?Cd(t):null}function Cd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Cd(t);if(r!==null)return r;t=t.sibling}return null}var Sd=e.unstable_scheduleCallback,xd=e.unstable_cancelCallback,Ey=e.unstable_shouldYield,ky=e.unstable_requestPaint,He=e.unstable_now,Ny=e.unstable_getCurrentPriorityLevel,Ul=e.unstable_ImmediatePriority,Ed=e.unstable_UserBlockingPriority,Ls=e.unstable_NormalPriority,Ty=e.unstable_LowPriority,kd=e.unstable_IdlePriority,Fs=null,tn=null;function Iy(t){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Fs,t,void 0,(t.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:My,by=Math.log,Py=Math.LN2;function My(t){return t>>>=0,t===0?32:31-(by(t)/Py|0)|0}var zs=64,Ws=4194304;function mi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bs(t,r){var o=t.pendingLanes;if(o===0)return 0;var a=0,c=t.suspendedLanes,f=t.pingedLanes,p=o&268435455;if(p!==0){var v=p&~c;v!==0?a=mi(v):(f&=p,f!==0&&(a=mi(f)))}else p=o&~c,p!==0?a=mi(p):f!==0&&(a=mi(f));if(a===0)return 0;if(r!==0&&r!==a&&!(r&c)&&(c=a&-a,f=r&-r,c>=f||c===16&&(f&4194240)!==0))return r;if(a&4&&(a|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=a;0<r;)o=31-Gt(r),c=1<<o,a|=t[o],r&=~c;return a}function Dy(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ry(t,r){for(var o=t.suspendedLanes,a=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes;0<f;){var p=31-Gt(f),v=1<<p,S=c[p];S===-1?(!(v&o)||v&a)&&(c[p]=Dy(v,r)):S<=r&&(t.expiredLanes|=v),f&=~v}}function Gl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nd(){var t=zs;return zs<<=1,!(zs&4194240)&&(zs=64),t}function Vl(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function gi(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Gt(r),t[r]=o}function Ay(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<o;){var c=31-Gt(o),f=1<<c;r[c]=0,a[c]=-1,t[c]=-1,o&=~f}}function Hl(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var a=31-Gt(o),c=1<<a;c&r|t[a]&r&&(t[a]|=r),o&=~c}}var Te=0;function Td(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Id,Yl,bd,Pd,Md,Ql=!1,$s=[],xn=null,En=null,kn=null,yi=new Map,vi=new Map,Nn=[],Oy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dd(t,r){switch(t){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":yi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":vi.delete(r.pointerId)}}function _i(t,r,o,a,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:o,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},r!==null&&(r=Ri(r),r!==null&&Yl(r)),t):(t.eventSystemFlags|=a,r=t.targetContainers,c!==null&&r.indexOf(c)===-1&&r.push(c),t)}function jy(t,r,o,a,c){switch(r){case"focusin":return xn=_i(xn,t,r,o,a,c),!0;case"dragenter":return En=_i(En,t,r,o,a,c),!0;case"mouseover":return kn=_i(kn,t,r,o,a,c),!0;case"pointerover":var f=c.pointerId;return yi.set(f,_i(yi.get(f)||null,t,r,o,a,c)),!0;case"gotpointercapture":return f=c.pointerId,vi.set(f,_i(vi.get(f)||null,t,r,o,a,c)),!0}return!1}function Rd(t){var r=er(t.target);if(r!==null){var o=Zn(r);if(o!==null){if(r=o.tag,r===13){if(r=vd(o),r!==null){t.blockedOn=r,Md(t.priority,function(){bd(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Us(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Kl(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var a=new o.constructor(o.type,o);Ll=a,o.target.dispatchEvent(a),Ll=null}else return r=Ri(o),r!==null&&Yl(r),t.blockedOn=o,!1;r.shift()}return!0}function Ad(t,r,o){Us(t)&&o.delete(r)}function Ly(){Ql=!1,xn!==null&&Us(xn)&&(xn=null),En!==null&&Us(En)&&(En=null),kn!==null&&Us(kn)&&(kn=null),yi.forEach(Ad),vi.forEach(Ad)}function wi(t,r){t.blockedOn===r&&(t.blockedOn=null,Ql||(Ql=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ly)))}function Ci(t){function r(c){return wi(c,t)}if(0<$s.length){wi($s[0],t);for(var o=1;o<$s.length;o++){var a=$s[o];a.blockedOn===t&&(a.blockedOn=null)}}for(xn!==null&&wi(xn,t),En!==null&&wi(En,t),kn!==null&&wi(kn,t),yi.forEach(r),vi.forEach(r),o=0;o<Nn.length;o++)a=Nn[o],a.blockedOn===t&&(a.blockedOn=null);for(;0<Nn.length&&(o=Nn[0],o.blockedOn===null);)Rd(o),o.blockedOn===null&&Nn.shift()}var Er=H.ReactCurrentBatchConfig,Gs=!0;function Fy(t,r,o,a){var c=Te,f=Er.transition;Er.transition=null;try{Te=1,ql(t,r,o,a)}finally{Te=c,Er.transition=f}}function zy(t,r,o,a){var c=Te,f=Er.transition;Er.transition=null;try{Te=4,ql(t,r,o,a)}finally{Te=c,Er.transition=f}}function ql(t,r,o,a){if(Gs){var c=Kl(t,r,o,a);if(c===null)ha(t,r,a,Vs,o),Dd(t,a);else if(jy(c,t,r,o,a))a.stopPropagation();else if(Dd(t,a),r&4&&-1<Oy.indexOf(t)){for(;c!==null;){var f=Ri(c);if(f!==null&&Id(f),f=Kl(t,r,o,a),f===null&&ha(t,r,a,Vs,o),f===c)break;c=f}c!==null&&a.stopPropagation()}else ha(t,r,a,null,o)}}var Vs=null;function Kl(t,r,o,a){if(Vs=null,t=Fl(a),t=er(t),t!==null)if(r=Zn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=vd(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Vs=t,null}function Od(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ny()){case Ul:return 1;case Ed:return 4;case Ls:case Ty:return 16;case kd:return 536870912;default:return 16}default:return 16}}var Tn=null,Xl=null,Hs=null;function jd(){if(Hs)return Hs;var t,r=Xl,o=r.length,a,c="value"in Tn?Tn.value:Tn.textContent,f=c.length;for(t=0;t<o&&r[t]===c[t];t++);var p=o-t;for(a=1;a<=p&&r[o-a]===c[f-a];a++);return Hs=c.slice(t,1<a?1-a:void 0)}function Ys(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Qs(){return!0}function Ld(){return!1}function Dt(t){function r(o,a,c,f,p){this._reactName=o,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(o=t[v],this[v]=o?o(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qs:Ld,this.isPropagationStopped=Ld,this}return B(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),r}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jl=Dt(kr),Si=B({},kr,{view:0,detail:0}),Wy=Dt(Si),Zl,ea,xi,qs=B({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Zl=t.screenX-xi.screenX,ea=t.screenY-xi.screenY):ea=Zl=0,xi=t),Zl)},movementY:function(t){return"movementY"in t?t.movementY:ea}}),Fd=Dt(qs),By=B({},qs,{dataTransfer:0}),$y=Dt(By),Uy=B({},Si,{relatedTarget:0}),ta=Dt(Uy),Gy=B({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Vy=Dt(Gy),Hy=B({},kr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yy=Dt(Hy),Qy=B({},kr,{data:0}),zd=Dt(Qy),qy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ky={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jy(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Xy[t])?!!r[t]:!1}function na(){return Jy}var Zy=B({},Si,{key:function(t){if(t.key){var r=qy[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ky[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(t){return t.type==="keypress"?Ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ev=Dt(Zy),tv=B({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wd=Dt(tv),nv=B({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),rv=Dt(nv),iv=B({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),sv=Dt(iv),ov=B({},qs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lv=Dt(ov),av=[9,13,27,32],ra=h&&"CompositionEvent"in window,Ei=null;h&&"documentMode"in document&&(Ei=document.documentMode);var uv=h&&"TextEvent"in window&&!Ei,Bd=h&&(!ra||Ei&&8<Ei&&11>=Ei),$d=" ",Ud=!1;function Gd(t,r){switch(t){case"keyup":return av.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nr=!1;function cv(t,r){switch(t){case"compositionend":return Vd(r);case"keypress":return r.which!==32?null:(Ud=!0,$d);case"textInput":return t=r.data,t===$d&&Ud?null:t;default:return null}}function dv(t,r){if(Nr)return t==="compositionend"||!ra&&Gd(t,r)?(t=jd(),Hs=Xl=Tn=null,Nr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Bd&&r.locale!=="ko"?null:r.data;default:return null}}var fv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!fv[t.type]:r==="textarea"}function Yd(t,r,o,a){hd(a),r=eo(r,"onChange"),0<r.length&&(o=new Jl("onChange","change",null,o,a),t.push({event:o,listeners:r}))}var ki=null,Ni=null;function hv(t){ff(t,0)}function Ks(t){var r=Mr(t);if(td(r))return t}function pv(t,r){if(t==="change")return r}var Qd=!1;if(h){var ia;if(h){var sa="oninput"in document;if(!sa){var qd=document.createElement("div");qd.setAttribute("oninput","return;"),sa=typeof qd.oninput=="function"}ia=sa}else ia=!1;Qd=ia&&(!document.documentMode||9<document.documentMode)}function Kd(){ki&&(ki.detachEvent("onpropertychange",Xd),Ni=ki=null)}function Xd(t){if(t.propertyName==="value"&&Ks(Ni)){var r=[];Yd(r,Ni,t,Fl(t)),yd(hv,r)}}function mv(t,r,o){t==="focusin"?(Kd(),ki=r,Ni=o,ki.attachEvent("onpropertychange",Xd)):t==="focusout"&&Kd()}function gv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ks(Ni)}function yv(t,r){if(t==="click")return Ks(r)}function vv(t,r){if(t==="input"||t==="change")return Ks(r)}function _v(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Vt=typeof Object.is=="function"?Object.is:_v;function Ti(t,r){if(Vt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),a=Object.keys(r);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var c=o[a];if(!m.call(r,c)||!Vt(t[c],r[c]))return!1}return!0}function Jd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zd(t,r){var o=Jd(t);t=0;for(var a;o;){if(o.nodeType===3){if(a=t+o.textContent.length,t<=r&&a>=r)return{node:o,offset:r-t};t=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Jd(o)}}function ef(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ef(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function tf(){for(var t=window,r=Rs();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Rs(t.document)}return r}function oa(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function wv(t){var r=tf(),o=t.focusedElem,a=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&ef(o.ownerDocument.documentElement,o)){if(a!==null&&oa(o)){if(r=a.start,t=a.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var c=o.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!t.extend&&f>a&&(c=a,a=f,f=c),c=Zd(o,f);var p=Zd(o,a);c&&p&&(t.rangeCount!==1||t.anchorNode!==c.node||t.anchorOffset!==c.offset||t.focusNode!==p.node||t.focusOffset!==p.offset)&&(r=r.createRange(),r.setStart(c.node,c.offset),t.removeAllRanges(),f>a?(t.addRange(r),t.extend(p.node,p.offset)):(r.setEnd(p.node,p.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Cv=h&&"documentMode"in document&&11>=document.documentMode,Tr=null,la=null,Ii=null,aa=!1;function nf(t,r,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;aa||Tr==null||Tr!==Rs(a)||(a=Tr,"selectionStart"in a&&oa(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ii&&Ti(Ii,a)||(Ii=a,a=eo(la,"onSelect"),0<a.length&&(r=new Jl("onSelect","select",null,r,o),t.push({event:r,listeners:a}),r.target=Tr)))}function Xs(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var Ir={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionend:Xs("Transition","TransitionEnd")},ua={},rf={};h&&(rf=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function Js(t){if(ua[t])return ua[t];if(!Ir[t])return t;var r=Ir[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in rf)return ua[t]=r[o];return t}var sf=Js("animationend"),of=Js("animationiteration"),lf=Js("animationstart"),af=Js("transitionend"),uf=new Map,cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(t,r){uf.set(t,r),u(r,[t])}for(var ca=0;ca<cf.length;ca++){var da=cf[ca],Sv=da.toLowerCase(),xv=da[0].toUpperCase()+da.slice(1);In(Sv,"on"+xv)}In(sf,"onAnimationEnd"),In(of,"onAnimationIteration"),In(lf,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(af,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ev=new Set("cancel close invalid load scroll toggle".split(" ").concat(bi));function df(t,r,o){var a=t.type||"unknown-event";t.currentTarget=o,Sy(a,r,void 0,t),t.currentTarget=null}function ff(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var a=t[o],c=a.event;a=a.listeners;e:{var f=void 0;if(r)for(var p=a.length-1;0<=p;p--){var v=a[p],S=v.instance,T=v.currentTarget;if(v=v.listener,S!==f&&c.isPropagationStopped())break e;df(c,v,T),f=S}else for(p=0;p<a.length;p++){if(v=a[p],S=v.instance,T=v.currentTarget,v=v.listener,S!==f&&c.isPropagationStopped())break e;df(c,v,T),f=S}}}if(js)throw t=$l,js=!1,$l=null,t}function je(t,r){var o=r[_a];o===void 0&&(o=r[_a]=new Set);var a=t+"__bubble";o.has(a)||(hf(r,t,2,!1),o.add(a))}function fa(t,r,o){var a=0;r&&(a|=4),hf(o,t,a,r)}var Zs="_reactListening"+Math.random().toString(36).slice(2);function Pi(t){if(!t[Zs]){t[Zs]=!0,s.forEach(function(o){o!=="selectionchange"&&(Ev.has(o)||fa(o,!1,t),fa(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Zs]||(r[Zs]=!0,fa("selectionchange",!1,r))}}function hf(t,r,o,a){switch(Od(r)){case 1:var c=Fy;break;case 4:c=zy;break;default:c=ql}o=c.bind(null,r,o,t),c=void 0,!Bl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(c=!0),a?c!==void 0?t.addEventListener(r,o,{capture:!0,passive:c}):t.addEventListener(r,o,!0):c!==void 0?t.addEventListener(r,o,{passive:c}):t.addEventListener(r,o,!1)}function ha(t,r,o,a,c){var f=a;if(!(r&1)&&!(r&2)&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var v=a.stateNode.containerInfo;if(v===c||v.nodeType===8&&v.parentNode===c)break;if(p===4)for(p=a.return;p!==null;){var S=p.tag;if((S===3||S===4)&&(S=p.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;p=p.return}for(;v!==null;){if(p=er(v),p===null)return;if(S=p.tag,S===5||S===6){a=f=p;continue e}v=v.parentNode}}a=a.return}yd(function(){var T=f,A=Fl(o),O=[];e:{var R=uf.get(t);if(R!==void 0){var $=Jl,V=t;switch(t){case"keypress":if(Ys(o)===0)break e;case"keydown":case"keyup":$=ev;break;case"focusin":V="focus",$=ta;break;case"focusout":V="blur",$=ta;break;case"beforeblur":case"afterblur":$=ta;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=$y;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=rv;break;case sf:case of:case lf:$=Vy;break;case af:$=sv;break;case"scroll":$=Wy;break;case"wheel":$=lv;break;case"copy":case"cut":case"paste":$=Yy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Wd}var Y=(r&4)!==0,Ye=!Y&&t==="scroll",k=Y?R!==null?R+"Capture":null:R;Y=[];for(var x=T,N;x!==null;){N=x;var j=N.stateNode;if(N.tag===5&&j!==null&&(N=j,k!==null&&(j=fi(x,k),j!=null&&Y.push(Mi(x,j,N)))),Ye)break;x=x.return}0<Y.length&&(R=new $(R,V,null,o,A),O.push({event:R,listeners:Y}))}}if(!(r&7)){e:{if(R=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",R&&o!==Ll&&(V=o.relatedTarget||o.fromElement)&&(er(V)||V[an]))break e;if(($||R)&&(R=A.window===A?A:(R=A.ownerDocument)?R.defaultView||R.parentWindow:window,$?(V=o.relatedTarget||o.toElement,$=T,V=V?er(V):null,V!==null&&(Ye=Zn(V),V!==Ye||V.tag!==5&&V.tag!==6)&&(V=null)):($=null,V=T),$!==V)){if(Y=Fd,j="onMouseLeave",k="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(Y=Wd,j="onPointerLeave",k="onPointerEnter",x="pointer"),Ye=$==null?R:Mr($),N=V==null?R:Mr(V),R=new Y(j,x+"leave",$,o,A),R.target=Ye,R.relatedTarget=N,j=null,er(A)===T&&(Y=new Y(k,x+"enter",V,o,A),Y.target=N,Y.relatedTarget=Ye,j=Y),Ye=j,$&&V)t:{for(Y=$,k=V,x=0,N=Y;N;N=br(N))x++;for(N=0,j=k;j;j=br(j))N++;for(;0<x-N;)Y=br(Y),x--;for(;0<N-x;)k=br(k),N--;for(;x--;){if(Y===k||k!==null&&Y===k.alternate)break t;Y=br(Y),k=br(k)}Y=null}else Y=null;$!==null&&pf(O,R,$,Y,!1),V!==null&&Ye!==null&&pf(O,Ye,V,Y,!0)}}e:{if(R=T?Mr(T):window,$=R.nodeName&&R.nodeName.toLowerCase(),$==="select"||$==="input"&&R.type==="file")var q=pv;else if(Hd(R))if(Qd)q=vv;else{q=gv;var ee=mv}else($=R.nodeName)&&$.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(q=yv);if(q&&(q=q(t,T))){Yd(O,q,o,A);break e}ee&&ee(t,R,T),t==="focusout"&&(ee=R._wrapperState)&&ee.controlled&&R.type==="number"&&Dl(R,"number",R.value)}switch(ee=T?Mr(T):window,t){case"focusin":(Hd(ee)||ee.contentEditable==="true")&&(Tr=ee,la=T,Ii=null);break;case"focusout":Ii=la=Tr=null;break;case"mousedown":aa=!0;break;case"contextmenu":case"mouseup":case"dragend":aa=!1,nf(O,o,A);break;case"selectionchange":if(Cv)break;case"keydown":case"keyup":nf(O,o,A)}var te;if(ra)e:{switch(t){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Nr?Gd(t,o)&&(se="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(se="onCompositionStart");se&&(Bd&&o.locale!=="ko"&&(Nr||se!=="onCompositionStart"?se==="onCompositionEnd"&&Nr&&(te=jd()):(Tn=A,Xl="value"in Tn?Tn.value:Tn.textContent,Nr=!0)),ee=eo(T,se),0<ee.length&&(se=new zd(se,t,null,o,A),O.push({event:se,listeners:ee}),te?se.data=te:(te=Vd(o),te!==null&&(se.data=te)))),(te=uv?cv(t,o):dv(t,o))&&(T=eo(T,"onBeforeInput"),0<T.length&&(A=new zd("onBeforeInput","beforeinput",null,o,A),O.push({event:A,listeners:T}),A.data=te))}ff(O,r)})}function Mi(t,r,o){return{instance:t,listener:r,currentTarget:o}}function eo(t,r){for(var o=r+"Capture",a=[];t!==null;){var c=t,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=fi(t,o),f!=null&&a.unshift(Mi(t,f,c)),f=fi(t,r),f!=null&&a.push(Mi(t,f,c))),t=t.return}return a}function br(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pf(t,r,o,a,c){for(var f=r._reactName,p=[];o!==null&&o!==a;){var v=o,S=v.alternate,T=v.stateNode;if(S!==null&&S===a)break;v.tag===5&&T!==null&&(v=T,c?(S=fi(o,f),S!=null&&p.unshift(Mi(o,S,v))):c||(S=fi(o,f),S!=null&&p.push(Mi(o,S,v)))),o=o.return}p.length!==0&&t.push({event:r,listeners:p})}var kv=/\r\n?/g,Nv=/\u0000|\uFFFD/g;function mf(t){return(typeof t=="string"?t:""+t).replace(kv,`
`).replace(Nv,"")}function to(t,r,o){if(r=mf(r),mf(t)!==r&&o)throw Error(n(425))}function no(){}var pa=null,ma=null;function ga(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ya=typeof setTimeout=="function"?setTimeout:void 0,Tv=typeof clearTimeout=="function"?clearTimeout:void 0,gf=typeof Promise=="function"?Promise:void 0,Iv=typeof queueMicrotask=="function"?queueMicrotask:typeof gf<"u"?function(t){return gf.resolve(null).then(t).catch(bv)}:ya;function bv(t){setTimeout(function(){throw t})}function va(t,r){var o=r,a=0;do{var c=o.nextSibling;if(t.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(a===0){t.removeChild(c),Ci(r);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=c}while(o);Ci(r)}function bn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function yf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Pr=Math.random().toString(36).slice(2),nn="__reactFiber$"+Pr,Di="__reactProps$"+Pr,an="__reactContainer$"+Pr,_a="__reactEvents$"+Pr,Pv="__reactListeners$"+Pr,Mv="__reactHandles$"+Pr;function er(t){var r=t[nn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[an]||o[nn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=yf(t);t!==null;){if(o=t[nn])return o;t=yf(t)}return r}t=o,o=t.parentNode}return null}function Ri(t){return t=t[nn]||t[an],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function ro(t){return t[Di]||null}var wa=[],Dr=-1;function Pn(t){return{current:t}}function Le(t){0>Dr||(t.current=wa[Dr],wa[Dr]=null,Dr--)}function De(t,r){Dr++,wa[Dr]=t.current,t.current=r}var Mn={},ft=Pn(Mn),St=Pn(!1),tr=Mn;function Rr(t,r){var o=t.type.contextTypes;if(!o)return Mn;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in o)c[f]=r[f];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=c),c}function xt(t){return t=t.childContextTypes,t!=null}function io(){Le(St),Le(ft)}function vf(t,r,o){if(ft.current!==Mn)throw Error(n(168));De(ft,r),De(St,o)}function _f(t,r,o){var a=t.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var c in a)if(!(c in r))throw Error(n(108,oe(t)||"Unknown",c));return B({},o,a)}function so(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mn,tr=ft.current,De(ft,t),De(St,St.current),!0}function wf(t,r,o){var a=t.stateNode;if(!a)throw Error(n(169));o?(t=_f(t,r,tr),a.__reactInternalMemoizedMergedChildContext=t,Le(St),Le(ft),De(ft,t)):Le(St),De(St,o)}var un=null,oo=!1,Ca=!1;function Cf(t){un===null?un=[t]:un.push(t)}function Dv(t){oo=!0,Cf(t)}function Dn(){if(!Ca&&un!==null){Ca=!0;var t=0,r=Te;try{var o=un;for(Te=1;t<o.length;t++){var a=o[t];do a=a(!0);while(a!==null)}un=null,oo=!1}catch(c){throw un!==null&&(un=un.slice(t+1)),Sd(Ul,Dn),c}finally{Te=r,Ca=!1}}return null}var Ar=[],Or=0,lo=null,ao=0,jt=[],Lt=0,nr=null,cn=1,dn="";function rr(t,r){Ar[Or++]=ao,Ar[Or++]=lo,lo=t,ao=r}function Sf(t,r,o){jt[Lt++]=cn,jt[Lt++]=dn,jt[Lt++]=nr,nr=t;var a=cn;t=dn;var c=32-Gt(a)-1;a&=~(1<<c),o+=1;var f=32-Gt(r)+c;if(30<f){var p=c-c%5;f=(a&(1<<p)-1).toString(32),a>>=p,c-=p,cn=1<<32-Gt(r)+c|o<<c|a,dn=f+t}else cn=1<<f|o<<c|a,dn=t}function Sa(t){t.return!==null&&(rr(t,1),Sf(t,1,0))}function xa(t){for(;t===lo;)lo=Ar[--Or],Ar[Or]=null,ao=Ar[--Or],Ar[Or]=null;for(;t===nr;)nr=jt[--Lt],jt[Lt]=null,dn=jt[--Lt],jt[Lt]=null,cn=jt[--Lt],jt[Lt]=null}var Rt=null,At=null,We=!1,Ht=null;function xf(t,r){var o=Bt(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Ef(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Rt=t,At=bn(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Rt=t,At=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=nr!==null?{id:cn,overflow:dn}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Bt(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Rt=t,At=null,!0):!1;default:return!1}}function Ea(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ka(t){if(We){var r=At;if(r){var o=r;if(!Ef(t,r)){if(Ea(t))throw Error(n(418));r=bn(o.nextSibling);var a=Rt;r&&Ef(t,r)?xf(a,o):(t.flags=t.flags&-4097|2,We=!1,Rt=t)}}else{if(Ea(t))throw Error(n(418));t.flags=t.flags&-4097|2,We=!1,Rt=t}}}function kf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rt=t}function uo(t){if(t!==Rt)return!1;if(!We)return kf(t),We=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!ga(t.type,t.memoizedProps)),r&&(r=At)){if(Ea(t))throw Nf(),Error(n(418));for(;r;)xf(t,r),r=bn(r.nextSibling)}if(kf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){At=bn(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}At=null}}else At=Rt?bn(t.stateNode.nextSibling):null;return!0}function Nf(){for(var t=At;t;)t=bn(t.nextSibling)}function jr(){At=Rt=null,We=!1}function Na(t){Ht===null?Ht=[t]:Ht.push(t)}var Rv=H.ReactCurrentBatchConfig;function Ai(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var a=o.stateNode}if(!a)throw Error(n(147,t));var c=a,f=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===f?r.ref:(r=function(p){var v=c.refs;p===null?delete v[f]:v[f]=p},r._stringRef=f,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function co(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Tf(t){var r=t._init;return r(t._payload)}function If(t){function r(k,x){if(t){var N=k.deletions;N===null?(k.deletions=[x],k.flags|=16):N.push(x)}}function o(k,x){if(!t)return null;for(;x!==null;)r(k,x),x=x.sibling;return null}function a(k,x){for(k=new Map;x!==null;)x.key!==null?k.set(x.key,x):k.set(x.index,x),x=x.sibling;return k}function c(k,x){return k=Wn(k,x),k.index=0,k.sibling=null,k}function f(k,x,N){return k.index=N,t?(N=k.alternate,N!==null?(N=N.index,N<x?(k.flags|=2,x):N):(k.flags|=2,x)):(k.flags|=1048576,x)}function p(k){return t&&k.alternate===null&&(k.flags|=2),k}function v(k,x,N,j){return x===null||x.tag!==6?(x=yu(N,k.mode,j),x.return=k,x):(x=c(x,N),x.return=k,x)}function S(k,x,N,j){var q=N.type;return q===ge?A(k,x,N.props.children,j,N.key):x!==null&&(x.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ce&&Tf(q)===x.type)?(j=c(x,N.props),j.ref=Ai(k,x,N),j.return=k,j):(j=Oo(N.type,N.key,N.props,null,k.mode,j),j.ref=Ai(k,x,N),j.return=k,j)}function T(k,x,N,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=vu(N,k.mode,j),x.return=k,x):(x=c(x,N.children||[]),x.return=k,x)}function A(k,x,N,j,q){return x===null||x.tag!==7?(x=dr(N,k.mode,j,q),x.return=k,x):(x=c(x,N),x.return=k,x)}function O(k,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return x=yu(""+x,k.mode,N),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case F:return N=Oo(x.type,x.key,x.props,null,k.mode,N),N.ref=Ai(k,null,x),N.return=k,N;case re:return x=vu(x,k.mode,N),x.return=k,x;case Ce:var j=x._init;return O(k,j(x._payload),N)}if(ui(x)||G(x))return x=dr(x,k.mode,N,null),x.return=k,x;co(k,x)}return null}function R(k,x,N,j){var q=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return q!==null?null:v(k,x,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case F:return N.key===q?S(k,x,N,j):null;case re:return N.key===q?T(k,x,N,j):null;case Ce:return q=N._init,R(k,x,q(N._payload),j)}if(ui(N)||G(N))return q!==null?null:A(k,x,N,j,null);co(k,N)}return null}function $(k,x,N,j,q){if(typeof j=="string"&&j!==""||typeof j=="number")return k=k.get(N)||null,v(x,k,""+j,q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case F:return k=k.get(j.key===null?N:j.key)||null,S(x,k,j,q);case re:return k=k.get(j.key===null?N:j.key)||null,T(x,k,j,q);case Ce:var ee=j._init;return $(k,x,N,ee(j._payload),q)}if(ui(j)||G(j))return k=k.get(N)||null,A(x,k,j,q,null);co(x,j)}return null}function V(k,x,N,j){for(var q=null,ee=null,te=x,se=x=0,it=null;te!==null&&se<N.length;se++){te.index>se?(it=te,te=null):it=te.sibling;var xe=R(k,te,N[se],j);if(xe===null){te===null&&(te=it);break}t&&te&&xe.alternate===null&&r(k,te),x=f(xe,x,se),ee===null?q=xe:ee.sibling=xe,ee=xe,te=it}if(se===N.length)return o(k,te),We&&rr(k,se),q;if(te===null){for(;se<N.length;se++)te=O(k,N[se],j),te!==null&&(x=f(te,x,se),ee===null?q=te:ee.sibling=te,ee=te);return We&&rr(k,se),q}for(te=a(k,te);se<N.length;se++)it=$(te,k,se,N[se],j),it!==null&&(t&&it.alternate!==null&&te.delete(it.key===null?se:it.key),x=f(it,x,se),ee===null?q=it:ee.sibling=it,ee=it);return t&&te.forEach(function(Bn){return r(k,Bn)}),We&&rr(k,se),q}function Y(k,x,N,j){var q=G(N);if(typeof q!="function")throw Error(n(150));if(N=q.call(N),N==null)throw Error(n(151));for(var ee=q=null,te=x,se=x=0,it=null,xe=N.next();te!==null&&!xe.done;se++,xe=N.next()){te.index>se?(it=te,te=null):it=te.sibling;var Bn=R(k,te,xe.value,j);if(Bn===null){te===null&&(te=it);break}t&&te&&Bn.alternate===null&&r(k,te),x=f(Bn,x,se),ee===null?q=Bn:ee.sibling=Bn,ee=Bn,te=it}if(xe.done)return o(k,te),We&&rr(k,se),q;if(te===null){for(;!xe.done;se++,xe=N.next())xe=O(k,xe.value,j),xe!==null&&(x=f(xe,x,se),ee===null?q=xe:ee.sibling=xe,ee=xe);return We&&rr(k,se),q}for(te=a(k,te);!xe.done;se++,xe=N.next())xe=$(te,k,se,xe.value,j),xe!==null&&(t&&xe.alternate!==null&&te.delete(xe.key===null?se:xe.key),x=f(xe,x,se),ee===null?q=xe:ee.sibling=xe,ee=xe);return t&&te.forEach(function(f_){return r(k,f_)}),We&&rr(k,se),q}function Ye(k,x,N,j){if(typeof N=="object"&&N!==null&&N.type===ge&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case F:e:{for(var q=N.key,ee=x;ee!==null;){if(ee.key===q){if(q=N.type,q===ge){if(ee.tag===7){o(k,ee.sibling),x=c(ee,N.props.children),x.return=k,k=x;break e}}else if(ee.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ce&&Tf(q)===ee.type){o(k,ee.sibling),x=c(ee,N.props),x.ref=Ai(k,ee,N),x.return=k,k=x;break e}o(k,ee);break}else r(k,ee);ee=ee.sibling}N.type===ge?(x=dr(N.props.children,k.mode,j,N.key),x.return=k,k=x):(j=Oo(N.type,N.key,N.props,null,k.mode,j),j.ref=Ai(k,x,N),j.return=k,k=j)}return p(k);case re:e:{for(ee=N.key;x!==null;){if(x.key===ee)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){o(k,x.sibling),x=c(x,N.children||[]),x.return=k,k=x;break e}else{o(k,x);break}else r(k,x);x=x.sibling}x=vu(N,k.mode,j),x.return=k,k=x}return p(k);case Ce:return ee=N._init,Ye(k,x,ee(N._payload),j)}if(ui(N))return V(k,x,N,j);if(G(N))return Y(k,x,N,j);co(k,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,x!==null&&x.tag===6?(o(k,x.sibling),x=c(x,N),x.return=k,k=x):(o(k,x),x=yu(N,k.mode,j),x.return=k,k=x),p(k)):o(k,x)}return Ye}var Lr=If(!0),bf=If(!1),fo=Pn(null),ho=null,Fr=null,Ta=null;function Ia(){Ta=Fr=ho=null}function ba(t){var r=fo.current;Le(fo),t._currentValue=r}function Pa(t,r,o){for(;t!==null;){var a=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),t===o)break;t=t.return}}function zr(t,r){ho=t,Ta=Fr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Et=!0),t.firstContext=null)}function Ft(t){var r=t._currentValue;if(Ta!==t)if(t={context:t,memoizedValue:r,next:null},Fr===null){if(ho===null)throw Error(n(308));Fr=t,ho.dependencies={lanes:0,firstContext:t}}else Fr=Fr.next=t;return r}var ir=null;function Ma(t){ir===null?ir=[t]:ir.push(t)}function Pf(t,r,o,a){var c=r.interleaved;return c===null?(o.next=o,Ma(r)):(o.next=c.next,c.next=o),r.interleaved=o,fn(t,a)}function fn(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Rn=!1;function Da(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hn(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function An(t,r,o){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,Se&2){var c=a.pending;return c===null?r.next=r:(r.next=c.next,c.next=r),a.pending=r,fn(t,o)}return c=a.interleaved,c===null?(r.next=r,Ma(a)):(r.next=c.next,c.next=r),a.interleaved=r,fn(t,o)}function po(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var a=r.lanes;a&=t.pendingLanes,o|=a,r.lanes=o,Hl(t,o)}}function Df(t,r){var o=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var c=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var p={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?c=f=p:f=f.next=p,o=o.next}while(o!==null);f===null?c=f=r:f=f.next=r}else c=f=r;o={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function mo(t,r,o,a){var c=t.updateQueue;Rn=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var S=v,T=S.next;S.next=null,p===null?f=T:p.next=T,p=S;var A=t.alternate;A!==null&&(A=A.updateQueue,v=A.lastBaseUpdate,v!==p&&(v===null?A.firstBaseUpdate=T:v.next=T,A.lastBaseUpdate=S))}if(f!==null){var O=c.baseState;p=0,A=T=S=null,v=f;do{var R=v.lane,$=v.eventTime;if((a&R)===R){A!==null&&(A=A.next={eventTime:$,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var V=t,Y=v;switch(R=r,$=o,Y.tag){case 1:if(V=Y.payload,typeof V=="function"){O=V.call($,O,R);break e}O=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=Y.payload,R=typeof V=="function"?V.call($,O,R):V,R==null)break e;O=B({},O,R);break e;case 2:Rn=!0}}v.callback!==null&&v.lane!==0&&(t.flags|=64,R=c.effects,R===null?c.effects=[v]:R.push(v))}else $={eventTime:$,lane:R,tag:v.tag,payload:v.payload,callback:v.callback,next:null},A===null?(T=A=$,S=O):A=A.next=$,p|=R;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;R=v,v=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);if(A===null&&(S=O),c.baseState=S,c.firstBaseUpdate=T,c.lastBaseUpdate=A,r=c.shared.interleaved,r!==null){c=r;do p|=c.lane,c=c.next;while(c!==r)}else f===null&&(c.shared.lanes=0);lr|=p,t.lanes=p,t.memoizedState=O}}function Rf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var a=t[r],c=a.callback;if(c!==null){if(a.callback=null,a=o,typeof c!="function")throw Error(n(191,c));c.call(a)}}}var Oi={},rn=Pn(Oi),ji=Pn(Oi),Li=Pn(Oi);function sr(t){if(t===Oi)throw Error(n(174));return t}function Ra(t,r){switch(De(Li,r),De(ji,t),De(rn,Oi),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Al(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Al(r,t)}Le(rn),De(rn,r)}function Wr(){Le(rn),Le(ji),Le(Li)}function Af(t){sr(Li.current);var r=sr(rn.current),o=Al(r,t.type);r!==o&&(De(ji,t),De(rn,o))}function Aa(t){ji.current===t&&(Le(rn),Le(ji))}var Be=Pn(0);function go(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Oa=[];function ja(){for(var t=0;t<Oa.length;t++)Oa[t]._workInProgressVersionPrimary=null;Oa.length=0}var yo=H.ReactCurrentDispatcher,La=H.ReactCurrentBatchConfig,or=0,$e=null,Je=null,nt=null,vo=!1,Fi=!1,zi=0,Av=0;function ht(){throw Error(n(321))}function Fa(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Vt(t[o],r[o]))return!1;return!0}function za(t,r,o,a,c,f){if(or=f,$e=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,yo.current=t===null||t.memoizedState===null?Fv:zv,t=o(a,c),Fi){f=0;do{if(Fi=!1,zi=0,25<=f)throw Error(n(301));f+=1,nt=Je=null,r.updateQueue=null,yo.current=Wv,t=o(a,c)}while(Fi)}if(yo.current=Co,r=Je!==null&&Je.next!==null,or=0,nt=Je=$e=null,vo=!1,r)throw Error(n(300));return t}function Wa(){var t=zi!==0;return zi=0,t}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?$e.memoizedState=nt=t:nt=nt.next=t,nt}function zt(){if(Je===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var r=nt===null?$e.memoizedState:nt.next;if(r!==null)nt=r,Je=t;else{if(t===null)throw Error(n(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},nt===null?$e.memoizedState=nt=t:nt=nt.next=t}return nt}function Wi(t,r){return typeof r=="function"?r(t):r}function Ba(t){var r=zt(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var a=Je,c=a.baseQueue,f=o.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}a.baseQueue=c=f,o.pending=null}if(c!==null){f=c.next,a=a.baseState;var v=p=null,S=null,T=f;do{var A=T.lane;if((or&A)===A)S!==null&&(S=S.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),a=T.hasEagerState?T.eagerState:t(a,T.action);else{var O={lane:A,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};S===null?(v=S=O,p=a):S=S.next=O,$e.lanes|=A,lr|=A}T=T.next}while(T!==null&&T!==f);S===null?p=a:S.next=v,Vt(a,r.memoizedState)||(Et=!0),r.memoizedState=a,r.baseState=p,r.baseQueue=S,o.lastRenderedState=a}if(t=o.interleaved,t!==null){c=t;do f=c.lane,$e.lanes|=f,lr|=f,c=c.next;while(c!==t)}else c===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function $a(t){var r=zt(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var a=o.dispatch,c=o.pending,f=r.memoizedState;if(c!==null){o.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);Vt(f,r.memoizedState)||(Et=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),o.lastRenderedState=f}return[f,a]}function Of(){}function jf(t,r){var o=$e,a=zt(),c=r(),f=!Vt(a.memoizedState,c);if(f&&(a.memoizedState=c,Et=!0),a=a.queue,Ua(zf.bind(null,o,a,t),[t]),a.getSnapshot!==r||f||nt!==null&&nt.memoizedState.tag&1){if(o.flags|=2048,Bi(9,Ff.bind(null,o,a,c,r),void 0,null),rt===null)throw Error(n(349));or&30||Lf(o,r,c)}return c}function Lf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=$e.updateQueue,r===null?(r={lastEffect:null,stores:null},$e.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Ff(t,r,o,a){r.value=o,r.getSnapshot=a,Wf(r)&&Bf(t)}function zf(t,r,o){return o(function(){Wf(r)&&Bf(t)})}function Wf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Vt(t,o)}catch{return!0}}function Bf(t){var r=fn(t,1);r!==null&&Kt(r,t,1,-1)}function $f(t){var r=sn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},r.queue=t,t=t.dispatch=Lv.bind(null,$e,t),[r.memoizedState,t]}function Bi(t,r,o,a){return t={tag:t,create:r,destroy:o,deps:a,next:null},r=$e.updateQueue,r===null?(r={lastEffect:null,stores:null},$e.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(a=o.next,o.next=t,t.next=a,r.lastEffect=t)),t}function Uf(){return zt().memoizedState}function _o(t,r,o,a){var c=sn();$e.flags|=t,c.memoizedState=Bi(1|r,o,void 0,a===void 0?null:a)}function wo(t,r,o,a){var c=zt();a=a===void 0?null:a;var f=void 0;if(Je!==null){var p=Je.memoizedState;if(f=p.destroy,a!==null&&Fa(a,p.deps)){c.memoizedState=Bi(r,o,f,a);return}}$e.flags|=t,c.memoizedState=Bi(1|r,o,f,a)}function Gf(t,r){return _o(8390656,8,t,r)}function Ua(t,r){return wo(2048,8,t,r)}function Vf(t,r){return wo(4,2,t,r)}function Hf(t,r){return wo(4,4,t,r)}function Yf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Qf(t,r,o){return o=o!=null?o.concat([t]):null,wo(4,4,Yf.bind(null,r,t),o)}function Ga(){}function qf(t,r){var o=zt();r=r===void 0?null:r;var a=o.memoizedState;return a!==null&&r!==null&&Fa(r,a[1])?a[0]:(o.memoizedState=[t,r],t)}function Kf(t,r){var o=zt();r=r===void 0?null:r;var a=o.memoizedState;return a!==null&&r!==null&&Fa(r,a[1])?a[0]:(t=t(),o.memoizedState=[t,r],t)}function Xf(t,r,o){return or&21?(Vt(o,r)||(o=Nd(),$e.lanes|=o,lr|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Et=!0),t.memoizedState=o)}function Ov(t,r){var o=Te;Te=o!==0&&4>o?o:4,t(!0);var a=La.transition;La.transition={};try{t(!1),r()}finally{Te=o,La.transition=a}}function Jf(){return zt().memoizedState}function jv(t,r,o){var a=Fn(t);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},Zf(t))eh(r,o);else if(o=Pf(t,r,o,a),o!==null){var c=vt();Kt(o,t,a,c),th(o,r,a)}}function Lv(t,r,o){var a=Fn(t),c={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(Zf(t))eh(r,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var p=r.lastRenderedState,v=f(p,o);if(c.hasEagerState=!0,c.eagerState=v,Vt(v,p)){var S=r.interleaved;S===null?(c.next=c,Ma(r)):(c.next=S.next,S.next=c),r.interleaved=c;return}}catch{}finally{}o=Pf(t,r,c,a),o!==null&&(c=vt(),Kt(o,t,a,c),th(o,r,a))}}function Zf(t){var r=t.alternate;return t===$e||r!==null&&r===$e}function eh(t,r){Fi=vo=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function th(t,r,o){if(o&4194240){var a=r.lanes;a&=t.pendingLanes,o|=a,r.lanes=o,Hl(t,o)}}var Co={readContext:Ft,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},Fv={readContext:Ft,useCallback:function(t,r){return sn().memoizedState=[t,r===void 0?null:r],t},useContext:Ft,useEffect:Gf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,_o(4194308,4,Yf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return _o(4194308,4,t,r)},useInsertionEffect:function(t,r){return _o(4,2,t,r)},useMemo:function(t,r){var o=sn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var a=sn();return r=o!==void 0?o(r):r,a.memoizedState=a.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},a.queue=t,t=t.dispatch=jv.bind(null,$e,t),[a.memoizedState,t]},useRef:function(t){var r=sn();return t={current:t},r.memoizedState=t},useState:$f,useDebugValue:Ga,useDeferredValue:function(t){return sn().memoizedState=t},useTransition:function(){var t=$f(!1),r=t[0];return t=Ov.bind(null,t[1]),sn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var a=$e,c=sn();if(We){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),rt===null)throw Error(n(349));or&30||Lf(a,r,o)}c.memoizedState=o;var f={value:o,getSnapshot:r};return c.queue=f,Gf(zf.bind(null,a,f,t),[t]),a.flags|=2048,Bi(9,Ff.bind(null,a,f,o,r),void 0,null),o},useId:function(){var t=sn(),r=rt.identifierPrefix;if(We){var o=dn,a=cn;o=(a&~(1<<32-Gt(a)-1)).toString(32)+o,r=":"+r+"R"+o,o=zi++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Av++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},zv={readContext:Ft,useCallback:qf,useContext:Ft,useEffect:Ua,useImperativeHandle:Qf,useInsertionEffect:Vf,useLayoutEffect:Hf,useMemo:Kf,useReducer:Ba,useRef:Uf,useState:function(){return Ba(Wi)},useDebugValue:Ga,useDeferredValue:function(t){var r=zt();return Xf(r,Je.memoizedState,t)},useTransition:function(){var t=Ba(Wi)[0],r=zt().memoizedState;return[t,r]},useMutableSource:Of,useSyncExternalStore:jf,useId:Jf,unstable_isNewReconciler:!1},Wv={readContext:Ft,useCallback:qf,useContext:Ft,useEffect:Ua,useImperativeHandle:Qf,useInsertionEffect:Vf,useLayoutEffect:Hf,useMemo:Kf,useReducer:$a,useRef:Uf,useState:function(){return $a(Wi)},useDebugValue:Ga,useDeferredValue:function(t){var r=zt();return Je===null?r.memoizedState=t:Xf(r,Je.memoizedState,t)},useTransition:function(){var t=$a(Wi)[0],r=zt().memoizedState;return[t,r]},useMutableSource:Of,useSyncExternalStore:jf,useId:Jf,unstable_isNewReconciler:!1};function Yt(t,r){if(t&&t.defaultProps){r=B({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Va(t,r,o,a){r=t.memoizedState,o=o(a,r),o=o==null?r:B({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var So={isMounted:function(t){return(t=t._reactInternals)?Zn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var a=vt(),c=Fn(t),f=hn(a,c);f.payload=r,o!=null&&(f.callback=o),r=An(t,f,c),r!==null&&(Kt(r,t,c,a),po(r,t,c))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var a=vt(),c=Fn(t),f=hn(a,c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=An(t,f,c),r!==null&&(Kt(r,t,c,a),po(r,t,c))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=vt(),a=Fn(t),c=hn(o,a);c.tag=2,r!=null&&(c.callback=r),r=An(t,c,a),r!==null&&(Kt(r,t,a,o),po(r,t,a))}};function nh(t,r,o,a,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,f,p):r.prototype&&r.prototype.isPureReactComponent?!Ti(o,a)||!Ti(c,f):!0}function rh(t,r,o){var a=!1,c=Mn,f=r.contextType;return typeof f=="object"&&f!==null?f=Ft(f):(c=xt(r)?tr:ft.current,a=r.contextTypes,f=(a=a!=null)?Rr(t,c):Mn),r=new r(o,f),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=So,t.stateNode=r,r._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=c,t.__reactInternalMemoizedMaskedChildContext=f),r}function ih(t,r,o,a){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,a),r.state!==t&&So.enqueueReplaceState(r,r.state,null)}function Ha(t,r,o,a){var c=t.stateNode;c.props=o,c.state=t.memoizedState,c.refs={},Da(t);var f=r.contextType;typeof f=="object"&&f!==null?c.context=Ft(f):(f=xt(r)?tr:ft.current,c.context=Rr(t,f)),c.state=t.memoizedState,f=r.getDerivedStateFromProps,typeof f=="function"&&(Va(t,r,f,o),c.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(r=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),r!==c.state&&So.enqueueReplaceState(c,c.state,null),mo(t,o,c,a),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308)}function Br(t,r){try{var o="",a=r;do o+=_e(a),a=a.return;while(a);var c=o}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:r,stack:c,digest:null}}function Ya(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Qa(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Bv=typeof WeakMap=="function"?WeakMap:Map;function sh(t,r,o){o=hn(-1,o),o.tag=3,o.payload={element:null};var a=r.value;return o.callback=function(){bo||(bo=!0,uu=a),Qa(t,r)},o}function oh(t,r,o){o=hn(-1,o),o.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var c=r.value;o.payload=function(){return a(c)},o.callback=function(){Qa(t,r)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){Qa(t,r),typeof a!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var p=r.stack;this.componentDidCatch(r.value,{componentStack:p!==null?p:""})}),o}function lh(t,r,o){var a=t.pingCache;if(a===null){a=t.pingCache=new Bv;var c=new Set;a.set(r,c)}else c=a.get(r),c===void 0&&(c=new Set,a.set(r,c));c.has(o)||(c.add(o),t=t_.bind(null,t,r,o),r.then(t,t))}function ah(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function uh(t,r,o,a,c){return t.mode&1?(t.flags|=65536,t.lanes=c,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=hn(-1,1),r.tag=2,An(o,r,1))),o.lanes|=1),t)}var $v=H.ReactCurrentOwner,Et=!1;function yt(t,r,o,a){r.child=t===null?bf(r,null,o,a):Lr(r,t.child,o,a)}function ch(t,r,o,a,c){o=o.render;var f=r.ref;return zr(r,c),a=za(t,r,o,a,f,c),o=Wa(),t!==null&&!Et?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~c,pn(t,r,c)):(We&&o&&Sa(r),r.flags|=1,yt(t,r,a,c),r.child)}function dh(t,r,o,a,c){if(t===null){var f=o.type;return typeof f=="function"&&!gu(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=f,fh(t,r,f,a,c)):(t=Oo(o.type,null,a,r,r.mode,c),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!(t.lanes&c)){var p=f.memoizedProps;if(o=o.compare,o=o!==null?o:Ti,o(p,a)&&t.ref===r.ref)return pn(t,r,c)}return r.flags|=1,t=Wn(f,a),t.ref=r.ref,t.return=r,r.child=t}function fh(t,r,o,a,c){if(t!==null){var f=t.memoizedProps;if(Ti(f,a)&&t.ref===r.ref)if(Et=!1,r.pendingProps=a=f,(t.lanes&c)!==0)t.flags&131072&&(Et=!0);else return r.lanes=t.lanes,pn(t,r,c)}return qa(t,r,o,a,c)}function hh(t,r,o){var a=r.pendingProps,c=a.children,f=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Ur,Ot),Ot|=o;else{if(!(o&1073741824))return t=f!==null?f.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,De(Ur,Ot),Ot|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:o,De(Ur,Ot),Ot|=a}else f!==null?(a=f.baseLanes|o,r.memoizedState=null):a=o,De(Ur,Ot),Ot|=a;return yt(t,r,c,o),r.child}function ph(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function qa(t,r,o,a,c){var f=xt(o)?tr:ft.current;return f=Rr(r,f),zr(r,c),o=za(t,r,o,a,f,c),a=Wa(),t!==null&&!Et?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~c,pn(t,r,c)):(We&&a&&Sa(r),r.flags|=1,yt(t,r,o,c),r.child)}function mh(t,r,o,a,c){if(xt(o)){var f=!0;so(r)}else f=!1;if(zr(r,c),r.stateNode===null)Eo(t,r),rh(r,o,a),Ha(r,o,a,c),a=!0;else if(t===null){var p=r.stateNode,v=r.memoizedProps;p.props=v;var S=p.context,T=o.contextType;typeof T=="object"&&T!==null?T=Ft(T):(T=xt(o)?tr:ft.current,T=Rr(r,T));var A=o.getDerivedStateFromProps,O=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function";O||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==a||S!==T)&&ih(r,p,a,T),Rn=!1;var R=r.memoizedState;p.state=R,mo(r,a,p,c),S=r.memoizedState,v!==a||R!==S||St.current||Rn?(typeof A=="function"&&(Va(r,o,A,a),S=r.memoizedState),(v=Rn||nh(r,o,v,a,R,S,T))?(O||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=S),p.props=a,p.state=S,p.context=T,a=v):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{p=r.stateNode,Mf(t,r),v=r.memoizedProps,T=r.type===r.elementType?v:Yt(r.type,v),p.props=T,O=r.pendingProps,R=p.context,S=o.contextType,typeof S=="object"&&S!==null?S=Ft(S):(S=xt(o)?tr:ft.current,S=Rr(r,S));var $=o.getDerivedStateFromProps;(A=typeof $=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==O||R!==S)&&ih(r,p,a,S),Rn=!1,R=r.memoizedState,p.state=R,mo(r,a,p,c);var V=r.memoizedState;v!==O||R!==V||St.current||Rn?(typeof $=="function"&&(Va(r,o,$,a),V=r.memoizedState),(T=Rn||nh(r,o,T,a,R,V,S)||!1)?(A||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,V,S),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,V,S)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&R===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&R===t.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=V),p.props=a,p.state=V,p.context=S,a=T):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&R===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&R===t.memoizedState||(r.flags|=1024),a=!1)}return Ka(t,r,o,a,f,c)}function Ka(t,r,o,a,c,f){ph(t,r);var p=(r.flags&128)!==0;if(!a&&!p)return c&&wf(r,o,!1),pn(t,r,f);a=r.stateNode,$v.current=r;var v=p&&typeof o.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,t!==null&&p?(r.child=Lr(r,t.child,null,f),r.child=Lr(r,null,v,f)):yt(t,r,v,f),r.memoizedState=a.state,c&&wf(r,o,!0),r.child}function gh(t){var r=t.stateNode;r.pendingContext?vf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&vf(t,r.context,!1),Ra(t,r.containerInfo)}function yh(t,r,o,a,c){return jr(),Na(c),r.flags|=256,yt(t,r,o,a),r.child}var Xa={dehydrated:null,treeContext:null,retryLane:0};function Ja(t){return{baseLanes:t,cachePool:null,transitions:null}}function vh(t,r,o){var a=r.pendingProps,c=Be.current,f=!1,p=(r.flags&128)!==0,v;if((v=p)||(v=t!==null&&t.memoizedState===null?!1:(c&2)!==0),v?(f=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(c|=1),De(Be,c&1),t===null)return ka(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(p=a.children,t=a.fallback,f?(a=r.mode,f=r.child,p={mode:"hidden",children:p},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=p):f=jo(p,a,0,null),t=dr(t,a,o,null),f.return=r,t.return=r,f.sibling=t,r.child=f,r.child.memoizedState=Ja(o),r.memoizedState=Xa,t):Za(r,p));if(c=t.memoizedState,c!==null&&(v=c.dehydrated,v!==null))return Uv(t,r,p,a,v,c,o);if(f){f=a.fallback,p=r.mode,c=t.child,v=c.sibling;var S={mode:"hidden",children:a.children};return!(p&1)&&r.child!==c?(a=r.child,a.childLanes=0,a.pendingProps=S,r.deletions=null):(a=Wn(c,S),a.subtreeFlags=c.subtreeFlags&14680064),v!==null?f=Wn(v,f):(f=dr(f,p,o,null),f.flags|=2),f.return=r,a.return=r,a.sibling=f,r.child=a,a=f,f=r.child,p=t.child.memoizedState,p=p===null?Ja(o):{baseLanes:p.baseLanes|o,cachePool:null,transitions:p.transitions},f.memoizedState=p,f.childLanes=t.childLanes&~o,r.memoizedState=Xa,a}return f=t.child,t=f.sibling,a=Wn(f,{mode:"visible",children:a.children}),!(r.mode&1)&&(a.lanes=o),a.return=r,a.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=a,r.memoizedState=null,a}function Za(t,r){return r=jo({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function xo(t,r,o,a){return a!==null&&Na(a),Lr(r,t.child,null,o),t=Za(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Uv(t,r,o,a,c,f,p){if(o)return r.flags&256?(r.flags&=-257,a=Ya(Error(n(422))),xo(t,r,p,a)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(f=a.fallback,c=r.mode,a=jo({mode:"visible",children:a.children},c,0,null),f=dr(f,c,p,null),f.flags|=2,a.return=r,f.return=r,a.sibling=f,r.child=a,r.mode&1&&Lr(r,t.child,null,p),r.child.memoizedState=Ja(p),r.memoizedState=Xa,f);if(!(r.mode&1))return xo(t,r,p,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var v=a.dgst;return a=v,f=Error(n(419)),a=Ya(f,a,void 0),xo(t,r,p,a)}if(v=(p&t.childLanes)!==0,Et||v){if(a=rt,a!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|p)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,fn(t,c),Kt(a,t,c,-1))}return mu(),a=Ya(Error(n(421))),xo(t,r,p,a)}return c.data==="$?"?(r.flags|=128,r.child=t.child,r=n_.bind(null,t),c._reactRetry=r,null):(t=f.treeContext,At=bn(c.nextSibling),Rt=r,We=!0,Ht=null,t!==null&&(jt[Lt++]=cn,jt[Lt++]=dn,jt[Lt++]=nr,cn=t.id,dn=t.overflow,nr=r),r=Za(r,a.children),r.flags|=4096,r)}function _h(t,r,o){t.lanes|=r;var a=t.alternate;a!==null&&(a.lanes|=r),Pa(t.return,r,o)}function eu(t,r,o,a,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:c}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=o,f.tailMode=c)}function wh(t,r,o){var a=r.pendingProps,c=a.revealOrder,f=a.tail;if(yt(t,r,a.children,o),a=Be.current,a&2)a=a&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_h(t,o,r);else if(t.tag===19)_h(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(De(Be,a),!(r.mode&1))r.memoizedState=null;else switch(c){case"forwards":for(o=r.child,c=null;o!==null;)t=o.alternate,t!==null&&go(t)===null&&(c=o),o=o.sibling;o=c,o===null?(c=r.child,r.child=null):(c=o.sibling,o.sibling=null),eu(r,!1,c,o,f);break;case"backwards":for(o=null,c=r.child,r.child=null;c!==null;){if(t=c.alternate,t!==null&&go(t)===null){r.child=c;break}t=c.sibling,c.sibling=o,o=c,c=t}eu(r,!0,o,null,f);break;case"together":eu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Eo(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function pn(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),lr|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Wn(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Wn(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Gv(t,r,o){switch(r.tag){case 3:gh(r),jr();break;case 5:Af(r);break;case 1:xt(r.type)&&so(r);break;case 4:Ra(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,c=r.memoizedProps.value;De(fo,a._currentValue),a._currentValue=c;break;case 13:if(a=r.memoizedState,a!==null)return a.dehydrated!==null?(De(Be,Be.current&1),r.flags|=128,null):o&r.child.childLanes?vh(t,r,o):(De(Be,Be.current&1),t=pn(t,r,o),t!==null?t.sibling:null);De(Be,Be.current&1);break;case 19:if(a=(o&r.childLanes)!==0,t.flags&128){if(a)return wh(t,r,o);r.flags|=128}if(c=r.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),De(Be,Be.current),a)break;return null;case 22:case 23:return r.lanes=0,hh(t,r,o)}return pn(t,r,o)}var Ch,tu,Sh,xh;Ch=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},tu=function(){},Sh=function(t,r,o,a){var c=t.memoizedProps;if(c!==a){t=r.stateNode,sr(rn.current);var f=null;switch(o){case"input":c=Pl(t,c),a=Pl(t,a),f=[];break;case"select":c=B({},c,{value:void 0}),a=B({},a,{value:void 0}),f=[];break;case"textarea":c=Rl(t,c),a=Rl(t,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=no)}Ol(o,a);var p;o=null;for(T in c)if(!a.hasOwnProperty(T)&&c.hasOwnProperty(T)&&c[T]!=null)if(T==="style"){var v=c[T];for(p in v)v.hasOwnProperty(p)&&(o||(o={}),o[p]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(l.hasOwnProperty(T)?f||(f=[]):(f=f||[]).push(T,null));for(T in a){var S=a[T];if(v=c!=null?c[T]:void 0,a.hasOwnProperty(T)&&S!==v&&(S!=null||v!=null))if(T==="style")if(v){for(p in v)!v.hasOwnProperty(p)||S&&S.hasOwnProperty(p)||(o||(o={}),o[p]="");for(p in S)S.hasOwnProperty(p)&&v[p]!==S[p]&&(o||(o={}),o[p]=S[p])}else o||(f||(f=[]),f.push(T,o)),o=S;else T==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,v=v?v.__html:void 0,S!=null&&v!==S&&(f=f||[]).push(T,S)):T==="children"?typeof S!="string"&&typeof S!="number"||(f=f||[]).push(T,""+S):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(l.hasOwnProperty(T)?(S!=null&&T==="onScroll"&&je("scroll",t),f||v===S||(f=[])):(f=f||[]).push(T,S))}o&&(f=f||[]).push("style",o);var T=f;(r.updateQueue=T)&&(r.flags|=4)}},xh=function(t,r,o,a){o!==a&&(r.flags|=4)};function $i(t,r){if(!We)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function pt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,a=0;if(r)for(var c=t.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=a,t.childLanes=o,r}function Vv(t,r,o){var a=r.pendingProps;switch(xa(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(r),null;case 1:return xt(r.type)&&io(),pt(r),null;case 3:return a=r.stateNode,Wr(),Le(St),Le(ft),ja(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(uo(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Ht!==null&&(fu(Ht),Ht=null))),tu(t,r),pt(r),null;case 5:Aa(r);var c=sr(Li.current);if(o=r.type,t!==null&&r.stateNode!=null)Sh(t,r,o,a,c),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(n(166));return pt(r),null}if(t=sr(rn.current),uo(r)){a=r.stateNode,o=r.type;var f=r.memoizedProps;switch(a[nn]=r,a[Di]=f,t=(r.mode&1)!==0,o){case"dialog":je("cancel",a),je("close",a);break;case"iframe":case"object":case"embed":je("load",a);break;case"video":case"audio":for(c=0;c<bi.length;c++)je(bi[c],a);break;case"source":je("error",a);break;case"img":case"image":case"link":je("error",a),je("load",a);break;case"details":je("toggle",a);break;case"input":nd(a,f),je("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},je("invalid",a);break;case"textarea":sd(a,f),je("invalid",a)}Ol(o,f),c=null;for(var p in f)if(f.hasOwnProperty(p)){var v=f[p];p==="children"?typeof v=="string"?a.textContent!==v&&(f.suppressHydrationWarning!==!0&&to(a.textContent,v,t),c=["children",v]):typeof v=="number"&&a.textContent!==""+v&&(f.suppressHydrationWarning!==!0&&to(a.textContent,v,t),c=["children",""+v]):l.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&je("scroll",a)}switch(o){case"input":Ds(a),id(a,f,!0);break;case"textarea":Ds(a),ld(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=no)}a=c,r.updateQueue=a,a!==null&&(r.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ad(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=p.createElement(o,{is:a.is}):(t=p.createElement(o),o==="select"&&(p=t,a.multiple?p.multiple=!0:a.size&&(p.size=a.size))):t=p.createElementNS(t,o),t[nn]=r,t[Di]=a,Ch(t,r,!1,!1),r.stateNode=t;e:{switch(p=jl(o,a),o){case"dialog":je("cancel",t),je("close",t),c=a;break;case"iframe":case"object":case"embed":je("load",t),c=a;break;case"video":case"audio":for(c=0;c<bi.length;c++)je(bi[c],t);c=a;break;case"source":je("error",t),c=a;break;case"img":case"image":case"link":je("error",t),je("load",t),c=a;break;case"details":je("toggle",t),c=a;break;case"input":nd(t,a),c=Pl(t,a),je("invalid",t);break;case"option":c=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},c=B({},a,{value:void 0}),je("invalid",t);break;case"textarea":sd(t,a),c=Rl(t,a),je("invalid",t);break;default:c=a}Ol(o,c),v=c;for(f in v)if(v.hasOwnProperty(f)){var S=v[f];f==="style"?dd(t,S):f==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&ud(t,S)):f==="children"?typeof S=="string"?(o!=="textarea"||S!=="")&&ci(t,S):typeof S=="number"&&ci(t,""+S):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?S!=null&&f==="onScroll"&&je("scroll",t):S!=null&&W(t,f,S,p))}switch(o){case"input":Ds(t),id(t,a,!1);break;case"textarea":Ds(t),ld(t);break;case"option":a.value!=null&&t.setAttribute("value",""+fe(a.value));break;case"select":t.multiple=!!a.multiple,f=a.value,f!=null?Cr(t,!!a.multiple,f,!1):a.defaultValue!=null&&Cr(t,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(t.onclick=no)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return pt(r),null;case 6:if(t&&r.stateNode!=null)xh(t,r,t.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(n(166));if(o=sr(Li.current),sr(rn.current),uo(r)){if(a=r.stateNode,o=r.memoizedProps,a[nn]=r,(f=a.nodeValue!==o)&&(t=Rt,t!==null))switch(t.tag){case 3:to(a.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&to(a.nodeValue,o,(t.mode&1)!==0)}f&&(r.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[nn]=r,r.stateNode=a}return pt(r),null;case 13:if(Le(Be),a=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&At!==null&&r.mode&1&&!(r.flags&128))Nf(),jr(),r.flags|=98560,f=!1;else if(f=uo(r),a!==null&&a.dehydrated!==null){if(t===null){if(!f)throw Error(n(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[nn]=r}else jr(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;pt(r),f=!1}else Ht!==null&&(fu(Ht),Ht=null),f=!0;if(!f)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(r.child.flags|=8192,r.mode&1&&(t===null||Be.current&1?Ze===0&&(Ze=3):mu())),r.updateQueue!==null&&(r.flags|=4),pt(r),null);case 4:return Wr(),tu(t,r),t===null&&Pi(r.stateNode.containerInfo),pt(r),null;case 10:return ba(r.type._context),pt(r),null;case 17:return xt(r.type)&&io(),pt(r),null;case 19:if(Le(Be),f=r.memoizedState,f===null)return pt(r),null;if(a=(r.flags&128)!==0,p=f.rendering,p===null)if(a)$i(f,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(p=go(t),p!==null){for(r.flags|=128,$i(f,!1),a=p.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),r.subtreeFlags=0,a=o,o=r.child;o!==null;)f=o,t=a,f.flags&=14680066,p=f.alternate,p===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=p.childLanes,f.lanes=p.lanes,f.child=p.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=p.memoizedProps,f.memoizedState=p.memoizedState,f.updateQueue=p.updateQueue,f.type=p.type,t=p.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return De(Be,Be.current&1|2),r.child}t=t.sibling}f.tail!==null&&He()>Gr&&(r.flags|=128,a=!0,$i(f,!1),r.lanes=4194304)}else{if(!a)if(t=go(p),t!==null){if(r.flags|=128,a=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),$i(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!We)return pt(r),null}else 2*He()-f.renderingStartTime>Gr&&o!==1073741824&&(r.flags|=128,a=!0,$i(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(o=f.last,o!==null?o.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=He(),r.sibling=null,o=Be.current,De(Be,a?o&1|2:o&1),r):(pt(r),null);case 22:case 23:return pu(),a=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(r.flags|=8192),a&&r.mode&1?Ot&1073741824&&(pt(r),r.subtreeFlags&6&&(r.flags|=8192)):pt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Hv(t,r){switch(xa(r),r.tag){case 1:return xt(r.type)&&io(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Wr(),Le(St),Le(ft),ja(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Aa(r),null;case 13:if(Le(Be),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));jr()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Le(Be),null;case 4:return Wr(),null;case 10:return ba(r.type._context),null;case 22:case 23:return pu(),null;case 24:return null;default:return null}}var ko=!1,mt=!1,Yv=typeof WeakSet=="function"?WeakSet:Set,U=null;function $r(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){Ue(t,r,a)}else o.current=null}function nu(t,r,o){try{o()}catch(a){Ue(t,r,a)}}var Eh=!1;function Qv(t,r){if(pa=Gs,t=tf(),oa(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var p=0,v=-1,S=-1,T=0,A=0,O=t,R=null;t:for(;;){for(var $;O!==o||c!==0&&O.nodeType!==3||(v=p+c),O!==f||a!==0&&O.nodeType!==3||(S=p+a),O.nodeType===3&&(p+=O.nodeValue.length),($=O.firstChild)!==null;)R=O,O=$;for(;;){if(O===t)break t;if(R===o&&++T===c&&(v=p),R===f&&++A===a&&(S=p),($=O.nextSibling)!==null)break;O=R,R=O.parentNode}O=$}o=v===-1||S===-1?null:{start:v,end:S}}else o=null}o=o||{start:0,end:0}}else o=null;for(ma={focusedElem:t,selectionRange:o},Gs=!1,U=r;U!==null;)if(r=U,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,U=t;else for(;U!==null;){r=U;try{var V=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var Y=V.memoizedProps,Ye=V.memoizedState,k=r.stateNode,x=k.getSnapshotBeforeUpdate(r.elementType===r.type?Y:Yt(r.type,Y),Ye);k.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var N=r.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(j){Ue(r,r.return,j)}if(t=r.sibling,t!==null){t.return=r.return,U=t;break}U=r.return}return V=Eh,Eh=!1,V}function Ui(t,r,o){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&t)===t){var f=c.destroy;c.destroy=void 0,f!==void 0&&nu(r,o,f)}c=c.next}while(c!==a)}}function No(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var a=o.create;o.destroy=a()}o=o.next}while(o!==r)}}function ru(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function kh(t){var r=t.alternate;r!==null&&(t.alternate=null,kh(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[nn],delete r[Di],delete r[_a],delete r[Pv],delete r[Mv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Nh(t){return t.tag===5||t.tag===3||t.tag===4}function Th(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Nh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function iu(t,r,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=no));else if(a!==4&&(t=t.child,t!==null))for(iu(t,r,o),t=t.sibling;t!==null;)iu(t,r,o),t=t.sibling}function su(t,r,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(su(t,r,o),t=t.sibling;t!==null;)su(t,r,o),t=t.sibling}var at=null,Qt=!1;function On(t,r,o){for(o=o.child;o!==null;)Ih(t,r,o),o=o.sibling}function Ih(t,r,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Fs,o)}catch{}switch(o.tag){case 5:mt||$r(o,r);case 6:var a=at,c=Qt;at=null,On(t,r,o),at=a,Qt=c,at!==null&&(Qt?(t=at,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):at.removeChild(o.stateNode));break;case 18:at!==null&&(Qt?(t=at,o=o.stateNode,t.nodeType===8?va(t.parentNode,o):t.nodeType===1&&va(t,o),Ci(t)):va(at,o.stateNode));break;case 4:a=at,c=Qt,at=o.stateNode.containerInfo,Qt=!0,On(t,r,o),at=a,Qt=c;break;case 0:case 11:case 14:case 15:if(!mt&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,p=f.destroy;f=f.tag,p!==void 0&&(f&2||f&4)&&nu(o,r,p),c=c.next}while(c!==a)}On(t,r,o);break;case 1:if(!mt&&($r(o,r),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(v){Ue(o,r,v)}On(t,r,o);break;case 21:On(t,r,o);break;case 22:o.mode&1?(mt=(a=mt)||o.memoizedState!==null,On(t,r,o),mt=a):On(t,r,o);break;default:On(t,r,o)}}function bh(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Yv),r.forEach(function(a){var c=r_.bind(null,t,a);o.has(a)||(o.add(a),a.then(c,c))})}}function qt(t,r){var o=r.deletions;if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];try{var f=t,p=r,v=p;e:for(;v!==null;){switch(v.tag){case 5:at=v.stateNode,Qt=!1;break e;case 3:at=v.stateNode.containerInfo,Qt=!0;break e;case 4:at=v.stateNode.containerInfo,Qt=!0;break e}v=v.return}if(at===null)throw Error(n(160));Ih(f,p,c),at=null,Qt=!1;var S=c.alternate;S!==null&&(S.return=null),c.return=null}catch(T){Ue(c,r,T)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Ph(r,t),r=r.sibling}function Ph(t,r){var o=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qt(r,t),on(t),a&4){try{Ui(3,t,t.return),No(3,t)}catch(Y){Ue(t,t.return,Y)}try{Ui(5,t,t.return)}catch(Y){Ue(t,t.return,Y)}}break;case 1:qt(r,t),on(t),a&512&&o!==null&&$r(o,o.return);break;case 5:if(qt(r,t),on(t),a&512&&o!==null&&$r(o,o.return),t.flags&32){var c=t.stateNode;try{ci(c,"")}catch(Y){Ue(t,t.return,Y)}}if(a&4&&(c=t.stateNode,c!=null)){var f=t.memoizedProps,p=o!==null?o.memoizedProps:f,v=t.type,S=t.updateQueue;if(t.updateQueue=null,S!==null)try{v==="input"&&f.type==="radio"&&f.name!=null&&rd(c,f),jl(v,p);var T=jl(v,f);for(p=0;p<S.length;p+=2){var A=S[p],O=S[p+1];A==="style"?dd(c,O):A==="dangerouslySetInnerHTML"?ud(c,O):A==="children"?ci(c,O):W(c,A,O,T)}switch(v){case"input":Ml(c,f);break;case"textarea":od(c,f);break;case"select":var R=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var $=f.value;$!=null?Cr(c,!!f.multiple,$,!1):R!==!!f.multiple&&(f.defaultValue!=null?Cr(c,!!f.multiple,f.defaultValue,!0):Cr(c,!!f.multiple,f.multiple?[]:"",!1))}c[Di]=f}catch(Y){Ue(t,t.return,Y)}}break;case 6:if(qt(r,t),on(t),a&4){if(t.stateNode===null)throw Error(n(162));c=t.stateNode,f=t.memoizedProps;try{c.nodeValue=f}catch(Y){Ue(t,t.return,Y)}}break;case 3:if(qt(r,t),on(t),a&4&&o!==null&&o.memoizedState.isDehydrated)try{Ci(r.containerInfo)}catch(Y){Ue(t,t.return,Y)}break;case 4:qt(r,t),on(t);break;case 13:qt(r,t),on(t),c=t.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(au=He())),a&4&&bh(t);break;case 22:if(A=o!==null&&o.memoizedState!==null,t.mode&1?(mt=(T=mt)||A,qt(r,t),mt=T):qt(r,t),on(t),a&8192){if(T=t.memoizedState!==null,(t.stateNode.isHidden=T)&&!A&&t.mode&1)for(U=t,A=t.child;A!==null;){for(O=U=A;U!==null;){switch(R=U,$=R.child,R.tag){case 0:case 11:case 14:case 15:Ui(4,R,R.return);break;case 1:$r(R,R.return);var V=R.stateNode;if(typeof V.componentWillUnmount=="function"){a=R,o=R.return;try{r=a,V.props=r.memoizedProps,V.state=r.memoizedState,V.componentWillUnmount()}catch(Y){Ue(a,o,Y)}}break;case 5:$r(R,R.return);break;case 22:if(R.memoizedState!==null){Rh(O);continue}}$!==null?($.return=R,U=$):Rh(O)}A=A.sibling}e:for(A=null,O=t;;){if(O.tag===5){if(A===null){A=O;try{c=O.stateNode,T?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(v=O.stateNode,S=O.memoizedProps.style,p=S!=null&&S.hasOwnProperty("display")?S.display:null,v.style.display=cd("display",p))}catch(Y){Ue(t,t.return,Y)}}}else if(O.tag===6){if(A===null)try{O.stateNode.nodeValue=T?"":O.memoizedProps}catch(Y){Ue(t,t.return,Y)}}else if((O.tag!==22&&O.tag!==23||O.memoizedState===null||O===t)&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===t)break e;for(;O.sibling===null;){if(O.return===null||O.return===t)break e;A===O&&(A=null),O=O.return}A===O&&(A=null),O.sibling.return=O.return,O=O.sibling}}break;case 19:qt(r,t),on(t),a&4&&bh(t);break;case 21:break;default:qt(r,t),on(t)}}function on(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Nh(o)){var a=o;break e}o=o.return}throw Error(n(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ci(c,""),a.flags&=-33);var f=Th(t);su(t,f,c);break;case 3:case 4:var p=a.stateNode.containerInfo,v=Th(t);iu(t,v,p);break;default:throw Error(n(161))}}catch(S){Ue(t,t.return,S)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function qv(t,r,o){U=t,Mh(t)}function Mh(t,r,o){for(var a=(t.mode&1)!==0;U!==null;){var c=U,f=c.child;if(c.tag===22&&a){var p=c.memoizedState!==null||ko;if(!p){var v=c.alternate,S=v!==null&&v.memoizedState!==null||mt;v=ko;var T=mt;if(ko=p,(mt=S)&&!T)for(U=c;U!==null;)p=U,S=p.child,p.tag===22&&p.memoizedState!==null?Ah(c):S!==null?(S.return=p,U=S):Ah(c);for(;f!==null;)U=f,Mh(f),f=f.sibling;U=c,ko=v,mt=T}Dh(t)}else c.subtreeFlags&8772&&f!==null?(f.return=c,U=f):Dh(t)}}function Dh(t){for(;U!==null;){var r=U;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:mt||No(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!mt)if(o===null)a.componentDidMount();else{var c=r.elementType===r.type?o.memoizedProps:Yt(r.type,o.memoizedProps);a.componentDidUpdate(c,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=r.updateQueue;f!==null&&Rf(r,f,a);break;case 3:var p=r.updateQueue;if(p!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Rf(r,p,o)}break;case 5:var v=r.stateNode;if(o===null&&r.flags&4){o=v;var S=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&o.focus();break;case"img":S.src&&(o.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var T=r.alternate;if(T!==null){var A=T.memoizedState;if(A!==null){var O=A.dehydrated;O!==null&&Ci(O)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}mt||r.flags&512&&ru(r)}catch(R){Ue(r,r.return,R)}}if(r===t){U=null;break}if(o=r.sibling,o!==null){o.return=r.return,U=o;break}U=r.return}}function Rh(t){for(;U!==null;){var r=U;if(r===t){U=null;break}var o=r.sibling;if(o!==null){o.return=r.return,U=o;break}U=r.return}}function Ah(t){for(;U!==null;){var r=U;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{No(4,r)}catch(S){Ue(r,o,S)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var c=r.return;try{a.componentDidMount()}catch(S){Ue(r,c,S)}}var f=r.return;try{ru(r)}catch(S){Ue(r,f,S)}break;case 5:var p=r.return;try{ru(r)}catch(S){Ue(r,p,S)}}}catch(S){Ue(r,r.return,S)}if(r===t){U=null;break}var v=r.sibling;if(v!==null){v.return=r.return,U=v;break}U=r.return}}var Kv=Math.ceil,To=H.ReactCurrentDispatcher,ou=H.ReactCurrentOwner,Wt=H.ReactCurrentBatchConfig,Se=0,rt=null,Qe=null,ut=0,Ot=0,Ur=Pn(0),Ze=0,Gi=null,lr=0,Io=0,lu=0,Vi=null,kt=null,au=0,Gr=1/0,mn=null,bo=!1,uu=null,jn=null,Po=!1,Ln=null,Mo=0,Hi=0,cu=null,Do=-1,Ro=0;function vt(){return Se&6?He():Do!==-1?Do:Do=He()}function Fn(t){return t.mode&1?Se&2&&ut!==0?ut&-ut:Rv.transition!==null?(Ro===0&&(Ro=Nd()),Ro):(t=Te,t!==0||(t=window.event,t=t===void 0?16:Od(t.type)),t):1}function Kt(t,r,o,a){if(50<Hi)throw Hi=0,cu=null,Error(n(185));gi(t,o,a),(!(Se&2)||t!==rt)&&(t===rt&&(!(Se&2)&&(Io|=o),Ze===4&&zn(t,ut)),Nt(t,a),o===1&&Se===0&&!(r.mode&1)&&(Gr=He()+500,oo&&Dn()))}function Nt(t,r){var o=t.callbackNode;Ry(t,r);var a=Bs(t,t===rt?ut:0);if(a===0)o!==null&&xd(o),t.callbackNode=null,t.callbackPriority=0;else if(r=a&-a,t.callbackPriority!==r){if(o!=null&&xd(o),r===1)t.tag===0?Dv(jh.bind(null,t)):Cf(jh.bind(null,t)),Iv(function(){!(Se&6)&&Dn()}),o=null;else{switch(Td(a)){case 1:o=Ul;break;case 4:o=Ed;break;case 16:o=Ls;break;case 536870912:o=kd;break;default:o=Ls}o=Gh(o,Oh.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Oh(t,r){if(Do=-1,Ro=0,Se&6)throw Error(n(327));var o=t.callbackNode;if(Vr()&&t.callbackNode!==o)return null;var a=Bs(t,t===rt?ut:0);if(a===0)return null;if(a&30||a&t.expiredLanes||r)r=Ao(t,a);else{r=a;var c=Se;Se|=2;var f=Fh();(rt!==t||ut!==r)&&(mn=null,Gr=He()+500,ur(t,r));do try{Zv();break}catch(v){Lh(t,v)}while(!0);Ia(),To.current=f,Se=c,Qe!==null?r=0:(rt=null,ut=0,r=Ze)}if(r!==0){if(r===2&&(c=Gl(t),c!==0&&(a=c,r=du(t,c))),r===1)throw o=Gi,ur(t,0),zn(t,a),Nt(t,He()),o;if(r===6)zn(t,a);else{if(c=t.current.alternate,!(a&30)&&!Xv(c)&&(r=Ao(t,a),r===2&&(f=Gl(t),f!==0&&(a=f,r=du(t,f))),r===1))throw o=Gi,ur(t,0),zn(t,a),Nt(t,He()),o;switch(t.finishedWork=c,t.finishedLanes=a,r){case 0:case 1:throw Error(n(345));case 2:cr(t,kt,mn);break;case 3:if(zn(t,a),(a&130023424)===a&&(r=au+500-He(),10<r)){if(Bs(t,0)!==0)break;if(c=t.suspendedLanes,(c&a)!==a){vt(),t.pingedLanes|=t.suspendedLanes&c;break}t.timeoutHandle=ya(cr.bind(null,t,kt,mn),r);break}cr(t,kt,mn);break;case 4:if(zn(t,a),(a&4194240)===a)break;for(r=t.eventTimes,c=-1;0<a;){var p=31-Gt(a);f=1<<p,p=r[p],p>c&&(c=p),a&=~f}if(a=c,a=He()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Kv(a/1960))-a,10<a){t.timeoutHandle=ya(cr.bind(null,t,kt,mn),a);break}cr(t,kt,mn);break;case 5:cr(t,kt,mn);break;default:throw Error(n(329))}}}return Nt(t,He()),t.callbackNode===o?Oh.bind(null,t):null}function du(t,r){var o=Vi;return t.current.memoizedState.isDehydrated&&(ur(t,r).flags|=256),t=Ao(t,r),t!==2&&(r=kt,kt=o,r!==null&&fu(r)),t}function fu(t){kt===null?kt=t:kt.push.apply(kt,t)}function Xv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var c=o[a],f=c.getSnapshot;c=c.value;try{if(!Vt(f(),c))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function zn(t,r){for(r&=~lu,r&=~Io,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Gt(r),a=1<<o;t[o]=-1,r&=~a}}function jh(t){if(Se&6)throw Error(n(327));Vr();var r=Bs(t,0);if(!(r&1))return Nt(t,He()),null;var o=Ao(t,r);if(t.tag!==0&&o===2){var a=Gl(t);a!==0&&(r=a,o=du(t,a))}if(o===1)throw o=Gi,ur(t,0),zn(t,r),Nt(t,He()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,cr(t,kt,mn),Nt(t,He()),null}function hu(t,r){var o=Se;Se|=1;try{return t(r)}finally{Se=o,Se===0&&(Gr=He()+500,oo&&Dn())}}function ar(t){Ln!==null&&Ln.tag===0&&!(Se&6)&&Vr();var r=Se;Se|=1;var o=Wt.transition,a=Te;try{if(Wt.transition=null,Te=1,t)return t()}finally{Te=a,Wt.transition=o,Se=r,!(Se&6)&&Dn()}}function pu(){Ot=Ur.current,Le(Ur)}function ur(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Tv(o)),Qe!==null)for(o=Qe.return;o!==null;){var a=o;switch(xa(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&io();break;case 3:Wr(),Le(St),Le(ft),ja();break;case 5:Aa(a);break;case 4:Wr();break;case 13:Le(Be);break;case 19:Le(Be);break;case 10:ba(a.type._context);break;case 22:case 23:pu()}o=o.return}if(rt=t,Qe=t=Wn(t.current,null),ut=Ot=r,Ze=0,Gi=null,lu=Io=lr=0,kt=Vi=null,ir!==null){for(r=0;r<ir.length;r++)if(o=ir[r],a=o.interleaved,a!==null){o.interleaved=null;var c=a.next,f=o.pending;if(f!==null){var p=f.next;f.next=c,a.next=p}o.pending=a}ir=null}return t}function Lh(t,r){do{var o=Qe;try{if(Ia(),yo.current=Co,vo){for(var a=$e.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}vo=!1}if(or=0,nt=Je=$e=null,Fi=!1,zi=0,ou.current=null,o===null||o.return===null){Ze=1,Gi=r,Qe=null;break}e:{var f=t,p=o.return,v=o,S=r;if(r=ut,v.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var T=S,A=v,O=A.tag;if(!(A.mode&1)&&(O===0||O===11||O===15)){var R=A.alternate;R?(A.updateQueue=R.updateQueue,A.memoizedState=R.memoizedState,A.lanes=R.lanes):(A.updateQueue=null,A.memoizedState=null)}var $=ah(p);if($!==null){$.flags&=-257,uh($,p,v,f,r),$.mode&1&&lh(f,T,r),r=$,S=T;var V=r.updateQueue;if(V===null){var Y=new Set;Y.add(S),r.updateQueue=Y}else V.add(S);break e}else{if(!(r&1)){lh(f,T,r),mu();break e}S=Error(n(426))}}else if(We&&v.mode&1){var Ye=ah(p);if(Ye!==null){!(Ye.flags&65536)&&(Ye.flags|=256),uh(Ye,p,v,f,r),Na(Br(S,v));break e}}f=S=Br(S,v),Ze!==4&&(Ze=2),Vi===null?Vi=[f]:Vi.push(f),f=p;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var k=sh(f,S,r);Df(f,k);break e;case 1:v=S;var x=f.type,N=f.stateNode;if(!(f.flags&128)&&(typeof x.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(jn===null||!jn.has(N)))){f.flags|=65536,r&=-r,f.lanes|=r;var j=oh(f,v,r);Df(f,j);break e}}f=f.return}while(f!==null)}Wh(o)}catch(q){r=q,Qe===o&&o!==null&&(Qe=o=o.return);continue}break}while(!0)}function Fh(){var t=To.current;return To.current=Co,t===null?Co:t}function mu(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),rt===null||!(lr&268435455)&&!(Io&268435455)||zn(rt,ut)}function Ao(t,r){var o=Se;Se|=2;var a=Fh();(rt!==t||ut!==r)&&(mn=null,ur(t,r));do try{Jv();break}catch(c){Lh(t,c)}while(!0);if(Ia(),Se=o,To.current=a,Qe!==null)throw Error(n(261));return rt=null,ut=0,Ze}function Jv(){for(;Qe!==null;)zh(Qe)}function Zv(){for(;Qe!==null&&!Ey();)zh(Qe)}function zh(t){var r=Uh(t.alternate,t,Ot);t.memoizedProps=t.pendingProps,r===null?Wh(t):Qe=r,ou.current=null}function Wh(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=Hv(o,r),o!==null){o.flags&=32767,Qe=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Qe=null;return}}else if(o=Vv(o,r,Ot),o!==null){Qe=o;return}if(r=r.sibling,r!==null){Qe=r;return}Qe=r=t}while(r!==null);Ze===0&&(Ze=5)}function cr(t,r,o){var a=Te,c=Wt.transition;try{Wt.transition=null,Te=1,e_(t,r,o,a)}finally{Wt.transition=c,Te=a}return null}function e_(t,r,o,a){do Vr();while(Ln!==null);if(Se&6)throw Error(n(327));o=t.finishedWork;var c=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var f=o.lanes|o.childLanes;if(Ay(t,f),t===rt&&(Qe=rt=null,ut=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Po||(Po=!0,Gh(Ls,function(){return Vr(),null})),f=(o.flags&15990)!==0,o.subtreeFlags&15990||f){f=Wt.transition,Wt.transition=null;var p=Te;Te=1;var v=Se;Se|=4,ou.current=null,Qv(t,o),Ph(o,t),wv(ma),Gs=!!pa,ma=pa=null,t.current=o,qv(o),ky(),Se=v,Te=p,Wt.transition=f}else t.current=o;if(Po&&(Po=!1,Ln=t,Mo=c),f=t.pendingLanes,f===0&&(jn=null),Iy(o.stateNode),Nt(t,He()),r!==null)for(a=t.onRecoverableError,o=0;o<r.length;o++)c=r[o],a(c.value,{componentStack:c.stack,digest:c.digest});if(bo)throw bo=!1,t=uu,uu=null,t;return Mo&1&&t.tag!==0&&Vr(),f=t.pendingLanes,f&1?t===cu?Hi++:(Hi=0,cu=t):Hi=0,Dn(),null}function Vr(){if(Ln!==null){var t=Td(Mo),r=Wt.transition,o=Te;try{if(Wt.transition=null,Te=16>t?16:t,Ln===null)var a=!1;else{if(t=Ln,Ln=null,Mo=0,Se&6)throw Error(n(331));var c=Se;for(Se|=4,U=t.current;U!==null;){var f=U,p=f.child;if(U.flags&16){var v=f.deletions;if(v!==null){for(var S=0;S<v.length;S++){var T=v[S];for(U=T;U!==null;){var A=U;switch(A.tag){case 0:case 11:case 15:Ui(8,A,f)}var O=A.child;if(O!==null)O.return=A,U=O;else for(;U!==null;){A=U;var R=A.sibling,$=A.return;if(kh(A),A===T){U=null;break}if(R!==null){R.return=$,U=R;break}U=$}}}var V=f.alternate;if(V!==null){var Y=V.child;if(Y!==null){V.child=null;do{var Ye=Y.sibling;Y.sibling=null,Y=Ye}while(Y!==null)}}U=f}}if(f.subtreeFlags&2064&&p!==null)p.return=f,U=p;else e:for(;U!==null;){if(f=U,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Ui(9,f,f.return)}var k=f.sibling;if(k!==null){k.return=f.return,U=k;break e}U=f.return}}var x=t.current;for(U=x;U!==null;){p=U;var N=p.child;if(p.subtreeFlags&2064&&N!==null)N.return=p,U=N;else e:for(p=x;U!==null;){if(v=U,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:No(9,v)}}catch(q){Ue(v,v.return,q)}if(v===p){U=null;break e}var j=v.sibling;if(j!==null){j.return=v.return,U=j;break e}U=v.return}}if(Se=c,Dn(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Fs,t)}catch{}a=!0}return a}finally{Te=o,Wt.transition=r}}return!1}function Bh(t,r,o){r=Br(o,r),r=sh(t,r,1),t=An(t,r,1),r=vt(),t!==null&&(gi(t,1,r),Nt(t,r))}function Ue(t,r,o){if(t.tag===3)Bh(t,t,o);else for(;r!==null;){if(r.tag===3){Bh(r,t,o);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(jn===null||!jn.has(a))){t=Br(o,t),t=oh(r,t,1),r=An(r,t,1),t=vt(),r!==null&&(gi(r,1,t),Nt(r,t));break}}r=r.return}}function t_(t,r,o){var a=t.pingCache;a!==null&&a.delete(r),r=vt(),t.pingedLanes|=t.suspendedLanes&o,rt===t&&(ut&o)===o&&(Ze===4||Ze===3&&(ut&130023424)===ut&&500>He()-au?ur(t,0):lu|=o),Nt(t,r)}function $h(t,r){r===0&&(t.mode&1?(r=Ws,Ws<<=1,!(Ws&130023424)&&(Ws=4194304)):r=1);var o=vt();t=fn(t,r),t!==null&&(gi(t,r,o),Nt(t,o))}function n_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),$h(t,o)}function r_(t,r){var o=0;switch(t.tag){case 13:var a=t.stateNode,c=t.memoizedState;c!==null&&(o=c.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(n(314))}a!==null&&a.delete(r),$h(t,o)}var Uh;Uh=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||St.current)Et=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Et=!1,Gv(t,r,o);Et=!!(t.flags&131072)}else Et=!1,We&&r.flags&1048576&&Sf(r,ao,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;Eo(t,r),t=r.pendingProps;var c=Rr(r,ft.current);zr(r,o),c=za(null,r,a,t,c,o);var f=Wa();return r.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,xt(a)?(f=!0,so(r)):f=!1,r.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Da(r),c.updater=So,r.stateNode=c,c._reactInternals=r,Ha(r,a,t,o),r=Ka(null,r,a,!0,f,o)):(r.tag=0,We&&f&&Sa(r),yt(null,r,c,o),r=r.child),r;case 16:a=r.elementType;e:{switch(Eo(t,r),t=r.pendingProps,c=a._init,a=c(a._payload),r.type=a,c=r.tag=s_(a),t=Yt(a,t),c){case 0:r=qa(null,r,a,t,o);break e;case 1:r=mh(null,r,a,t,o);break e;case 11:r=ch(null,r,a,t,o);break e;case 14:r=dh(null,r,a,Yt(a.type,t),o);break e}throw Error(n(306,a,""))}return r;case 0:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Yt(a,c),qa(t,r,a,c,o);case 1:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Yt(a,c),mh(t,r,a,c,o);case 3:e:{if(gh(r),t===null)throw Error(n(387));a=r.pendingProps,f=r.memoizedState,c=f.element,Mf(t,r),mo(r,a,null,o);var p=r.memoizedState;if(a=p.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){c=Br(Error(n(423)),r),r=yh(t,r,a,o,c);break e}else if(a!==c){c=Br(Error(n(424)),r),r=yh(t,r,a,o,c);break e}else for(At=bn(r.stateNode.containerInfo.firstChild),Rt=r,We=!0,Ht=null,o=bf(r,null,a,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(jr(),a===c){r=pn(t,r,o);break e}yt(t,r,a,o)}r=r.child}return r;case 5:return Af(r),t===null&&ka(r),a=r.type,c=r.pendingProps,f=t!==null?t.memoizedProps:null,p=c.children,ga(a,c)?p=null:f!==null&&ga(a,f)&&(r.flags|=32),ph(t,r),yt(t,r,p,o),r.child;case 6:return t===null&&ka(r),null;case 13:return vh(t,r,o);case 4:return Ra(r,r.stateNode.containerInfo),a=r.pendingProps,t===null?r.child=Lr(r,null,a,o):yt(t,r,a,o),r.child;case 11:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Yt(a,c),ch(t,r,a,c,o);case 7:return yt(t,r,r.pendingProps,o),r.child;case 8:return yt(t,r,r.pendingProps.children,o),r.child;case 12:return yt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(a=r.type._context,c=r.pendingProps,f=r.memoizedProps,p=c.value,De(fo,a._currentValue),a._currentValue=p,f!==null)if(Vt(f.value,p)){if(f.children===c.children&&!St.current){r=pn(t,r,o);break e}}else for(f=r.child,f!==null&&(f.return=r);f!==null;){var v=f.dependencies;if(v!==null){p=f.child;for(var S=v.firstContext;S!==null;){if(S.context===a){if(f.tag===1){S=hn(-1,o&-o),S.tag=2;var T=f.updateQueue;if(T!==null){T=T.shared;var A=T.pending;A===null?S.next=S:(S.next=A.next,A.next=S),T.pending=S}}f.lanes|=o,S=f.alternate,S!==null&&(S.lanes|=o),Pa(f.return,o,r),v.lanes|=o;break}S=S.next}}else if(f.tag===10)p=f.type===r.type?null:f.child;else if(f.tag===18){if(p=f.return,p===null)throw Error(n(341));p.lanes|=o,v=p.alternate,v!==null&&(v.lanes|=o),Pa(p,o,r),p=f.sibling}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===r){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}yt(t,r,c.children,o),r=r.child}return r;case 9:return c=r.type,a=r.pendingProps.children,zr(r,o),c=Ft(c),a=a(c),r.flags|=1,yt(t,r,a,o),r.child;case 14:return a=r.type,c=Yt(a,r.pendingProps),c=Yt(a.type,c),dh(t,r,a,c,o);case 15:return fh(t,r,r.type,r.pendingProps,o);case 17:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Yt(a,c),Eo(t,r),r.tag=1,xt(a)?(t=!0,so(r)):t=!1,zr(r,o),rh(r,a,c),Ha(r,a,c,o),Ka(null,r,a,!0,t,o);case 19:return wh(t,r,o);case 22:return hh(t,r,o)}throw Error(n(156,r.tag))};function Gh(t,r){return Sd(t,r)}function i_(t,r,o,a){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(t,r,o,a){return new i_(t,r,o,a)}function gu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function s_(t){if(typeof t=="function")return gu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Q)return 11;if(t===be)return 14}return 2}function Wn(t,r){var o=t.alternate;return o===null?(o=Bt(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Oo(t,r,o,a,c,f){var p=2;if(a=t,typeof t=="function")gu(t)&&(p=1);else if(typeof t=="string")p=5;else e:switch(t){case ge:return dr(o.children,c,f,r);case ke:p=8,c|=8;break;case Oe:return t=Bt(12,o,r,c|2),t.elementType=Oe,t.lanes=f,t;case le:return t=Bt(13,o,r,c),t.elementType=le,t.lanes=f,t;case we:return t=Bt(19,o,r,c),t.elementType=we,t.lanes=f,t;case ie:return jo(o,c,f,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:p=10;break e;case Z:p=9;break e;case Q:p=11;break e;case be:p=14;break e;case Ce:p=16,a=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=Bt(p,o,r,c),r.elementType=t,r.type=a,r.lanes=f,r}function dr(t,r,o,a){return t=Bt(7,t,a,r),t.lanes=o,t}function jo(t,r,o,a){return t=Bt(22,t,a,r),t.elementType=ie,t.lanes=o,t.stateNode={isHidden:!1},t}function yu(t,r,o){return t=Bt(6,t,null,r),t.lanes=o,t}function vu(t,r,o){return r=Bt(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function o_(t,r,o,a,c){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vl(0),this.expirationTimes=Vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function _u(t,r,o,a,c,f,p,v,S){return t=new o_(t,r,o,v,S),r===1?(r=1,f===!0&&(r|=8)):r=0,f=Bt(3,null,null,r),t.current=f,f.stateNode=t,f.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(f),t}function l_(t,r,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:a==null?null:""+a,children:t,containerInfo:r,implementation:o}}function Vh(t){if(!t)return Mn;t=t._reactInternals;e:{if(Zn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(xt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(xt(o))return _f(t,o,r)}return r}function Hh(t,r,o,a,c,f,p,v,S){return t=_u(o,a,!0,t,c,f,p,v,S),t.context=Vh(null),o=t.current,a=vt(),c=Fn(o),f=hn(a,c),f.callback=r??null,An(o,f,c),t.current.lanes=c,gi(t,c,a),Nt(t,a),t}function Lo(t,r,o,a){var c=r.current,f=vt(),p=Fn(c);return o=Vh(o),r.context===null?r.context=o:r.pendingContext=o,r=hn(f,p),r.payload={element:t},a=a===void 0?null:a,a!==null&&(r.callback=a),t=An(c,r,p),t!==null&&(Kt(t,c,p,f),po(t,c,p)),p}function Fo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yh(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function wu(t,r){Yh(t,r),(t=t.alternate)&&Yh(t,r)}function a_(){return null}var Qh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cu(t){this._internalRoot=t}zo.prototype.render=Cu.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Lo(t,r,null,null)},zo.prototype.unmount=Cu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;ar(function(){Lo(null,t,null,null)}),r[an]=null}};function zo(t){this._internalRoot=t}zo.prototype.unstable_scheduleHydration=function(t){if(t){var r=Pd();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Nn.length&&r!==0&&r<Nn[o].priority;o++);Nn.splice(o,0,t),o===0&&Rd(t)}};function Su(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qh(){}function u_(t,r,o,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var T=Fo(p);f.call(T)}}var p=Hh(r,a,t,0,null,!1,!1,"",qh);return t._reactRootContainer=p,t[an]=p.current,Pi(t.nodeType===8?t.parentNode:t),ar(),p}for(;c=t.lastChild;)t.removeChild(c);if(typeof a=="function"){var v=a;a=function(){var T=Fo(S);v.call(T)}}var S=_u(t,0,!1,null,null,!1,!1,"",qh);return t._reactRootContainer=S,t[an]=S.current,Pi(t.nodeType===8?t.parentNode:t),ar(function(){Lo(r,S,o,a)}),S}function Bo(t,r,o,a,c){var f=o._reactRootContainer;if(f){var p=f;if(typeof c=="function"){var v=c;c=function(){var S=Fo(p);v.call(S)}}Lo(r,p,t,c)}else p=u_(o,r,t,c,a);return Fo(p)}Id=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=mi(r.pendingLanes);o!==0&&(Hl(r,o|1),Nt(r,He()),!(Se&6)&&(Gr=He()+500,Dn()))}break;case 13:ar(function(){var a=fn(t,1);if(a!==null){var c=vt();Kt(a,t,1,c)}}),wu(t,1)}},Yl=function(t){if(t.tag===13){var r=fn(t,134217728);if(r!==null){var o=vt();Kt(r,t,134217728,o)}wu(t,134217728)}},bd=function(t){if(t.tag===13){var r=Fn(t),o=fn(t,r);if(o!==null){var a=vt();Kt(o,t,r,a)}wu(t,r)}},Pd=function(){return Te},Md=function(t,r){var o=Te;try{return Te=t,r()}finally{Te=o}},zl=function(t,r,o){switch(r){case"input":if(Ml(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var a=o[r];if(a!==t&&a.form===t.form){var c=ro(a);if(!c)throw Error(n(90));td(a),Ml(a,c)}}}break;case"textarea":od(t,o);break;case"select":r=o.value,r!=null&&Cr(t,!!o.multiple,r,!1)}},md=hu,gd=ar;var c_={usingClientEntryPoint:!1,Events:[Ri,Mr,ro,hd,pd,hu]},Yi={findFiberByHostInstance:er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d_={bundleType:Yi.bundleType,version:Yi.version,rendererPackageName:Yi.rendererPackageName,rendererConfig:Yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wd(t),t===null?null:t.stateNode},findFiberByHostInstance:Yi.findFiberByHostInstance||a_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$o.isDisabled&&$o.supportsFiber)try{Fs=$o.inject(d_),tn=$o}catch{}}return Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c_,Tt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Su(r))throw Error(n(200));return l_(t,r,null,o)},Tt.createRoot=function(t,r){if(!Su(t))throw Error(n(299));var o=!1,a="",c=Qh;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),r=_u(t,1,!1,null,null,o,!1,a,c),t[an]=r.current,Pi(t.nodeType===8?t.parentNode:t),new Cu(r)},Tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=wd(r),t=t===null?null:t.stateNode,t},Tt.flushSync=function(t){return ar(t)},Tt.hydrate=function(t,r,o){if(!Wo(r))throw Error(n(200));return Bo(null,t,r,!0,o)},Tt.hydrateRoot=function(t,r,o){if(!Su(t))throw Error(n(405));var a=o!=null&&o.hydratedSources||null,c=!1,f="",p=Qh;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),r=Hh(r,null,t,1,o??null,c,!1,f,p),t[an]=r.current,Pi(t),a)for(t=0;t<a.length;t++)o=a[t],c=o._getVersion,c=c(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,c]:r.mutableSourceEagerHydrationData.push(o,c);return new zo(r)},Tt.render=function(t,r,o){if(!Wo(r))throw Error(n(200));return Bo(null,t,r,!1,o)},Tt.unmountComponentAtNode=function(t){if(!Wo(t))throw Error(n(40));return t._reactRootContainer?(ar(function(){Bo(null,null,t,!1,function(){t._reactRootContainer=null,t[an]=null})}),!0):!1},Tt.unstable_batchedUpdates=hu,Tt.unstable_renderSubtreeIntoContainer=function(t,r,o,a){if(!Wo(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Bo(t,r,o,!1,a)},Tt.version="18.3.1-next-f1338f8080-20240426",Tt}var rp;function __(){if(rp)return ku.exports;rp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ku.exports=v_(),ku.exports}var ip;function w_(){if(ip)return Go;ip=1;var i=__();return Go.createRoot=i.createRoot,Go.hydrateRoot=i.hydrateRoot,Go}var C_=w_(),K=gc(),Iu,sp;function S_(){if(sp)return Iu;sp=1;var i="Expected a function",e=NaN,n="[object Symbol]",s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,h=parseInt,m=typeof Uo=="object"&&Uo&&Uo.Object===Object&&Uo,g=typeof self=="object"&&self&&self.Object===Object&&self,w=m||g||Function("return this")(),_=Object.prototype,C=_.toString,I=Math.max,b=Math.min,D=function(){return w.Date.now()};function P(F,re,ge){var ke,Oe,ae,Z,Q,le,we=0,be=!1,Ce=!1,ie=!0;if(typeof F!="function")throw new TypeError(i);re=H(re)||0,X(ge)&&(be=!!ge.leading,Ce="maxWait"in ge,ae=Ce?I(H(ge.maxWait)||0,re):ae,ie="trailing"in ge?!!ge.trailing:ie);function L(oe){var fe=ke,Ne=Oe;return ke=Oe=void 0,we=oe,Z=F.apply(Ne,fe),Z}function G(oe){return we=oe,Q=setTimeout(M,re),be?L(oe):Z}function B(oe){var fe=oe-le,Ne=oe-we,dt=re-fe;return Ce?b(dt,ae-Ne):dt}function E(oe){var fe=oe-le,Ne=oe-we;return le===void 0||fe>=re||fe<0||Ce&&Ne>=ae}function M(){var oe=D();if(E(oe))return ue(oe);Q=setTimeout(M,B(oe))}function ue(oe){return Q=void 0,ie&&ke?L(oe):(ke=Oe=void 0,Z)}function de(){Q!==void 0&&clearTimeout(Q),we=0,ke=le=Oe=Q=void 0}function _e(){return Q===void 0?Z:ue(D())}function ye(){var oe=D(),fe=E(oe);if(ke=arguments,Oe=this,le=oe,fe){if(Q===void 0)return G(le);if(Ce)return Q=setTimeout(M,re),L(le)}return Q===void 0&&(Q=setTimeout(M,re)),Z}return ye.cancel=de,ye.flush=_e,ye}function X(F){var re=typeof F;return!!F&&(re=="object"||re=="function")}function J(F){return!!F&&typeof F=="object"}function W(F){return typeof F=="symbol"||J(F)&&C.call(F)==n}function H(F){if(typeof F=="number")return F;if(W(F))return e;if(X(F)){var re=typeof F.valueOf=="function"?F.valueOf():F;F=X(re)?re+"":re}if(typeof F!="string")return F===0?F:+F;F=F.replace(s,"");var ge=u.test(F);return ge||d.test(F)?h(F.slice(2),ge?2:8):l.test(F)?e:+F}return Iu=P,Iu}S_();var fm=typeof window<"u"?K.useLayoutEffect:K.useEffect;function op(i,e,n,s){const l=K.useRef(e);fm(()=>{l.current=e},[e]),K.useEffect(()=>{const u=window;if(!(u&&u.addEventListener))return;const d=h=>{l.current(h)};return u.addEventListener(i,d,s),()=>{u.removeEventListener(i,d,s)}},[i,n,s])}function lp(i){const e=K.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return fm(()=>{e.current=i},[i]),K.useCallback((...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[e])}var bu=typeof window>"u";function Pe(i,e,n={}){const{initializeWithValue:s=!0}=n,l=K.useCallback(C=>n.serializer?n.serializer(C):JSON.stringify(C),[n]),u=K.useCallback(C=>{if(n.deserializer)return n.deserializer(C);if(C==="undefined")return;const I=e instanceof Function?e():e;let b;try{b=JSON.parse(C)}catch(D){return console.error("Error parsing JSON:",D),I}return b},[n,e]),d=K.useCallback(()=>{const C=e instanceof Function?e():e;if(bu)return C;try{const I=window.localStorage.getItem(i);return I?u(I):C}catch(I){return console.warn(`Error reading localStorage key ${i}:`,I),C}},[e,i,u]),[h,m]=K.useState(()=>s?d():e instanceof Function?e():e),g=lp(C=>{bu&&console.warn(`Tried setting localStorage key ${i} even though environment is not a client`);try{const I=C instanceof Function?C(d()):C;window.localStorage.setItem(i,l(I)),m(I),window.dispatchEvent(new StorageEvent("local-storage",{key:i}))}catch(I){console.warn(`Error setting localStorage key ${i}:`,I)}}),w=lp(()=>{bu&&console.warn(`Tried removing localStorage key ${i} even though environment is not a client`);const C=e instanceof Function?e():e;window.localStorage.removeItem(i),m(C),window.dispatchEvent(new StorageEvent("local-storage",{key:i}))});K.useEffect(()=>{m(d())},[i]);const _=K.useCallback(C=>{C.key&&C.key!==i||m(d())},[i,d]);return op("storage",_),op("local-storage",_),[h,g,w]}const hm=6048e5,x_=864e5,pm=6e4,mm=36e5,ap=Symbol.for("constructDateFrom");function Ut(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&ap in i?i[ap](e):i instanceof Date?new i.constructor(e):new Date(e)}function Xe(i,e){return Ut(e||i,i)}function E_(i,e,n){const s=Xe(i,n==null?void 0:n.in);return isNaN(e)?Ut(i,NaN):(s.setDate(s.getDate()+e),s)}function yc(i,e,n){const s=Xe(i,n==null?void 0:n.in);if(isNaN(e))return Ut(i,NaN);if(!e)return s;const l=s.getDate(),u=Ut(i,s.getTime());u.setMonth(s.getMonth()+e+1,0);const d=u.getDate();return l>=d?u:(s.setFullYear(u.getFullYear(),u.getMonth(),l),s)}let k_={};function yl(){return k_}function qn(i,e){var h,m,g,w;const n=yl(),s=(e==null?void 0:e.weekStartsOn)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((w=(g=n.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??0,l=Xe(i,e==null?void 0:e.in),u=l.getDay(),d=(u<s?7:0)+u-s;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function qo(i,e){return qn(i,{...e,weekStartsOn:1})}function gm(i,e){const n=Xe(i,e==null?void 0:e.in),s=n.getFullYear(),l=Ut(n,0);l.setFullYear(s+1,0,4),l.setHours(0,0,0,0);const u=qo(l),d=Ut(n,0);d.setFullYear(s,0,4),d.setHours(0,0,0,0);const h=qo(d);return n.getTime()>=u.getTime()?s+1:n.getTime()>=h.getTime()?s:s-1}function up(i){const e=Xe(i),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+i-+n}function xs(i,...e){const n=Ut.bind(null,i||e.find(s=>typeof s=="object"));return e.map(n)}function Ko(i,e){const n=Xe(i,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function ym(i,e,n){const[s,l]=xs(n==null?void 0:n.in,i,e),u=Ko(s),d=Ko(l),h=+u-up(u),m=+d-up(d);return Math.round((h-m)/x_)}function N_(i,e){const n=gm(i,e),s=Ut(i,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),qo(s)}function Qu(i,e,n){const[s,l]=xs(n==null?void 0:n.in,i,e);return+Ko(s)==+Ko(l)}function T_(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function I_(i){return!(!T_(i)&&typeof i!="number"||isNaN(+Xe(i)))}function b_(i,e){const n=Xe(i,e==null?void 0:e.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function P_(i,e){const n=Xe(i,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function M_(i,e){const n=Xe(i,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function D_(i,e){const n=e==null?void 0:e.weekStartsOn,s=Xe(i,e==null?void 0:e.in),l=s.getDay(),u=(l<n?-7:0)+6-(l-n);return s.setDate(s.getDate()+u),s.setHours(23,59,59,999),s}const R_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},A_=(i,e,n)=>{let s;const l=R_[i];return typeof l=="string"?s=l:e===1?s=l.one:s=l.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function $t(i){return(e={})=>{const n=e.width?String(e.width):i.defaultWidth;return i.formats[n]||i.formats[i.defaultWidth]}}const O_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},j_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},L_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},F_={date:$t({formats:O_,defaultWidth:"full"}),time:$t({formats:j_,defaultWidth:"full"}),dateTime:$t({formats:L_,defaultWidth:"full"})},z_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},W_=(i,e,n,s)=>z_[i];function qe(i){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let l;if(s==="formatting"&&i.formattingValues){const d=i.defaultFormattingWidth||i.defaultWidth,h=n!=null&&n.width?String(n.width):d;l=i.formattingValues[h]||i.formattingValues[d]}else{const d=i.defaultWidth,h=n!=null&&n.width?String(n.width):i.defaultWidth;l=i.values[h]||i.values[d]}const u=i.argumentCallback?i.argumentCallback(e):e;return l[u]}}const B_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},U_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},G_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},V_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},H_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Y_=(i,e)=>{const n=Number(i),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Q_={ordinalNumber:Y_,era:qe({values:B_,defaultWidth:"wide"}),quarter:qe({values:$_,defaultWidth:"wide",argumentCallback:i=>i-1}),month:qe({values:U_,defaultWidth:"wide"}),day:qe({values:G_,defaultWidth:"wide"}),dayPeriod:qe({values:V_,defaultWidth:"wide",formattingValues:H_,defaultFormattingWidth:"wide"})};function Ke(i){return(e,n={})=>{const s=n.width,l=s&&i.matchPatterns[s]||i.matchPatterns[i.defaultMatchWidth],u=e.match(l);if(!u)return null;const d=u[0],h=s&&i.parsePatterns[s]||i.parsePatterns[i.defaultParseWidth],m=Array.isArray(h)?K_(h,_=>_.test(d)):q_(h,_=>_.test(d));let g;g=i.valueCallback?i.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const w=e.slice(d.length);return{value:g,rest:w}}}function q_(i,e){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&e(i[n]))return n}function K_(i,e){for(let n=0;n<i.length;n++)if(e(i[n]))return n}function vl(i){return(e,n={})=>{const s=e.match(i.matchPattern);if(!s)return null;const l=s[0],u=e.match(i.parsePattern);if(!u)return null;let d=i.valueCallback?i.valueCallback(u[0]):u[0];d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(l.length);return{value:d,rest:h}}}const X_=/^(\d+)(th|st|nd|rd)?/i,J_=/\d+/i,Z_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ew={any:[/^b/i,/^(a|c)/i]},tw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nw={any:[/1/i,/2/i,/3/i,/4/i]},rw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iw={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ow={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},aw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uw={ordinalNumber:vl({matchPattern:X_,parsePattern:J_,valueCallback:i=>parseInt(i,10)}),era:Ke({matchPatterns:Z_,defaultMatchWidth:"wide",parsePatterns:ew,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:tw,defaultMatchWidth:"wide",parsePatterns:nw,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Ke({matchPatterns:rw,defaultMatchWidth:"wide",parsePatterns:iw,defaultParseWidth:"any"}),day:Ke({matchPatterns:sw,defaultMatchWidth:"wide",parsePatterns:ow,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:lw,defaultMatchWidth:"any",parsePatterns:aw,defaultParseWidth:"any"})},vc={code:"en-US",formatDistance:A_,formatLong:F_,formatRelative:W_,localize:Q_,match:uw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cw(i,e){const n=Xe(i,e==null?void 0:e.in);return ym(n,M_(n))+1}function dw(i,e){const n=Xe(i,e==null?void 0:e.in),s=+qo(n)-+N_(n);return Math.round(s/hm)+1}function vm(i,e){var w,_,C,I;const n=Xe(i,e==null?void 0:e.in),s=n.getFullYear(),l=yl(),u=(e==null?void 0:e.firstWeekContainsDate)??((_=(w=e==null?void 0:e.locale)==null?void 0:w.options)==null?void 0:_.firstWeekContainsDate)??l.firstWeekContainsDate??((I=(C=l.locale)==null?void 0:C.options)==null?void 0:I.firstWeekContainsDate)??1,d=Ut((e==null?void 0:e.in)||i,0);d.setFullYear(s+1,0,u),d.setHours(0,0,0,0);const h=qn(d,e),m=Ut((e==null?void 0:e.in)||i,0);m.setFullYear(s,0,u),m.setHours(0,0,0,0);const g=qn(m,e);return+n>=+h?s+1:+n>=+g?s:s-1}function fw(i,e){var h,m,g,w;const n=yl(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((w=(g=n.locale)==null?void 0:g.options)==null?void 0:w.firstWeekContainsDate)??1,l=vm(i,e),u=Ut((e==null?void 0:e.in)||i,0);return u.setFullYear(l,0,s),u.setHours(0,0,0,0),qn(u,e)}function hw(i,e){const n=Xe(i,e==null?void 0:e.in),s=+qn(n,e)-+fw(n,e);return Math.round(s/hm)+1}function Ie(i,e){const n=i<0?"-":"",s=Math.abs(i).toString().padStart(e,"0");return n+s}const $n={y(i,e){const n=i.getFullYear(),s=n>0?n:1-n;return Ie(e==="yy"?s%100:s,e.length)},M(i,e){const n=i.getMonth();return e==="M"?String(n+1):Ie(n+1,2)},d(i,e){return Ie(i.getDate(),e.length)},a(i,e){const n=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(i,e){return Ie(i.getHours()%12||12,e.length)},H(i,e){return Ie(i.getHours(),e.length)},m(i,e){return Ie(i.getMinutes(),e.length)},s(i,e){return Ie(i.getSeconds(),e.length)},S(i,e){const n=e.length,s=i.getMilliseconds(),l=Math.trunc(s*Math.pow(10,n-3));return Ie(l,e.length)}},Hr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cp={G:function(i,e,n){const s=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(i,e,n){if(e==="yo"){const s=i.getFullYear(),l=s>0?s:1-s;return n.ordinalNumber(l,{unit:"year"})}return $n.y(i,e)},Y:function(i,e,n,s){const l=vm(i,s),u=l>0?l:1-l;if(e==="YY"){const d=u%100;return Ie(d,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):Ie(u,e.length)},R:function(i,e){const n=gm(i);return Ie(n,e.length)},u:function(i,e){const n=i.getFullYear();return Ie(n,e.length)},Q:function(i,e,n){const s=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Ie(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(i,e,n){const s=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Ie(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(i,e,n){const s=i.getMonth();switch(e){case"M":case"MM":return $n.M(i,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(i,e,n){const s=i.getMonth();switch(e){case"L":return String(s+1);case"LL":return Ie(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(i,e,n,s){const l=hw(i,s);return e==="wo"?n.ordinalNumber(l,{unit:"week"}):Ie(l,e.length)},I:function(i,e,n){const s=dw(i);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Ie(s,e.length)},d:function(i,e,n){return e==="do"?n.ordinalNumber(i.getDate(),{unit:"date"}):$n.d(i,e)},D:function(i,e,n){const s=cw(i);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ie(s,e.length)},E:function(i,e,n){const s=i.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(i,e,n,s){const l=i.getDay(),u=(l-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Ie(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(i,e,n,s){const l=i.getDay(),u=(l-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Ie(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(i,e,n){const s=i.getDay(),l=s===0?7:s;switch(e){case"i":return String(l);case"ii":return Ie(l,e.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(i,e,n){const l=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(i,e,n){const s=i.getHours();let l;switch(s===12?l=Hr.noon:s===0?l=Hr.midnight:l=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(i,e,n){const s=i.getHours();let l;switch(s>=17?l=Hr.evening:s>=12?l=Hr.afternoon:s>=4?l=Hr.morning:l=Hr.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(i,e,n){if(e==="ho"){let s=i.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return $n.h(i,e)},H:function(i,e,n){return e==="Ho"?n.ordinalNumber(i.getHours(),{unit:"hour"}):$n.H(i,e)},K:function(i,e,n){const s=i.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ie(s,e.length)},k:function(i,e,n){let s=i.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ie(s,e.length)},m:function(i,e,n){return e==="mo"?n.ordinalNumber(i.getMinutes(),{unit:"minute"}):$n.m(i,e)},s:function(i,e,n){return e==="so"?n.ordinalNumber(i.getSeconds(),{unit:"second"}):$n.s(i,e)},S:function(i,e){return $n.S(i,e)},X:function(i,e,n){const s=i.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return fp(s);case"XXXX":case"XX":return fr(s);case"XXXXX":case"XXX":default:return fr(s,":")}},x:function(i,e,n){const s=i.getTimezoneOffset();switch(e){case"x":return fp(s);case"xxxx":case"xx":return fr(s);case"xxxxx":case"xxx":default:return fr(s,":")}},O:function(i,e,n){const s=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+dp(s,":");case"OOOO":default:return"GMT"+fr(s,":")}},z:function(i,e,n){const s=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+dp(s,":");case"zzzz":default:return"GMT"+fr(s,":")}},t:function(i,e,n){const s=Math.trunc(+i/1e3);return Ie(s,e.length)},T:function(i,e,n){return Ie(+i,e.length)}};function dp(i,e=""){const n=i>0?"-":"+",s=Math.abs(i),l=Math.trunc(s/60),u=s%60;return u===0?n+String(l):n+String(l)+e+Ie(u,2)}function fp(i,e){return i%60===0?(i>0?"-":"+")+Ie(Math.abs(i)/60,2):fr(i,e)}function fr(i,e=""){const n=i>0?"-":"+",s=Math.abs(i),l=Ie(Math.trunc(s/60),2),u=Ie(s%60,2);return n+l+e+u}const hp=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},_m=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},pw=(i,e)=>{const n=i.match(/(P+)(p+)?/)||[],s=n[1],l=n[2];if(!l)return hp(i,e);let u;switch(s){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",hp(s,e)).replace("{{time}}",_m(l,e))},mw={p:_m,P:pw},gw=/^D+$/,yw=/^Y+$/,vw=["D","DD","YY","YYYY"];function _w(i){return gw.test(i)}function ww(i){return yw.test(i)}function Cw(i,e,n){const s=Sw(i,e,n);if(console.warn(s),vw.includes(i))throw new RangeError(s)}function Sw(i,e,n){const s=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ew=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kw=/^'([^]*?)'?$/,Nw=/''/g,Tw=/[a-zA-Z]/;function Xo(i,e,n){var w,_,C,I,b,D,P,X;const s=yl(),l=(n==null?void 0:n.locale)??s.locale??vc,u=(n==null?void 0:n.firstWeekContainsDate)??((_=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:_.firstWeekContainsDate)??s.firstWeekContainsDate??((I=(C=s.locale)==null?void 0:C.options)==null?void 0:I.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((D=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:D.weekStartsOn)??s.weekStartsOn??((X=(P=s.locale)==null?void 0:P.options)==null?void 0:X.weekStartsOn)??0,h=Xe(i,n==null?void 0:n.in);if(!I_(h))throw new RangeError("Invalid time value");let m=e.match(Ew).map(J=>{const W=J[0];if(W==="p"||W==="P"){const H=mw[W];return H(J,l.formatLong)}return J}).join("").match(xw).map(J=>{if(J==="''")return{isToken:!1,value:"'"};const W=J[0];if(W==="'")return{isToken:!1,value:Iw(J)};if(cp[W])return{isToken:!0,value:J};if(W.match(Tw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return{isToken:!1,value:J}});l.localize.preprocessor&&(m=l.localize.preprocessor(h,m));const g={firstWeekContainsDate:u,weekStartsOn:d,locale:l};return m.map(J=>{if(!J.isToken)return J.value;const W=J.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&ww(W)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&_w(W))&&Cw(W,e,String(i));const H=cp[W[0]];return H(h,W,l.localize,g)}).join("")}function Iw(i){const e=i.match(kw);return e?e[1].replace(Nw,"'"):i}function ds(i,e,n){const[s,l]=xs(n==null?void 0:n.in,i,e);return+qn(s,n)==+qn(l,n)}function _c(i,e,n){const[s,l]=xs(n==null?void 0:n.in,i,e);return s.getFullYear()===l.getFullYear()&&s.getMonth()===l.getMonth()}function bw(i,e,n){const[s,l]=xs(n==null?void 0:n.in,i,e);return s.getFullYear()===l.getFullYear()}function Pw(i,e){const n=()=>Ut(e==null?void 0:e.in,NaN),l=Aw(i);let u;if(l.date){const g=Ow(l.date,2);u=jw(g.restDateString,g.year)}if(!u||isNaN(+u))return n();const d=+u;let h=0,m;if(l.time&&(h=Lw(l.time),isNaN(h)))return n();if(l.timezone){if(m=Fw(l.timezone),isNaN(m))return n()}else{const g=new Date(d+h),w=Xe(0,e==null?void 0:e.in);return w.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),w.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),w}return Xe(d+h+m,e==null?void 0:e.in)}const Vo={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Mw=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Dw=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Rw=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Aw(i){const e={},n=i.split(Vo.dateTimeDelimiter);let s;if(n.length>2)return e;if(/:/.test(n[0])?s=n[0]:(e.date=n[0],s=n[1],Vo.timeZoneDelimiter.test(e.date)&&(e.date=i.split(Vo.timeZoneDelimiter)[0],s=i.substr(e.date.length,i.length))),s){const l=Vo.timezone.exec(s);l?(e.time=s.replace(l[1],""),e.timezone=l[1]):e.time=s}return e}function Ow(i,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=i.match(n);if(!s)return{year:NaN,restDateString:""};const l=s[1]?parseInt(s[1]):null,u=s[2]?parseInt(s[2]):null;return{year:u===null?l:u*100,restDateString:i.slice((s[1]||s[2]).length)}}function jw(i,e){if(e===null)return new Date(NaN);const n=i.match(Mw);if(!n)return new Date(NaN);const s=!!n[4],l=qi(n[1]),u=qi(n[2])-1,d=qi(n[3]),h=qi(n[4]),m=qi(n[5])-1;if(s)return Uw(e,h,m)?zw(e,h,m):new Date(NaN);{const g=new Date(0);return!Bw(e,u,d)||!$w(e,l)?new Date(NaN):(g.setUTCFullYear(e,u,Math.max(l,d)),g)}}function qi(i){return i?parseInt(i):1}function Lw(i){const e=i.match(Dw);if(!e)return NaN;const n=Pu(e[1]),s=Pu(e[2]),l=Pu(e[3]);return Gw(n,s,l)?n*mm+s*pm+l*1e3:NaN}function Pu(i){return i&&parseFloat(i.replace(",","."))||0}function Fw(i){if(i==="Z")return 0;const e=i.match(Rw);if(!e)return 0;const n=e[1]==="+"?-1:1,s=parseInt(e[2]),l=e[3]&&parseInt(e[3])||0;return Vw(s,l)?n*(s*mm+l*pm):NaN}function zw(i,e,n){const s=new Date(0);s.setUTCFullYear(i,0,4);const l=s.getUTCDay()||7,u=(e-1)*7+n+1-l;return s.setUTCDate(s.getUTCDate()+u),s}const Ww=[31,null,31,30,31,30,31,31,30,31,30,31];function wm(i){return i%400===0||i%4===0&&i%100!==0}function Bw(i,e,n){return e>=0&&e<=11&&n>=1&&n<=(Ww[e]||(wm(i)?29:28))}function $w(i,e){return e>=1&&e<=(wm(i)?366:365)}function Uw(i,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Gw(i,e,n){return i===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&i>=0&&i<25}function Vw(i,e){return e>=0&&e<=59}function Cm(i,e,n){return yc(i,-e,n)}const Hw={lessThanXSeconds:{one:{regular:"mniej ni sekunda",past:"mniej ni sekund",future:"mniej ni sekund"},twoFour:"mniej ni {{count}} sekundy",other:"mniej ni {{count}} sekund"},xSeconds:{one:{regular:"sekunda",past:"sekund",future:"sekund"},twoFour:"{{count}} sekundy",other:"{{count}} sekund"},halfAMinute:{one:"p minuty",twoFour:"p minuty",other:"p minuty"},lessThanXMinutes:{one:{regular:"mniej ni minuta",past:"mniej ni minut",future:"mniej ni minut"},twoFour:"mniej ni {{count}} minuty",other:"mniej ni {{count}} minut"},xMinutes:{one:{regular:"minuta",past:"minut",future:"minut"},twoFour:"{{count}} minuty",other:"{{count}} minut"},aboutXHours:{one:{regular:"okoo godziny",past:"okoo godziny",future:"okoo godzin"},twoFour:"okoo {{count}} godziny",other:"okoo {{count}} godzin"},xHours:{one:{regular:"godzina",past:"godzin",future:"godzin"},twoFour:"{{count}} godziny",other:"{{count}} godzin"},xDays:{one:{regular:"dzie",past:"dzie",future:"1 dzie"},twoFour:"{{count}} dni",other:"{{count}} dni"},aboutXWeeks:{one:"okoo tygodnia",twoFour:"okoo {{count}} tygodni",other:"okoo {{count}} tygodni"},xWeeks:{one:"tydzie",twoFour:"{{count}} tygodnie",other:"{{count}} tygodni"},aboutXMonths:{one:"okoo miesic",twoFour:"okoo {{count}} miesice",other:"okoo {{count}} miesicy"},xMonths:{one:"miesic",twoFour:"{{count}} miesice",other:"{{count}} miesicy"},aboutXYears:{one:"okoo rok",twoFour:"okoo {{count}} lata",other:"okoo {{count}} lat"},xYears:{one:"rok",twoFour:"{{count}} lata",other:"{{count}} lat"},overXYears:{one:"ponad rok",twoFour:"ponad {{count}} lata",other:"ponad {{count}} lat"},almostXYears:{one:"prawie rok",twoFour:"prawie {{count}} lata",other:"prawie {{count}} lat"}};function Yw(i,e){if(e===1)return i.one;const n=e%100;if(n<=20&&n>10)return i.other;const s=n%10;return s>=2&&s<=4?i.twoFour:i.other}function Mu(i,e,n){const s=Yw(i,e);return(typeof s=="string"?s:s[n]).replace("{{count}}",String(e))}const Qw=(i,e,n)=>{const s=Hw[i];return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"za "+Mu(s,e,"future"):Mu(s,e,"past")+" temu":Mu(s,e,"regular")},qw={full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},Kw={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Xw={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jw={date:$t({formats:qw,defaultWidth:"full"}),time:$t({formats:Kw,defaultWidth:"full"}),dateTime:$t({formats:Xw,defaultWidth:"full"})},Zw={masculine:"ostatni",feminine:"ostatnia"},e0={masculine:"ten",feminine:"ta"},t0={masculine:"nastpny",feminine:"nastpna"},n0={0:"feminine",1:"masculine",2:"masculine",3:"feminine",4:"masculine",5:"masculine",6:"feminine"};function pp(i,e,n,s){let l;if(ds(e,n,s))l=e0;else if(i==="lastWeek")l=Zw;else if(i==="nextWeek")l=t0;else throw new Error(`Cannot determine adjectives for token ${i}`);const u=e.getDay(),d=n0[u];return`'${l[d]}' eeee 'o' p`}const r0={lastWeek:pp,yesterday:"'wczoraj o' p",today:"'dzisiaj o' p",tomorrow:"'jutro o' p",nextWeek:pp,other:"P"},i0=(i,e,n,s)=>{const l=r0[i];return typeof l=="function"?l(i,e,n,s):l},s0={narrow:["p.n.e.","n.e."],abbreviated:["p.n.e.","n.e."],wide:["przed nasz er","naszej ery"]},o0={narrow:["1","2","3","4"],abbreviated:["I kw.","II kw.","III kw.","IV kw."],wide:["I kwarta","II kwarta","III kwarta","IV kwarta"]},l0={narrow:["S","L","M","K","M","C","L","S","W","P","L","G"],abbreviated:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru"],wide:["stycze","luty","marzec","kwiecie","maj","czerwiec","lipiec","sierpie","wrzesie","padziernik","listopad","grudzie"]},a0={narrow:["s","l","m","k","m","c","l","s","w","p","l","g"],abbreviated:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru"],wide:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrzenia","padziernika","listopada","grudnia"]},u0={narrow:["N","P","W","","C","P","S"],short:["nie","pon","wto","ro","czw","pi","sob"],abbreviated:["niedz.","pon.","wt.","r.","czw.","pt.","sob."],wide:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"]},c0={narrow:["n","p","w","","c","p","s"],short:["nie","pon","wto","ro","czw","pi","sob"],abbreviated:["niedz.","pon.","wt.","r.","czw.","pt.","sob."],wide:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"]},d0={narrow:{am:"a",pm:"p",midnight:"pn.",noon:"po",morning:"rano",afternoon:"popo.",evening:"wiecz.",night:"noc"},abbreviated:{am:"AM",pm:"PM",midnight:"pnoc",noon:"poudnie",morning:"rano",afternoon:"popoudnie",evening:"wieczr",night:"noc"},wide:{am:"AM",pm:"PM",midnight:"pnoc",noon:"poudnie",morning:"rano",afternoon:"popoudnie",evening:"wieczr",night:"noc"}},f0={narrow:{am:"a",pm:"p",midnight:"o pn.",noon:"w po.",morning:"rano",afternoon:"po po.",evening:"wiecz.",night:"w nocy"},abbreviated:{am:"AM",pm:"PM",midnight:"o pnocy",noon:"w poudnie",morning:"rano",afternoon:"po poudniu",evening:"wieczorem",night:"w nocy"},wide:{am:"AM",pm:"PM",midnight:"o pnocy",noon:"w poudnie",morning:"rano",afternoon:"po poudniu",evening:"wieczorem",night:"w nocy"}},h0=(i,e)=>String(i),p0={ordinalNumber:h0,era:qe({values:s0,defaultWidth:"wide"}),quarter:qe({values:o0,defaultWidth:"wide",argumentCallback:i=>i-1}),month:qe({values:l0,defaultWidth:"wide",formattingValues:a0,defaultFormattingWidth:"wide"}),day:qe({values:u0,defaultWidth:"wide",formattingValues:c0,defaultFormattingWidth:"wide"}),dayPeriod:qe({values:d0,defaultWidth:"wide",formattingValues:f0,defaultFormattingWidth:"wide"})},m0=/^(\d+)?/i,g0=/\d+/i,y0={narrow:/^(p\.?\s*n\.?\s*e\.?\s*|n\.?\s*e\.?\s*)/i,abbreviated:/^(p\.?\s*n\.?\s*e\.?\s*|n\.?\s*e\.?\s*)/i,wide:/^(przed\s*nasz(|a)\s*er(|a)|naszej\s*ery)/i},v0={any:[/^p/i,/^n/i]},_0={narrow:/^[1234]/i,abbreviated:/^(I|II|III|IV)\s*kw\.?/i,wide:/^(I|II|III|IV)\s*kwarta(|l)/i},w0={narrow:[/1/i,/2/i,/3/i,/4/i],any:[/^I kw/i,/^II kw/i,/^III kw/i,/^IV kw/i]},C0={narrow:/^[slmkcwpg]/i,abbreviated:/^(sty|lut|mar|kwi|maj|cze|lip|sie|wrz|pa(|z)|lis|gru)/i,wide:/^(stycznia|stycze(|n)|lutego|luty|marca|marzec|kwietnia|kwiecie(|n)|maja|maj|czerwca|czerwiec|lipca|lipiec|sierpnia|sierpie(|n)|wrze(|s)nia|wrzesie(|n)|pa(|z)dziernika|pa(|z)dziernik|listopada|listopad|grudnia|grudzie(|n))/i},S0={narrow:[/^s/i,/^l/i,/^m/i,/^k/i,/^m/i,/^c/i,/^l/i,/^s/i,/^w/i,/^p/i,/^l/i,/^g/i],any:[/^st/i,/^lu/i,/^mar/i,/^k/i,/^maj/i,/^c/i,/^lip/i,/^si/i,/^w/i,/^p/i,/^lis/i,/^g/i]},x0={narrow:/^[npwcs]/i,short:/^(nie|pon|wto|(|s)ro|czw|pi(|a)|sob)/i,abbreviated:/^(niedz|pon|wt|(|s)r|czw|pt|sob)\.?/i,wide:/^(niedziela|poniedzia(|l)ek|wtorek|(|s)roda|czwartek|pi(|a)tek|sobota)/i},E0={narrow:[/^n/i,/^p/i,/^w/i,/^/i,/^c/i,/^p/i,/^s/i],abbreviated:[/^n/i,/^po/i,/^w/i,/^(|s)r/i,/^c/i,/^pt/i,/^so/i],any:[/^n/i,/^po/i,/^w/i,/^(|s)r/i,/^c/i,/^pi/i,/^so/i]},k0={narrow:/^(^a$|^p$|p(|l)n\.?|o\s*p(|l)n\.?|po(|l)\.?|w\s*po(|l)\.?|po\s*po(|l)\.?|rano|wiecz\.?|noc|w\s*nocy)/i,any:/^(am|pm|p(|l)noc|o\s*p(|l)nocy|po(|l)udnie|w\s*po(|l)udnie|popo(|l)udnie|po\s*po(|l)udniu|rano|wieczr|wieczorem|noc|w\s*nocy)/i},N0={narrow:{am:/^a$/i,pm:/^p$/i,midnight:/p(|l)n/i,noon:/po(|l)/i,morning:/rano/i,afternoon:/po\s*po(|l)/i,evening:/wiecz/i,night:/noc/i},any:{am:/^am/i,pm:/^pm/i,midnight:/p(|l)n/i,noon:/po(|l)/i,morning:/rano/i,afternoon:/po\s*po(|l)/i,evening:/wiecz/i,night:/noc/i}},T0={ordinalNumber:vl({matchPattern:m0,parsePattern:g0,valueCallback:i=>parseInt(i,10)}),era:Ke({matchPatterns:y0,defaultMatchWidth:"wide",parsePatterns:v0,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:_0,defaultMatchWidth:"wide",parsePatterns:w0,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Ke({matchPatterns:C0,defaultMatchWidth:"wide",parsePatterns:S0,defaultParseWidth:"any"}),day:Ke({matchPatterns:x0,defaultMatchWidth:"wide",parsePatterns:E0,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:k0,defaultMatchWidth:"any",parsePatterns:N0,defaultParseWidth:"any"})},Sm={code:"pl",formatDistance:Qw,formatLong:Jw,formatRelative:i0,localize:p0,match:T0,options:{weekStartsOn:1,firstWeekContainsDate:4}};function Ki(i,e){if(i.one!==void 0&&e===1)return i.one;const n=e%10,s=e%100;return n===1&&s!==11?i.singularNominative.replace("{{count}}",String(e)):n>=2&&n<=4&&(s<10||s>20)?i.singularGenitive.replace("{{count}}",String(e)):i.pluralGenitive.replace("{{count}}",String(e))}function _t(i){return(e,n)=>n!=null&&n.addSuffix?n.comparison&&n.comparison>0?i.future?Ki(i.future,e):" "+Ki(i.regular,e):i.past?Ki(i.past,e):Ki(i.regular,e)+" ":Ki(i.regular,e)}const I0={lessThanXSeconds:_t({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:_t({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:(i,e)=>e!=null&&e.addSuffix?e.comparison&&e.comparison>0?" ":" ":"",lessThanXMinutes:_t({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:_t({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:_t({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:_t({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:_t({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXWeeks:_t({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:_t({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:_t({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:_t({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:_t({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:_t({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:_t({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:_t({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},b0=(i,e,n)=>I0[i](e,n),P0={full:"EEEE, d MMMM y '.'",long:"d MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},M0={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},D0={any:"{{date}}, {{time}}"},R0={date:$t({formats:P0,defaultWidth:"full"}),time:$t({formats:M0,defaultWidth:"full"}),dateTime:$t({formats:D0,defaultWidth:"any"})},wc=["","","","","","",""];function A0(i){const e=wc[i];switch(i){case 0:return"'  "+e+" ' p";case 1:case 2:case 4:return"'  "+e+" ' p";case 3:case 5:case 6:return"'  "+e+" ' p"}}function mp(i){const e=wc[i];return i===2?"' "+e+" ' p":"' "+e+" ' p"}function O0(i){const e=wc[i];switch(i){case 0:return"'  "+e+" ' p";case 1:case 2:case 4:return"'  "+e+" ' p";case 3:case 5:case 6:return"'  "+e+" ' p"}}const j0={lastWeek:(i,e,n)=>{const s=i.getDay();return ds(i,e,n)?mp(s):A0(s)},yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:(i,e,n)=>{const s=i.getDay();return ds(i,e,n)?mp(s):O0(s)},other:"P"},L0=(i,e,n,s)=>{const l=j0[i];return typeof l=="function"?l(e,n,s):l},F0={narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},z0={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},W0={narrow:["","","","","","","","","","","",""],abbreviated:[".",".","",".","","","",".",".",".",".","."],wide:["","","","","","","","","","","",""]},B0={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".","",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},$0={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},U0={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},G0={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},V0=(i,e)=>{const n=Number(i),s=e==null?void 0:e.unit;let l;return s==="date"?l="-":s==="week"||s==="minute"||s==="second"?l="-":l="-",n+l},H0={ordinalNumber:V0,era:qe({values:F0,defaultWidth:"wide"}),quarter:qe({values:z0,defaultWidth:"wide",argumentCallback:i=>i-1}),month:qe({values:W0,defaultWidth:"wide",formattingValues:B0,defaultFormattingWidth:"wide"}),day:qe({values:$0,defaultWidth:"wide"}),dayPeriod:qe({values:U0,defaultWidth:"any",formattingValues:G0,defaultFormattingWidth:"wide"})},Y0=/^(\d+)(-?(||||||||||))?/i,Q0=/\d+/i,q0={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},K0={any:[/^/i,/^/i]},X0={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},J0={any:[/1/i,/2/i,/3/i,/4/i]},Z0={narrow:/^[]/i,abbreviated:/^(||?||[]|[]?|[]?||?||?|)\.?/i,wide:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i},e1={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},t1={narrow:/^[]/i,short:/^(|||||||||||)\.?/i,abbreviated:/^(||||||||||||).?/i,wide:/^([]|?|?|[]|?|[]|[])/i},n1={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^[]/i,/^[]/i,/^/i,/^/i,/^/i,/^[]/i,/^[]/i]},r1={narrow:/^([]|\.?|\.?|[]|||\.?|[])/i,abbreviated:/^([]|\.?|\.?|[]|||\.?|[])/i,wide:/^([]|||[]|||?|[])/i},i1={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},s1={ordinalNumber:vl({matchPattern:Y0,parsePattern:Q0,valueCallback:i=>parseInt(i,10)}),era:Ke({matchPatterns:q0,defaultMatchWidth:"wide",parsePatterns:K0,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:X0,defaultMatchWidth:"wide",parsePatterns:J0,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Ke({matchPatterns:Z0,defaultMatchWidth:"wide",parsePatterns:e1,defaultParseWidth:"any"}),day:Ke({matchPatterns:t1,defaultMatchWidth:"wide",parsePatterns:n1,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:r1,defaultMatchWidth:"wide",parsePatterns:i1,defaultParseWidth:"any"})},Jo={code:"ru",formatDistance:b0,formatLong:R0,formatRelative:L0,localize:H0,match:s1,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Xi(i,e){if(i.one!==void 0&&e===1)return i.one;const n=e%10,s=e%100;return n===1&&s!==11?i.singularNominative.replace("{{count}}",String(e)):n>=2&&n<=4&&(s<10||s>20)?i.singularGenitive.replace("{{count}}",String(e)):i.pluralGenitive.replace("{{count}}",String(e))}function wt(i){return(e,n)=>n&&n.addSuffix?n.comparison&&n.comparison>0?i.future?Xi(i.future,e):" "+Xi(i.regular,e):i.past?Xi(i.past,e):Xi(i.regular,e)+" ":Xi(i.regular,e)}const o1=(i,e)=>e&&e.addSuffix?e.comparison&&e.comparison>0?" ":" ":"",l1={lessThanXSeconds:wt({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:wt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:o1,lessThanXMinutes:wt({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:wt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:wt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:wt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:wt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} i",pluralGenitive:"{{count}} "}}),aboutXWeeks:wt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:wt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:wt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:wt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:wt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:wt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:wt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:wt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},a1=(i,e,n)=>(n=n||{},l1[i](e,n)),u1={full:"EEEE, do MMMM y '.'",long:"do MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},c1={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},d1={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},f1={date:$t({formats:u1,defaultWidth:"full"}),time:$t({formats:c1,defaultWidth:"full"}),dateTime:$t({formats:d1,defaultWidth:"full"})},Cc=["","","","","","",""];function h1(i){const e=Cc[i];switch(i){case 0:case 3:case 5:case 6:return"'  "+e+" ' p";case 1:case 2:case 4:return"'  "+e+" ' p"}}function xm(i){return"' "+Cc[i]+" ' p"}function p1(i){const e=Cc[i];switch(i){case 0:case 3:case 5:case 6:return"'  "+e+" ' p";case 1:case 2:case 4:return"'  "+e+" ' p"}}const m1=(i,e,n)=>{const s=Xe(i),l=s.getDay();return ds(s,e,n)?xm(l):h1(l)},g1=(i,e,n)=>{const s=Xe(i),l=s.getDay();return ds(s,e,n)?xm(l):p1(l)},y1={lastWeek:m1,yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:g1,other:"P"},v1=(i,e,n,s)=>{const l=y1[i];return typeof l=="function"?l(e,n,s):l},_1={narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},w1={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},C1={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".",".",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},S1={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".",".",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},x1={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},E1={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},k1={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:".",night:""}},N1=(i,e)=>{const n=String(e==null?void 0:e.unit),s=Number(i);let l;return n==="date"?s===3||s===23?l="-":l="-":n==="minute"||n==="second"||n==="hour"?l="-":l="-",s+l},T1={ordinalNumber:N1,era:qe({values:_1,defaultWidth:"wide"}),quarter:qe({values:w1,defaultWidth:"wide",argumentCallback:i=>i-1}),month:qe({values:C1,defaultWidth:"wide",formattingValues:S1,defaultFormattingWidth:"wide"}),day:qe({values:x1,defaultWidth:"wide"}),dayPeriod:qe({values:E1,defaultWidth:"any",formattingValues:k1,defaultFormattingWidth:"wide"})},I1=/^(\d+)(-?(||||))?/i,b1=/\d+/i,P1={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},M1={any:[/^/i,/^/i]},D1={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},R1={any:[/1/i,/2/i,/3/i,/4/i]},A1={narrow:/^[]/i,abbreviated:/^(||()?||||||()?||()?|)\.?/i,wide:/^(||||||||||||||||||||[]?||)/i},O1={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},j1={narrow:/^[]/i,short:/^(||||||)\.?/i,abbreviated:/^(||||?|?|)\.?/i,wide:/^([]|[][]|[][]|[]|()?|\W*?[]|[])/i},L1={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^[]/i,/^/i,/^[]/i,/^/i,/^\W*?[]/i,/^[]/i]},F1={narrow:/^([]|\.?|\.?|||||\.?||)/i,abbreviated:/^([]|\.?|\.?|||||\.?||)/i,wide:/^([]||||||||||)/i},z1={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},W1={ordinalNumber:vl({matchPattern:I1,parsePattern:b1,valueCallback:i=>parseInt(i,10)}),era:Ke({matchPatterns:P1,defaultMatchWidth:"wide",parsePatterns:M1,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:D1,defaultMatchWidth:"wide",parsePatterns:R1,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Ke({matchPatterns:A1,defaultMatchWidth:"wide",parsePatterns:O1,defaultParseWidth:"any"}),day:Ke({matchPatterns:j1,defaultMatchWidth:"wide",parsePatterns:L1,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:F1,defaultMatchWidth:"wide",parsePatterns:z1,defaultParseWidth:"any"})},Em={code:"uk",formatDistance:a1,formatLong:f1,formatRelative:v1,localize:T1,match:W1,options:{weekStartsOn:1,firstWeekContainsDate:1}},gp=["#EA4335","#FFB705","#E65100","#34A853","#4285F4","#000"],B1=["","","",""],$1=["","","","","","","","","","","","","",""],qu=[{id:"1",title:"",exchangeRate:1},{id:"2",title:"pln",exchangeRate:1},{id:"3",title:"",exchangeRate:1},{id:"4",title:"$",exchangeRate:1}],ct=[];for(let i=0;i<256;++i)ct.push((i+256).toString(16).slice(1));function U1(i,e=0){return(ct[i[e+0]]+ct[i[e+1]]+ct[i[e+2]]+ct[i[e+3]]+"-"+ct[i[e+4]]+ct[i[e+5]]+"-"+ct[i[e+6]]+ct[i[e+7]]+"-"+ct[i[e+8]]+ct[i[e+9]]+"-"+ct[i[e+10]]+ct[i[e+11]]+ct[i[e+12]]+ct[i[e+13]]+ct[i[e+14]]+ct[i[e+15]]).toLowerCase()}let Du;const G1=new Uint8Array(16);function V1(){if(!Du){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Du=crypto.getRandomValues.bind(crypto)}return Du(G1)}const H1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),yp={randomUUID:H1};function km(i,e,n){if(yp.randomUUID&&!e&&!i)return yp.randomUUID();i=i||{};const s=i.random||(i.rng||V1)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,U1(s)}const Ge={noConnection:{ua:" ",ru:" ",eng:"Settings",pl:"Brak sieci"},changeLanguage:{ua:" ",ru:" ",eng:"Change language",pl:"Zmie jzyk"},settings:{ua:"",ru:"",eng:"Settings",pl:"Ustawienia"},mainCurrency:{ua:" ",ru:" ",eng:"Main currency",pl:"Gwna waluta"},selectFirstPrimaryCurrency:{ua:"  ",ru:"  ",eng:"Select the primary currency",pl:"Wybierz walut gwn"},selectPrimaryCurrency:{ua:"     ",ru:"     ",eng:"First, select the primary currency in settings",pl:"Najpierw wybierz walut gwn w ustawieniach"},currentRate:{ua:" ",ru:" ",eng:"Current rate",pl:"Aktualny kurs"},appData:{ua:" ",ru:" ",eng:"App data",pl:"Dane aplikacji"},deleteAll:{ua:" ",ru:" ",eng:"Delete all",pl:"Usu wszystko"},sync:{ua:"",ru:"",eng:"Synchronization",pl:"Synchronizacja"},restoreData:{ua:"?    !",ru:"?    !",eng:"Restore? Current data will be deleted!",pl:"Przywrci? Aktualne dane zostan usunite!"},loaded:{ua:"",ru:"",eng:"Loaded",pl:"Zaadowano"},dataDeleted:{ua:"   ",ru:"   ",eng:"Data on the server has been deleted",pl:"Dane na serwerze zostay usunite"},darkTheme:{ua:" ",ru:" ",eng:"Dark theme",pl:"Ciemny motyw"},save:{ua:"",ru:"",eng:"Save",pl:"Zapisz"},confirmDeleteAll:{ua:"    ?",ru:"    ?",eng:"Do you really want to delete everything?",pl:"Czy na pewno chcesz usun wszystko?"},confirm:{ua:"",ru:"",eng:"Confirm",pl:"Potwierd"},cancel:{ua:"",ru:"",eng:"Cancel",pl:"Anuluj"},enterPassword:{ua:" ",ru:" ",eng:"Enter password",pl:"Wprowad haso"},restore:{ua:"",ru:"",eng:"Restore",pl:"Przywr"},backup:{ua:"  ",ru:"  ",eng:"Backup",pl:"Utwrz kopi zapasow"},success:{ua:"",ru:"",eng:"Success",pl:"Sukces"},error:{ua:"",ru:"",eng:"Error",pl:"Bd"},loading:{ua:"",ru:"",eng:"Loading",pl:"adowanie"},changeMainCurrency:{ua:"  ",ru:"  ",eng:"Changing main currency",pl:"Zmiana gwnej waluty"},confirmChangeMainCurrency:{ua:"     ?       !",ru:"     ?       !",eng:"Do you really want to change the main currency? The rates of the remaining currencies will need to be reset!",pl:"Czy na pewno chcesz zmieni gwn walut? Kursy pozostaych walut trzeba bdzie skonfigurowa od nowa!"},balance:{ua:"",ru:"",eng:"Balance",pl:"Saldo"},budget:{ua:"",ru:"",eng:"Budget",pl:"Budet"},selectCurrencyAndAddAccounts:{ua:"     ",ru:"     ",eng:"First, select the currency and add accounts",pl:"Najpierw wybierz walut i dodaj konta"},monthlyExpenses:{ua:"   ",ru:"   ",eng:"Monthly expenses",pl:"Miesiczne wydatki"},account:{ua:"",ru:"",eng:"Account",pl:"Konto"},selectDate:{ua:" ",ru:" ",eng:"Select date",pl:"Wybr daty"},accounts:{ua:"",ru:"",eng:"Accounts",pl:"Konta"},addAccount:{ua:" ",ru:" ",eng:"Add account",pl:"Dodaj konto"},enterPlannedAmount:{ua:"  ",ru:"  ",eng:"Enter the planned amount",pl:"Wprowad planowan kwot"},addFirstAccount:{ua:"  ",ru:"  ",eng:"Add the first account",pl:"Dodaj pierwsze konto"},accountName:{ua:" ",ru:" ",eng:"Account name",pl:"Nazwa konta"},name:{ua:"",ru:"",eng:"Name",pl:"Nazwa"},amount:{ua:"",ru:"",eng:"Amount",pl:"Kwota"},initialBalance:{ua:" ",ru:" ",eng:"Initial balance",pl:"Saldo pocztkowe"},accountCurrency:{ua:" ",ru:" ",eng:"Account currency",pl:"Waluta konta"},color:{ua:"",ru:"",eng:"Color",pl:"Kolor"},edit:{ua:"",ru:"",eng:"Edit",pl:"Edytuj"},delete:{ua:"",ru:"",eng:"Delete",pl:"Usu"},accountDeletion:{ua:" ",ru:" ",eng:"Account deletion",pl:"Usunicie konta"},confirmAccountDeletion:{ua:"    ?",ru:"    ?",eng:"Do you really want to delete the account?",pl:"Czy na pewno chcesz usun konto?"},incomes:{ua:"",ru:"",eng:"Incomes",pl:"Przychody"},expenses:{ua:"",ru:"",eng:"Expenses",pl:"Wydatki"},transactions:{ua:"",ru:"",eng:"Transactions",pl:"Transakcje"},noTansactions:{ua:" ",ru:" ",eng:"No transactions",pl:"Brak transakcji"},filter:{ua:"",ru:"",eng:"Filter",pl:"Filtr"},byDate:{ua:" ",ru:" ",eng:"By date",pl:"Wedug daty"},all:{ua:"",ru:"",eng:"All",pl:"Wszystkie"},today:{ua:"",ru:"",eng:"Today",pl:"Dzisiaj"},month:{ua:"",ru:"",eng:"Month",pl:"Miesic"},year:{ua:"",ru:"",eng:"Year",pl:"Rok"},byTransactionType:{ua:"  ",ru:"  ",eng:"By transaction type",pl:"Wedug rodzaju transakcji"},addExpense:{ua:" ",ru:" ",eng:"Add expense",pl:"Dodaj wydatek"},addIncome:{ua:" ",ru:" ",eng:"Add income",pl:"Dodaj przychd"},selectAccount:{ua:" ",ru:" ",eng:"Select account",pl:"Wybierz konto"},category:{ua:"",ru:"",eng:"Category",pl:"Kategoria"},incomeCategories:{ua:" ",ru:" ",eng:"Income categories",pl:"Kategorie dochodw"},expenseCategories:{ua:" ",ru:" ",eng:"Expense categories",pl:"Kategorie wydatkw"},description:{ua:"",ru:"",eng:"Description",pl:"Opis"},set:{ua:"",ru:"",eng:"Set",pl:"Ustawi"},confirmTransactionDeletion:{ua:"    ?",ru:"    ?",eng:"Do you really want to delete the transaction?",pl:"Czy na pewno chcesz usun transakcj?"},transactionDeletion:{ua:" ",ru:" ",eng:"Transaction deletion",pl:"Usunicie transakcji"}},is=["ua","pl","eng","ru"],Nm=K.createContext(null),Y1=({children:i})=>{const[e,n]=K.useState("ua");K.useEffect(()=>{const l=localStorage.getItem("lang");l&&is.includes(l)&&n(l)},[]);const s=l=>{localStorage.setItem("lang",l),n(l)};return y.jsx(Nm.Provider,{value:{userLanguage:e,changeLanguages:s},children:i})},Es=()=>{const i=K.useContext(Nm);if(!i)throw new Error("useCurrentLanguage must be used within a LangContextProvider");return i};function Zo({title:i,dascription:e,onClose:n,onConfirm:s}){const{userLanguage:l}=Es();return y.jsx("div",{className:"fixed flex items-center p-6 bg-black/50 backdrop-blur inset-0 z-10",children:y.jsxs("div",{className:"bg-white dark:bg-neutral-700 dark:text-white p-4 rounded-xl max-w-lg mx-auto",children:[y.jsx("h3",{className:"text-center",children:i}),y.jsx("p",{className:"mt-2 text-neutral-500 dark:text-neutral-200 text-center",children:e}),y.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[y.jsx("button",{className:"btn_2 border border-[#EA4335] text-[#EA4335]",onClick:()=>s(),children:Ge.confirm[l]}),y.jsx("button",{className:"btn_2",onClick:()=>n(!1),children:Ge.cancel[l]})]})]})})}function Tm({setModal:i,editMode:e,account:n}){const{userLanguage:s}=Es(),[l]=Pe("localMainCurrency",""),[u,d]=Pe("localAccounts",[]),[h,m]=K.useState(n?n.title:""),[g,w]=K.useState(n?n.currency:""),[_,C]=K.useState(n?n.initialBalance:""),[I,b]=K.useState(n?n.color:gp[0]),D=()=>{const W={id:e&&n?n.id:km(),title:h,currency:g,color:I,initialBalance:Number(_)},H=u.findIndex(F=>F.id===W.id);if(H>-1){const F=[...u];F[H]=W,d(F),i(!1)}else d([...u,W]),i(!1)},P=W=>{const H=u.filter(F=>F.id!==W);d(H)},[X,J]=K.useState(!1);return y.jsx(y.Fragment,{children:l?y.jsxs(y.Fragment,{children:[X&&y.jsx(Zo,{title:Ge.accountDeletion[s],dascription:Ge.confirmAccountDeletion[s],onClose:()=>J(!1),onConfirm:()=>{i(!1),n&&P(n.id)}}),y.jsxs("div",{className:"flex gap-2 items-end",children:[y.jsxs("div",{className:"w-3/4",children:[y.jsx("h3",{children:Ge.accountName[s]}),y.jsx("input",{type:"text",placeholder:Ge.name[s],className:"input text-lg mt-1",value:h,onChange:W=>m(W.target.value)})]}),y.jsxs("div",{children:[y.jsx("p",{children:Ge.initialBalance[s]}),y.jsx("input",{type:"number",placeholder:Ge.amount[s],className:"input text-lg mt-1",value:_,onChange:W=>C(W.target.value)})]})]}),y.jsx("p",{className:"mt-4",children:Ge.accountCurrency[s]}),y.jsx("div",{className:"mt-1 grid grid-cols-4 gap-4",children:qu.map(({id:W,title:H})=>y.jsx("button",{className:`${g===H?"ring-2 ring-neutral-500":""} btn_2`,onClick:()=>w(H),children:H},W))}),y.jsx("p",{className:"mt-4",children:Ge.color[s]}),y.jsx("div",{className:"mt-1 flex justify-between",children:gp.map(W=>y.jsx("button",{style:{backgroundColor:W},className:`${I===W?"scale-[119%]":""} w-10 h-10 aspect-square px-4 rounded-full transition-all`,onClick:()=>b(W)},W))}),y.jsxs("div",{className:"mt-6 flex gap-4 justify-end",children:[e&&y.jsx("button",{className:"btn_2 border border-[#EA4335] text-[#EA4335]",onClick:()=>J(!0),disabled:!h||!g,children:Ge.delete[s]}),y.jsx("button",{className:"btn_2",onClick:D,disabled:!h||!g,children:e?Ge.edit[s]:Ge.save[s]})]})]}):`${Ge.selectPrimaryCurrency[s]}`})}function bt({title:i,setModal:e,node:n,subModal:s}){return y.jsx("div",{className:"fixed p-4 bg-black/50 backdrop-blur inset-0 z-10",children:y.jsxs("div",{className:`${s&&"mt-2 mx-2"} bg-white dark:bg-neutral-800 dark:ring-2 dark:ring-neutral-700 dark:text-white p-4 rounded-xl max-w-lg mx-auto`,children:[y.jsxs("div",{className:"flex gap-4 justify-between items-start",children:[y.jsx("h3",{children:i}),y.jsx("button",{className:"btn_1 dark:!bg-black rotate-45",onClick:()=>e(!1),children:"+"})]}),y.jsx("div",{className:"pt-4",children:n})]})})}function Q1({account:i}){const{userLanguage:e}=Es(),[n,s]=K.useState(!1),[l]=Pe("localTransactions",[]),[u]=Pe("localExpensesTransactions",[]),d=[...l,...u],m=((g,w)=>g.filter(_=>_.accountId===w).reduce((_,C)=>_+C.amount,0))(d,i.id);return y.jsxs(y.Fragment,{children:[n&&y.jsx(bt,{title:Ge.account[e],setModal:s,node:y.jsx(Tm,{editMode:!0,account:i,setModal:s})}),y.jsx("div",{style:{backgroundColor:i.color},onClick:()=>s(!0),className:"rounded-lg p-2 w-full flex justify-between items-start text-white font-aptosSemiBold cursor-pointer",children:y.jsxs("div",{children:[y.jsxs("p",{className:"text-xs",children:[i.title,", ",y.jsx("span",{children:i.currency})]}),y.jsxs("p",{className:"text-lg font-aptosSemiBold",children:[i.initialBalance+m," ",y.jsx("span",{className:"text-xs",children:i.currency})]})]})})]})}function q1({userLanguage:i,text:e}){const[n,s]=K.useState(!1),[l]=Pe("localAccounts",[]);return y.jsxs(y.Fragment,{children:[n&&y.jsx(bt,{title:e.addAccount[i],setModal:s,node:y.jsx(Tm,{setModal:s})}),y.jsxs("section",{children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsx("h3",{children:e.accounts[i]}),y.jsx("button",{className:"btn_1",onClick:()=>s(!0),children:"+"})]}),l.length>0?y.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2 items-center",children:l.map(u=>y.jsx(Q1,{account:u},u.id))}):y.jsx("p",{className:"text-neutral-500",children:e.addFirstAccount[i]})]})]})}var vp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(i,e){if(!i)throw ri(e)},ri=function(i){return new Error("Firebase Database ("+Im.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},K1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const l=i[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[n++],d=i[n++],h=i[n++],m=((l&7)<<18|(u&63)<<12|(d&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[n++],d=i[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Sc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const u=i[l],d=l+1<i.length,h=d?i[l+1]:0,m=l+2<i.length,g=m?i[l+2]:0,w=u>>2,_=(u&3)<<4|h>>4;let C=(h&15)<<2|g>>6,I=g&63;m||(I=64,d||(C=64)),s.push(n[w],n[_],n[C],n[I])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(bm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):K1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const u=n[i.charAt(l++)],h=l<i.length?n[i.charAt(l)]:0;++l;const g=l<i.length?n[i.charAt(l)]:64;++l;const _=l<i.length?n[i.charAt(l)]:64;if(++l,u==null||h==null||g==null||_==null)throw new X1;const C=u<<2|h>>4;if(s.push(C),g!==64){const I=h<<4&240|g>>2;if(s.push(I),_!==64){const b=g<<6&192|_;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class X1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pm=function(i){const e=bm(i);return Sc.encodeByteArray(e,!0)},el=function(i){return Pm(i).replace(/\./g,"")},Ku=function(i){try{return Sc.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(i){return Mm(void 0,i)}function Mm(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Z1(n)||(i[n]=Mm(i[n],e[n]));return i}function Z1(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=()=>eC().__FIREBASE_DEFAULTS__,nC=()=>{if(typeof process>"u"||typeof vp>"u")return;const i=vp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},rC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Ku(i[1]);return e&&JSON.parse(e)},Dm=()=>{try{return tC()||nC()||rC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},iC=i=>{var e,n;return(n=(e=Dm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},sC=i=>{const e=iC(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Rm=()=>{var i;return(i=Dm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[el(JSON.stringify(n)),el(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Am(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lC())}function aC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Om(){return Im.NODE_ADMIN===!0}function uC(){try{return typeof indexedDB=="object"}catch{return!1}}function cC(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="FirebaseError";class ks extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=dC,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jm.prototype.create)}}class jm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?fC(u,s):"Error",h=`${this.serviceName}: ${d} (${l}).`;return new ks(l,h,s)}}function fC(i,e){return i.replace(hC,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const hC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(i){return JSON.parse(i)}function et(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=function(i){let e={},n={},s={},l="";try{const u=i.split(".");e=fs(Ku(u[0])||""),n=fs(Ku(u[1])||""),l=u[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:l}},pC=function(i){const e=Lm(i),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},mC=function(i){const e=Lm(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Zr(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function _p(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function tl(i,e,n){const s={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=e.call(n,i[l],l,i));return s}function Xu(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=i[l],d=e[l];if(wp(u)&&wp(d)){if(!Xu(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function wp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)s[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)s[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){const C=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(C<<1|C>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],d=this.chain_[2],h=this.chain_[3],m=this.chain_[4],g,w;for(let _=0;_<80;_++){_<40?_<20?(g=h^u&(d^h),w=1518500249):(g=u^d^h,w=1859775393):_<60?(g=u&d|h&(u|d),w=2400959708):(g=u^d^h,w=3395469782);const C=(l<<5|l>>>27)+g+m+w+s[_]&4294967295;m=h,h=d,d=(u<<30|u>>>2)&4294967295,u=l,l=C}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let l=0;const u=this.buf_;let d=this.inbuf_;for(;l<n;){if(d===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<n;)if(u[d]=e.charCodeAt(l),++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}else for(;l<n;)if(u[d]=e[l],++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}this.inbuf_=d,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function xc(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,z(s<i.length,"Surrogate pair missing trail surrogate.");const d=i.charCodeAt(s)-56320;l=65536+(u<<10)+d}l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):l<65536?(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},wl=function(i){let e=0;for(let n=0;n<i.length;n++){const s=i.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(i){return i&&i._delegate?i._delegate:i}class hs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new _l;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CC(e))try{this.getOrInitializeService({instanceIdentifier:hr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hr){return this.instances.has(e)}getOptions(e=hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&d.resolve(l)}return l}onInit(e,n){var s;const l=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&e(d,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:wC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=hr){return this.component?this.component.multipleInstances?e:hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wC(i){return i===hr?void 0:i}function CC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _C(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Re||(Re={}));const xC={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},EC=Re.INFO,kC={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},NC=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),l=kC[e];if(l)console[l](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=EC,this._logHandler=NC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const TC=(i,e)=>e.some(n=>i instanceof n);let Cp,Sp;function IC(){return Cp||(Cp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bC(){return Sp||(Sp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zm=new WeakMap,Ju=new WeakMap,Wm=new WeakMap,Ru=new WeakMap,Ec=new WeakMap;function PC(i){const e=new Promise((n,s)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(Vn(i.result)),l()},d=()=>{s(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&zm.set(n,i)}).catch(()=>{}),Ec.set(e,i),e}function MC(i){if(Ju.has(i))return;const e=new Promise((n,s)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});Ju.set(i,e)}let Zu={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Ju.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Wm.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vn(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function DC(i){Zu=i(Zu)}function RC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Au(this),e,...n);return Wm.set(s,e.sort?e.sort():[e]),Vn(s)}:bC().includes(i)?function(...e){return i.apply(Au(this),e),Vn(zm.get(this))}:function(...e){return Vn(i.apply(Au(this),e))}}function AC(i){return typeof i=="function"?RC(i):(i instanceof IDBTransaction&&MC(i),TC(i,IC())?new Proxy(i,Zu):i)}function Vn(i){if(i instanceof IDBRequest)return PC(i);if(Ru.has(i))return Ru.get(i);const e=AC(i);return e!==i&&(Ru.set(i,e),Ec.set(e,i)),e}const Au=i=>Ec.get(i);function OC(i,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(i,e),h=Vn(d);return s&&d.addEventListener("upgradeneeded",m=>{s(Vn(d.result),m.oldVersion,m.newVersion,Vn(d.transaction),m)}),n&&d.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{u&&m.addEventListener("close",()=>u()),l&&m.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const jC=["get","getKey","getAll","getAllKeys","count"],LC=["put","add","delete","clear"],Ou=new Map;function xp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Ou.get(e))return Ou.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=LC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||jC.includes(n)))return;const u=async function(d,...h){const m=this.transaction(d,l?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),l&&m.done]))[0]};return Ou.set(e,u),u}DC(i=>({...i,get:(e,n,s)=>xp(e,n)||i.get(e,n,s),has:(e,n)=>!!xp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function zC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ec="@firebase/app",Ep="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new Fm("@firebase/app"),WC="@firebase/app-compat",BC="@firebase/analytics-compat",$C="@firebase/analytics",UC="@firebase/app-check-compat",GC="@firebase/app-check",VC="@firebase/auth",HC="@firebase/auth-compat",YC="@firebase/database",QC="@firebase/data-connect",qC="@firebase/database-compat",KC="@firebase/functions",XC="@firebase/functions-compat",JC="@firebase/installations",ZC="@firebase/installations-compat",eS="@firebase/messaging",tS="@firebase/messaging-compat",nS="@firebase/performance",rS="@firebase/performance-compat",iS="@firebase/remote-config",sS="@firebase/remote-config-compat",oS="@firebase/storage",lS="@firebase/storage-compat",aS="@firebase/firestore",uS="@firebase/vertexai",cS="@firebase/firestore-compat",dS="firebase",fS="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc="[DEFAULT]",hS={[ec]:"fire-core",[WC]:"fire-core-compat",[$C]:"fire-analytics",[BC]:"fire-analytics-compat",[GC]:"fire-app-check",[UC]:"fire-app-check-compat",[VC]:"fire-auth",[HC]:"fire-auth-compat",[YC]:"fire-rtdb",[QC]:"fire-data-connect",[qC]:"fire-rtdb-compat",[KC]:"fire-fn",[XC]:"fire-fn-compat",[JC]:"fire-iid",[ZC]:"fire-iid-compat",[eS]:"fire-fcm",[tS]:"fire-fcm-compat",[nS]:"fire-perf",[rS]:"fire-perf-compat",[iS]:"fire-rc",[sS]:"fire-rc-compat",[oS]:"fire-gcs",[lS]:"fire-gcs-compat",[aS]:"fire-fst",[cS]:"fire-fst-compat",[uS]:"fire-vertex","fire-js":"fire-js",[dS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=new Map,pS=new Map,nc=new Map;function kp(i,e){try{i.container.addComponent(e)}catch(n){_n.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function rl(i){const e=i.name;if(nc.has(e))return _n.debug(`There were multiple attempts to register component ${e}.`),!1;nc.set(e,i);for(const n of nl.values())kp(n,i);for(const n of pS.values())kp(n,i);return!0}function mS(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hn=new jm("app","Firebase",gS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=fS;function Bm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:tc,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw Hn.create("bad-app-name",{appName:String(l)});if(n||(n=Rm()),!n)throw Hn.create("no-options");const u=nl.get(l);if(u){if(Xu(n,u.options)&&Xu(s,u.config))return u;throw Hn.create("duplicate-app",{appName:l})}const d=new SC(l);for(const m of nc.values())d.addComponent(m);const h=new yS(n,s,d);return nl.set(l,h),h}function _S(i=tc){const e=nl.get(i);if(!e&&i===tc&&Rm())return Bm();if(!e)throw Hn.create("no-app",{appName:i});return e}function qr(i,e,n){var s;let l=(s=hS[i])!==null&&s!==void 0?s:i;n&&(l+=`-${n}`);const u=l.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const h=[`Unable to register library "${l}" with version "${e}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&h.push("and"),d&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_n.warn(h.join(" "));return}rl(new hs(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="firebase-heartbeat-database",CS=1,ps="firebase-heartbeat-store";let ju=null;function $m(){return ju||(ju=OC(wS,CS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ps)}catch(n){console.warn(n)}}}}).catch(i=>{throw Hn.create("idb-open",{originalErrorMessage:i.message})})),ju}async function SS(i){try{const n=(await $m()).transaction(ps),s=await n.objectStore(ps).get(Um(i));return await n.done,s}catch(e){if(e instanceof ks)_n.warn(e.message);else{const n=Hn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_n.warn(n.message)}}}async function Np(i,e){try{const s=(await $m()).transaction(ps,"readwrite");await s.objectStore(ps).put(e,Um(i)),await s.done}catch(n){if(n instanceof ks)_n.warn(n.message);else{const s=Hn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_n.warn(s.message)}}}function Um(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=1024,ES=30*24*60*60*1e3;class kS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Tp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const h=new Date(d.date).valueOf();return Date.now()-h<=ES}),this._storage.overwrite(this._heartbeatsCache))}catch(s){_n.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Tp(),{heartbeatsToSend:s,unsentEntries:l}=NS(this._heartbeatsCache.heartbeats),u=el(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return _n.warn(n),""}}}function Tp(){return new Date().toISOString().substring(0,10)}function NS(i,e=xS){const n=[];let s=i.slice();for(const l of i){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Ip(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Ip(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class TS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uC()?cC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Np(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Np(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Ip(i){return el(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(i){rl(new hs("platform-logger",e=>new FC(e),"PRIVATE")),rl(new hs("heartbeat",e=>new kS(e),"PRIVATE")),qr(ec,Ep,i),qr(ec,Ep,"esm2017"),qr("fire-js","")}IS("");var bp={};const Pp="@firebase/database",Mp="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gm="";function bS(i){Gm=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),et(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:fs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Cn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new PS(e)}}catch{}return new MS},mr=Vm("localStorage"),DS=Vm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new Fm("@firebase/database"),RS=function(){let i=1;return function(){return i++}}(),Hm=function(i){const e=vC(i),n=new yC;n.update(e);const s=n.digest();return Sc.encodeByteArray(s)},Ns=function(...i){let e="";for(let n=0;n<i.length;n++){const s=i[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Ns.apply(null,s):typeof s=="object"?e+=et(s):e+=s,e+=" "}return e};let os=null,Dp=!0;const AS=function(i,e){z(!e,"Can't turn on custom loggers persistently."),Kr.logLevel=Re.VERBOSE,os=Kr.log.bind(Kr)},gt=function(...i){if(Dp===!0&&(Dp=!1,os===null&&DS.get("logging_enabled")===!0&&AS()),os){const e=Ns.apply(null,i);os(e)}},Ts=function(i){return function(...e){gt(i,...e)}},rc=function(...i){const e="FIREBASE INTERNAL ERROR: "+Ns(...i);Kr.error(e)},wn=function(...i){const e=`FIREBASE FATAL ERROR: ${Ns(...i)}`;throw Kr.error(e),new Error(e)},Pt=function(...i){const e="FIREBASE WARNING: "+Ns(...i);Kr.warn(e)},OS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ym=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},jS=function(i){if(document.readyState==="complete")i();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ei="[MIN_NAME]",yr="[MAX_NAME]",si=function(i,e){if(i===e)return 0;if(i===ei||e===yr)return-1;if(e===ei||i===yr)return 1;{const n=Rp(i),s=Rp(e);return n!==null?s!==null?n-s===0?i.length-e.length:n-s:-1:s!==null?1:i<e?-1:1}},LS=function(i,e){return i===e?0:i<e?-1:1},Ji=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+et(e))},kc=function(i){if(typeof i!="object"||i===null)return et(i);const e=[];for(const s in i)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=et(e[s]),n+=":",n+=kc(i[e[s]]);return n+="}",n},Qm=function(i,e){const n=i.length;if(n<=e)return[i];const s=[];for(let l=0;l<n;l+=e)l+e>n?s.push(i.substring(l,n)):s.push(i.substring(l,l+e));return s};function Mt(i,e){for(const n in i)i.hasOwnProperty(n)&&e(n,i[n])}const qm=function(i){z(!Ym(i),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let l,u,d,h,m;i===0?(u=0,d=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),s),u=h+s,d=Math.round(i*Math.pow(2,n-h)-Math.pow(2,n))):(u=0,d=Math.round(i/Math.pow(2,1-s-n))));const g=[];for(m=n;m;m-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(m=e;m;m-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(l?1:0),g.reverse();const w=g.join("");let _="";for(m=0;m<64;m+=8){let C=parseInt(w.substr(m,8),2).toString(16);C.length===1&&(C="0"+C),_=_+C}return _.toLowerCase()},FS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},zS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function WS(i,e){let n="Unknown Error";i==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?n="Client doesn't have permission to access the desired data.":i==="unavailable"&&(n="The service is unavailable");const s=new Error(i+" at "+e._path.toString()+": "+n);return s.code=i.toUpperCase(),s}const BS=new RegExp("^-?(0*)\\d{1,10}$"),$S=-2147483648,US=2147483647,Rp=function(i){if(BS.test(i)){const e=Number(i);if(e>=$S&&e<=US)return e}return null},oi=function(i){try{i()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Pt("Exception was thrown by user callback.",n),e},Math.floor(0))}},GS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ls=function(i,e){const n=setTimeout(i,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Pt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pt(e)}}class Qo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Qo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc="5",Km="v",Xm="s",Jm="r",Zm="f",eg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tg="ls",ng="p",ic="ac",rg="websocket",ig="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,s,l,u=!1,d="",h=!1,m=!1){this.secure=n,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=mr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&mr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function YS(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function og(i,e,n){z(typeof e=="string","typeof type must == string"),z(typeof n=="object","typeof params must == object");let s;if(e===rg)s=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===ig)s=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);YS(i)&&(n.ns=i.namespace);const l=[];return Mt(n,(u,d)=>{l.push(u+"="+d)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.counters_={}}incrementCounter(e,n=1){Cn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return J1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu={},Fu={};function Tc(i){const e=i.toString();return Lu[e]||(Lu[e]=new QS),Lu[e]}function qS(i,e){const n=i.toString();return Fu[n]||(Fu[n]=e()),Fu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&oi(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="start",XS="close",JS="pLPCommand",ZS="pRTLPCB",lg="id",ag="pw",ug="ser",ex="cb",tx="seg",nx="ts",rx="d",ix="dframe",cg=1870,dg=30,sx=cg-dg,ox=25e3,lx=3e4;class Qr{constructor(e,n,s,l,u,d,h){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ts(e),this.stats_=Tc(n),this.urlFn=m=>(this.appCheckToken&&(m[ic]=this.appCheckToken),og(n,ig,m))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new KS(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lx)),jS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ic((...u)=>{const[d,h,m,g,w]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Ap)this.id=h,this.password=m;else if(d===XS)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...u)=>{const[d,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[Ap]="t",s[ug]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[ex]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Km]=Nc,this.transportSessionId&&(s[Xm]=this.transportSessionId),this.lastSessionId&&(s[tg]=this.lastSessionId),this.applicationId&&(s[ng]=this.applicationId),this.appCheckToken&&(s[ic]=this.appCheckToken),typeof location<"u"&&location.hostname&&eg.test(location.hostname)&&(s[Jm]=Zm);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qr.forceAllow_=!0}static forceDisallow(){Qr.forceDisallow_=!0}static isAvailable(){return Qr.forceAllow_?!0:!Qr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!FS()&&!zS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Pm(n),l=Qm(s,sx);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[ix]="t",s[lg]=e,s[ag]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=et(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ic{constructor(e,n,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=RS(),window[JS+this.uniqueCallbackIdentifier]=e,window[ZS+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ic.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){gt("frame writing exception"),h.stack&&gt(h.stack),gt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lg]=this.myID,e[ag]=this.myPW,e[ug]=this.currentSerial;let n=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+dg+s.length<=cg;){const d=this.pendingSegs.shift();s=s+"&"+tx+l+"="+d.seg+"&"+nx+l+"="+d.ts+"&"+rx+l+"="+d.d,l++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(s,Math.floor(ox)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=16384,ux=45e3;let il=null;typeof MozWebSocket<"u"?il=MozWebSocket:typeof WebSocket<"u"&&(il=WebSocket);class Xt{constructor(e,n,s,l,u,d,h){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ts(this.connId),this.stats_=Tc(n),this.connURL=Xt.connectionURL_(n,d,h,l,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,l,u){const d={};return d[Km]=Nc,typeof location<"u"&&location.hostname&&eg.test(location.hostname)&&(d[Jm]=Zm),n&&(d[Xm]=n),s&&(d[tg]=s),l&&(d[ic]=l),u&&(d[ng]=u),og(e,rg,d)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,mr.set("previous_websocket_failure",!0);try{let s;Om(),this.mySock=new il(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Xt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&il!==null&&!Xt.forceDisallow_}static previouslyFailed(){return mr.isInMemoryStorage||mr.get("previous_websocket_failure")===!0}markConnectionHealthy(){mr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=fs(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(z(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Qm(n,ax);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ux))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xt.responsesRequiredToBeHealthy=2;Xt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{static get ALL_TRANSPORTS(){return[Qr,Xt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Xt&&Xt.isAvailable();let s=n&&!Xt.previouslyFailed();if(e.webSocketOnly&&(n||Pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Xt];else{const l=this.transports_=[];for(const u of ms.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);ms.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ms.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=6e4,dx=5e3,fx=10*1024,hx=100*1024,zu="t",Op="d",px="s",jp="r",mx="e",Lp="o",Fp="a",zp="n",Wp="p",gx="h";class yx{constructor(e,n,s,l,u,d,h,m,g,w){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ts("c:"+this.id+":"),this.transportManager_=new ms(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=ls(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>hx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>fx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(zu in e){const n=e[zu];n===Fp?this.upgradeIfSecondaryHealthy_():n===jp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Lp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ji("t",e),s=Ji("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Wp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Fp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:zp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ji("t",e),s=Ji("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ji(zu,e);if(Op in e){const s=e[Op];if(n===gx){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===zp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===px?this.onConnectionShutdown_(s):n===jp?this.onReset_(s):n===mx?rc("Server Error: "+s):n===Lp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Nc!==s&&Pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),ls(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(cx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ls(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(dx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Wp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(mr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{put(e,n,s,l){}merge(e,n,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const l=this.getInitialEvent(e);l&&n.apply(s,l)}off(e,n,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===n&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){z(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends hg{static getInstance(){return new sl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Am()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=32,$p=768;class Me{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ee(){return new Me("")}function ve(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Kn(i){return i.pieces_.length-i.pieceNum_}function Ae(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new Me(i.pieces_,e)}function pg(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function vx(i){let e="";for(let n=i.pieceNum_;n<i.pieces_.length;n++)i.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[n])));return e||"/"}function mg(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function gg(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let n=i.pieceNum_;n<i.pieces_.length-1;n++)e.push(i.pieces_[n]);return new Me(e,0)}function tt(i,e){const n=[];for(let s=i.pieceNum_;s<i.pieces_.length;s++)n.push(i.pieces_[s]);if(e instanceof Me)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&n.push(s[l])}return new Me(n,0)}function me(i){return i.pieceNum_>=i.pieces_.length}function Ct(i,e){const n=ve(i),s=ve(e);if(n===null)return e;if(n===s)return Ct(Ae(i),Ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function yg(i,e){if(Kn(i)!==Kn(e))return!1;for(let n=i.pieceNum_,s=e.pieceNum_;n<=i.pieces_.length;n++,s++)if(i.pieces_[n]!==e.pieces_[s])return!1;return!0}function Jt(i,e){let n=i.pieceNum_,s=e.pieceNum_;if(Kn(i)>Kn(e))return!1;for(;n<i.pieces_.length;){if(i.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class _x{constructor(e,n){this.errorPrefix_=n,this.parts_=mg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=wl(this.parts_[s]);vg(this)}}function wx(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=wl(e),vg(i)}function Cx(i){const e=i.parts_.pop();i.byteLength_-=wl(e),i.parts_.length>0&&(i.byteLength_-=1)}function vg(i){if(i.byteLength_>$p)throw new Error(i.errorPrefix_+"has a key path longer than "+$p+" bytes ("+i.byteLength_+").");if(i.parts_.length>Bp)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Bp+") or object contains a cycle "+pr(i))}function pr(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends hg{static getInstance(){return new bc}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=1e3,Sx=60*5*1e3,Up=30*1e3,xx=1.3,Ex=3e4,kx="server_kill",Gp=3;class vn extends fg{constructor(e,n,s,l,u,d,h,m){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=vn.nextPersistentConnectionId_++,this.log_=Ts("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zi,this.maxReconnectDelay_=Sx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m&&!Om())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");bc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&sl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const l=++this.requestNumber_,u={r:l,a:e,b:n};this.log_(et(u)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const n=new _l,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,s,l){this.initConnection_();const u=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+u),this.listens.has(d)||this.listens.set(d,new Map),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(d).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:n,query:e,tag:s};this.listens.get(d).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},d="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(d,u,h=>{const m=h.d,g=h.s;vn.warnOnListenWarnings_(m,n),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(g,m))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Cn(e,"w")){const s=Zr(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();Pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||mC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Up)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=pC(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,l=>{const u=l.s,d=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,n)}sendUnlisten_(e,n,s,l){this.log_("Unlisten on "+e+" for "+n);const u={p:e},d="n";l&&(u.q=s,u.t=l),this.sendRequest(d,u)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,l){const u={p:n,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,d=>{l&&setTimeout(()=>{l(d.s,d.d)},Math.floor(0))})}put(e,n,s,l){this.putInternal("p",e,n,s,l)}merge(e,n,s,l){this.putInternal("m",e,n,s,l)}putInternal(e,n,s,l,u){this.initConnection_();const d={p:n,d:s};u!==void 0&&(d.h=u),this.outstandingPuts_.push({action:e,request:d,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+et(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):rc("Unrecognized action received from server: "+et(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Ex&&(this.reconnectDelay_=Zi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*xx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+vn.nextConnectionId_++,u=this.lastSessionId;let d=!1,h=null;const m=function(){h?h.close():(d=!0,s())},g=function(_){z(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:m,sendRequest:g};const w=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,C]=await Promise.all([this.authTokenProvider_.getToken(w),this.appCheckTokenProvider_.getToken(w)]);d?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=C&&C.token,h=new yx(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,I=>{Pt(I+" ("+this.repoInfo_.toString()+")"),this.interrupt(kx)},u))}catch(_){this.log_("Failed to get token: "+_),d||(this.repoInfo_.nodeAdmin&&Pt(_),m())}}}interrupt(e){gt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],_p(this.interruptReasons_)&&(this.reconnectDelay_=Zi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(u=>kc(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,n){const s=new Me(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(n),u.delete(n),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,n){gt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Gp&&(this.reconnectDelay_=Up,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){gt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Gp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Gm.replace(/\./g,"-")]=1,Am()?e["framework.cordova"]=1:aC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=sl.getInstance().currentlyOnline();return _p(this.interruptReasons_)&&e}}vn.nextPersistentConnectionId_=0;vn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new pe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new pe(ei,e),l=new pe(ei,n);return this.compare(s,l)!==0}minPost(){return pe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho;class _g extends Cl{static get __EMPTY_NODE(){return Ho}static set __EMPTY_NODE(e){Ho=e}compare(e,n){return si(e.name,n.name)}isDefinedOn(e){throw ri("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return pe.MIN}maxPost(){return new pe(yr,Ho)}makePost(e,n){return z(typeof e=="string","KeyIndex indexValue must always be a string."),new pe(e,Ho)}toString(){return".key"}}const Xr=new _g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(e=e,d=n?s(e.key,n):1,l&&(d*=-1),d<0)this.isReverse_?e=e.left:e=e.right;else if(d===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ot{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??ot.RED,this.left=l??It.EMPTY_NODE,this.right=u??It.EMPTY_NODE}copy(e,n,s,l,u){return new ot(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return It.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,l;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return It.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ot.RED=!0;ot.BLACK=!1;class Nx{copy(e,n,s,l,u){return this}insert(e,n,s){return new ot(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class It{constructor(e,n=It.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new It(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ot.BLACK,null,null))}remove(e){return new It(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ot.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,l=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Yo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Yo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Yo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Yo(this.root_,null,this.comparator_,!0,e)}}It.EMPTY_NODE=new Nx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(i,e){return si(i.name,e.name)}function Pc(i,e){return si(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc;function Ix(i){sc=i}const wg=function(i){return typeof i=="number"?"number:"+qm(i):"string:"+i},Cg=function(i){if(i.isLeafNode()){const e=i.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Cn(e,".sv"),"Priority must be a string or number.")}else z(i===sc||i.isEmpty(),"priority of unexpected type.");z(i===sc||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp;class st{static set __childrenNodeConstructor(e){Vp=e}static get __childrenNodeConstructor(){return Vp}constructor(e,n=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Cg(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new st(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:ve(e)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=ve(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(z(s!==".priority"||Kn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ae(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+wg(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=qm(this.value_):e+=this.value_,this.lazyHash_=Hm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===st.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof st.__childrenNodeConstructor?-1:(z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,l=st.VALUE_TYPE_ORDER.indexOf(n),u=st.VALUE_TYPE_ORDER.indexOf(s);return z(l>=0,"Unknown leaf type: "+n),z(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg,xg;function bx(i){Sg=i}function Px(i){xg=i}class Mx extends Cl{compare(e,n){const s=e.node.getPriority(),l=n.node.getPriority(),u=s.compareTo(l);return u===0?si(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return pe.MIN}maxPost(){return new pe(yr,new st("[PRIORITY-POST]",xg))}makePost(e,n){const s=Sg(e);return new pe(n,new st("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ve=new Mx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=Math.log(2);class Rx{constructor(e){const n=u=>parseInt(Math.log(u)/Dx,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ol=function(i,e,n,s){i.sort(e);const l=function(m,g){const w=g-m;let _,C;if(w===0)return null;if(w===1)return _=i[m],C=n?n(_):_,new ot(C,_.node,ot.BLACK,null,null);{const I=parseInt(w/2,10)+m,b=l(m,I),D=l(I+1,g);return _=i[I],C=n?n(_):_,new ot(C,_.node,ot.BLACK,b,D)}},u=function(m){let g=null,w=null,_=i.length;const C=function(b,D){const P=_-b,X=_;_-=b;const J=l(P+1,X),W=i[P],H=n?n(W):W;I(new ot(H,W.node,D,null,J))},I=function(b){g?(g.left=b,g=b):(w=b,g=b)};for(let b=0;b<m.count;++b){const D=m.nextBitIsOne(),P=Math.pow(2,m.count-(b+1));D?C(P,ot.BLACK):(C(P,ot.BLACK),C(P,ot.RED))}return w},d=new Rx(i.length),h=u(d);return new It(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu;const Yr={};class yn{static get Default(){return z(Yr&&Ve,"ChildrenNode.ts has not been loaded"),Wu=Wu||new yn({".priority":Yr},{".priority":Ve}),Wu}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Zr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof It?n:null}hasIndex(e){return Cn(this.indexSet_,e.toString())}addIndex(e,n){z(e!==Xr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=n.getIterator(pe.Wrap);let d=u.getNext();for(;d;)l=l||e.isDefinedOn(d.node),s.push(d),d=u.getNext();let h;l?h=ol(s,e.getCompare()):h=Yr;const m=e.toString(),g=Object.assign({},this.indexSet_);g[m]=e;const w=Object.assign({},this.indexes_);return w[m]=h,new yn(w,g)}addToIndexes(e,n){const s=tl(this.indexes_,(l,u)=>{const d=Zr(this.indexSet_,u);if(z(d,"Missing index implementation for "+u),l===Yr)if(d.isDefinedOn(e.node)){const h=[],m=n.getIterator(pe.Wrap);let g=m.getNext();for(;g;)g.name!==e.name&&h.push(g),g=m.getNext();return h.push(e),ol(h,d.getCompare())}else return Yr;else{const h=n.get(e.name);let m=l;return h&&(m=m.remove(new pe(e.name,h))),m.insert(e,e.node)}});return new yn(s,this.indexSet_)}removeFromIndexes(e,n){const s=tl(this.indexes_,l=>{if(l===Yr)return l;{const u=n.get(e.name);return u?l.remove(new pe(e.name,u)):l}});return new yn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let es;class ne{static get EMPTY_NODE(){return es||(es=new ne(new It(Pc),null,yn.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Cg(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||es}updatePriority(e){return this.children_.isEmpty()?this:new ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?es:n}}getChild(e){const n=ve(e);return n===null?this:this.getImmediateChild(n).getChild(Ae(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new pe(e,n);let l,u;n.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(s,this.children_));const d=l.isEmpty()?es:this.priorityNode_;return new ne(l,d,u)}}updateChild(e,n){const s=ve(e);if(s===null)return n;{z(ve(e)!==".priority"||Kn(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Ae(e),n);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,l=0,u=!0;if(this.forEachChild(Ve,(d,h)=>{n[d]=h.val(e),s++,u&&ne.INTEGER_REGEXP_.test(d)?l=Math.max(l,Number(d)):u=!1}),!e&&u&&l<2*s){const d=[];for(const h in n)d[h]=n[h];return d}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+wg(this.getPriority().val())+":"),this.forEachChild(Ve,(n,s)=>{const l=s.hash();l!==""&&(e+=":"+n+":"+l)}),this.lazyHash_=e===""?"":Hm(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new pe(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new pe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new pe(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,pe.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,pe.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Is?-1:0}withIndex(e){if(e===Xr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ne(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Xr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Ve),l=n.getIterator(Ve);let u=s.getNext(),d=l.getNext();for(;u&&d;){if(u.name!==d.name||!u.node.equals(d.node))return!1;u=s.getNext(),d=l.getNext()}return u===null&&d===null}else return!1;else return!1}}resolveIndex_(e){return e===Xr?null:this.indexMap_.get(e.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Ax extends ne{constructor(){super(new It(Pc),ne.EMPTY_NODE,yn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ne.EMPTY_NODE}isEmpty(){return!1}}const Is=new Ax;Object.defineProperties(pe,{MIN:{value:new pe(ei,ne.EMPTY_NODE)},MAX:{value:new pe(yr,Is)}});_g.__EMPTY_NODE=ne.EMPTY_NODE;st.__childrenNodeConstructor=ne;Ix(Is);Px(Is);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=!0;function lt(i,e=null){if(i===null)return ne.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const n=i;return new st(n,lt(e))}if(!(i instanceof Array)&&Ox){const n=[];let s=!1;if(Mt(i,(d,h)=>{if(d.substring(0,1)!=="."){const m=lt(h);m.isEmpty()||(s=s||!m.getPriority().isEmpty(),n.push(new pe(d,m)))}}),n.length===0)return ne.EMPTY_NODE;const u=ol(n,Tx,d=>d.name,Pc);if(s){const d=ol(n,Ve.getCompare());return new ne(u,lt(e),new yn({".priority":d},{".priority":Ve}))}else return new ne(u,lt(e),yn.Default)}else{let n=ne.EMPTY_NODE;return Mt(i,(s,l)=>{if(Cn(i,s)&&s.substring(0,1)!=="."){const u=lt(l);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(s,u))}}),n.updatePriority(lt(e))}}bx(lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx extends Cl{constructor(e){super(),this.indexPath_=e,z(!me(e)&&ve(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),l=this.extractChild(n.node),u=s.compareTo(l);return u===0?si(e.name,n.name):u}makePost(e,n){const s=lt(e),l=ne.EMPTY_NODE.updateChild(this.indexPath_,s);return new pe(n,l)}maxPost(){const e=ne.EMPTY_NODE.updateChild(this.indexPath_,Is);return new pe(yr,e)}toString(){return mg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx extends Cl{compare(e,n){const s=e.node.compareTo(n.node);return s===0?si(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return pe.MIN}maxPost(){return pe.MAX}makePost(e,n){const s=lt(e);return new pe(n,s)}toString(){return".value"}}const Fx=new Lx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(i){return{type:"value",snapshotNode:i}}function ti(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function gs(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function ys(i,e,n){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:n}}function zx(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.index_=e}updateChild(e,n,s,l,u,d){z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(d!=null&&(s.isEmpty()?e.hasChild(n)?d.trackChildChange(gs(n,h)):z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange(ti(n,s)):d.trackChildChange(ys(n,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ve,(l,u)=>{n.hasChild(l)||s.trackChildChange(gs(l,u))}),n.isLeafNode()||n.forEachChild(Ve,(l,u)=>{if(e.hasChild(l)){const d=e.getImmediateChild(l);d.equals(u)||s.trackChildChange(ys(l,u,d))}else s.trackChildChange(ti(l,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.indexedFilter_=new Mc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=vs.getStartPost_(e),this.endPost_=vs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,l,u,d){return this.matches(new pe(n,s))||(s=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,l,u,d)}updateFullNode(e,n,s){n.isLeafNode()&&(n=ne.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(ne.EMPTY_NODE);const u=this;return n.forEachChild(Ve,(d,h)=>{u.matches(new pe(d,h))||(l=l.updateImmediateChild(d,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new vs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,l,u,d){return this.rangedFilter_.matches(new pe(n,s))||(s=ne.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,l,u,d):this.fullLimitUpdateChild_(e,n,s,u,d)}updateFullNode(e,n,s){let l;if(n.isLeafNode()||n.isEmpty())l=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=ne.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;u.hasNext()&&d<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(ne.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let d=0;for(;u.hasNext();){const h=u.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:l=l.updateImmediateChild(h.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,l,u){let d;if(this.reverse_){const _=this.index_.getCompare();d=(C,I)=>_(I,C)}else d=this.index_.getCompare();const h=e;z(h.numChildren()===this.limit_,"");const m=new pe(n,s),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),w=this.rangedFilter_.matches(m);if(h.hasChild(n)){const _=h.getImmediateChild(n);let C=l.getChildAfterChild(this.index_,g,this.reverse_);for(;C!=null&&(C.name===n||h.hasChild(C.name));)C=l.getChildAfterChild(this.index_,C,this.reverse_);const I=C==null?1:d(C,m);if(w&&!s.isEmpty()&&I>=0)return u!=null&&u.trackChildChange(ys(n,s,_)),h.updateImmediateChild(n,s);{u!=null&&u.trackChildChange(gs(n,_));const D=h.updateImmediateChild(n,ne.EMPTY_NODE);return C!=null&&this.rangedFilter_.matches(C)?(u!=null&&u.trackChildChange(ti(C.name,C.node)),D.updateImmediateChild(C.name,C.node)):D}}else return s.isEmpty()?e:w&&d(g,m)>=0?(u!=null&&(u.trackChildChange(gs(g.name,g.node)),u.trackChildChange(ti(n,s))),h.updateImmediateChild(n,s).updateImmediateChild(g.name,ne.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ei}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const e=new Dc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Bx(i){return i.loadsAllData()?new Mc(i.getIndex()):i.hasLimit()?new Wx(i):new vs(i)}function Hp(i){const e={};if(i.isDefault())return e;let n;if(i.index_===Ve?n="$priority":i.index_===Fx?n="$value":i.index_===Xr?n="$key":(z(i.index_ instanceof jx,"Unrecognized index type!"),n=i.index_.toString()),e.orderBy=et(n),i.startSet_){const s=i.startAfterSet_?"startAfter":"startAt";e[s]=et(i.indexStartValue_),i.startNameSet_&&(e[s]+=","+et(i.indexStartName_))}if(i.endSet_){const s=i.endBeforeSet_?"endBefore":"endAt";e[s]=et(i.indexEndValue_),i.endNameSet_&&(e[s]+=","+et(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function Yp(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let n=i.viewFrom_;n===""&&(i.isViewFromLeft()?n="l":n="r"),e.vf=n}return i.index_!==Ve&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends fg{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Ts("p:rest:"),this.listens_={}}listen(e,n,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const d=ll.getListenId_(e,s),h={};this.listens_[d]=h;const m=Hp(e._queryParams);this.restRequest_(u+".json",m,(g,w)=>{let _=w;if(g===404&&(_=null,g=null),g===null&&this.onDataUpdate_(u,_,!1,s),Zr(this.listens_,d)===h){let C;g?g===401?C="permission_denied":C="rest_error:"+g:C="ok",l(C,null)}})}unlisten(e,n){const s=ll.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Hp(e._queryParams),s=e._path.toString(),l=new _l;return this.restRequest_(s+".json",n,(u,d)=>{let h=d;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(n.auth=l.accessToken),u&&u.token&&(n.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+gC(n);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=fs(h.responseText)}catch{Pt("Failed to parse JSON response for "+d+": "+h.responseText)}s(null,m)}else h.status!==401&&h.status!==404&&Pt("Got unsuccessful REST response for "+d+" Status: "+h.status),s(h.status);s=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(){return{value:null,children:new Map}}function kg(i,e,n){if(me(e))i.value=n,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,n);else{const s=ve(e);i.children.has(s)||i.children.set(s,al());const l=i.children.get(s);e=Ae(e),kg(l,e,n)}}function oc(i,e,n){i.value!==null?n(e,i.value):Ux(i,(s,l)=>{const u=new Me(e.toString()+"/"+s);oc(l,u,n)})}function Ux(i,e){i.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Mt(this.last_,(s,l)=>{n[s]=n[s]-l}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=10*1e3,Vx=30*1e3,Hx=5*60*1e3;class Yx{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Gx(e);const s=Qp+(Vx-Qp)*Math.random();ls(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Mt(e,(l,u)=>{u>0&&Cn(this.statsToReport_,l)&&(n[l]=u,s=!0)}),s&&this.server_.reportStats(n),ls(this.reportStats_.bind(this),Math.floor(Math.random()*2*Hx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zt||(Zt={}));function Ng(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Rc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ac(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Zt.ACK_USER_WRITE,this.source=Ng()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Me(e));return new ul(Ee(),n,this.revert)}}else return z(ve(this.path)===e,"operationForChild called for unrelated child."),new ul(Ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n){this.source=e,this.path=n,this.type=Zt.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new _s(this.source,Ee()):new _s(this.source,Ae(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Zt.OVERWRITE}operationForChild(e){return me(this.path)?new vr(this.source,Ee(),this.snap.getImmediateChild(e)):new vr(this.source,Ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Zt.MERGE}operationForChild(e){if(me(this.path)){const n=this.children.subtree(new Me(e));return n.isEmpty()?null:n.value?new vr(this.source,Ee(),n.value):new ws(this.source,Ee(),n)}else return z(ve(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ws(this.source,Ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const n=ve(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function qx(i,e,n,s){const l=[],u=[];return e.forEach(d=>{d.type==="child_changed"&&i.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(zx(d.childName,d.snapshotNode))}),ts(i,l,"child_removed",e,s,n),ts(i,l,"child_added",e,s,n),ts(i,l,"child_moved",u,s,n),ts(i,l,"child_changed",e,s,n),ts(i,l,"value",e,s,n),l}function ts(i,e,n,s,l,u){const d=s.filter(h=>h.type===n);d.sort((h,m)=>Xx(i,h,m)),d.forEach(h=>{const m=Kx(i,h,u);l.forEach(g=>{g.respondsTo(h.type)&&e.push(g.createEvent(m,i.query_))})})}function Kx(i,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function Xx(i,e,n){if(e.childName==null||n.childName==null)throw ri("Should only compare child_ events.");const s=new pe(e.childName,e.snapshotNode),l=new pe(n.childName,n.snapshotNode);return i.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(i,e){return{eventCache:i,serverCache:e}}function as(i,e,n,s){return Sl(new Xn(e,n,s),i.serverCache)}function Tg(i,e,n,s){return Sl(i.eventCache,new Xn(e,n,s))}function cl(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function _r(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu;const Jx=()=>(Bu||(Bu=new It(LS)),Bu);class ze{static fromObject(e){let n=new ze(null);return Mt(e,(s,l)=>{n=n.set(new Me(s),l)}),n}constructor(e,n=Jx()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ee(),value:this.value};if(me(e))return null;{const s=ve(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Ae(e),n);return u!=null?{path:tt(new Me(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const n=ve(e),s=this.children.get(n);return s!==null?s.subtree(Ae(e)):new ze(null)}}set(e,n){if(me(e))return new ze(n,this.children);{const s=ve(e),u=(this.children.get(s)||new ze(null)).set(Ae(e),n),d=this.children.insert(s,u);return new ze(this.value,d)}}remove(e){if(me(e))return this.children.isEmpty()?new ze(null):new ze(null,this.children);{const n=ve(e),s=this.children.get(n);if(s){const l=s.remove(Ae(e));let u;return l.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,l),this.value===null&&u.isEmpty()?new ze(null):new ze(this.value,u)}else return this}}get(e){if(me(e))return this.value;{const n=ve(e),s=this.children.get(n);return s?s.get(Ae(e)):null}}setTree(e,n){if(me(e))return n;{const s=ve(e),u=(this.children.get(s)||new ze(null)).setTree(Ae(e),n);let d;return u.isEmpty()?d=this.children.remove(s):d=this.children.insert(s,u),new ze(this.value,d)}}fold(e){return this.fold_(Ee(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(tt(e,l),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Ee(),n)}findOnPath_(e,n,s){const l=this.value?s(n,this.value):!1;if(l)return l;if(me(e))return null;{const u=ve(e),d=this.children.get(u);return d?d.findOnPath_(Ae(e),tt(n,u),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ee(),n)}foreachOnPath_(e,n,s){if(me(e))return this;{this.value&&s(n,this.value);const l=ve(e),u=this.children.get(l);return u?u.foreachOnPath_(Ae(e),tt(n,l),s):new ze(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,n){this.children.inorderTraversal((s,l)=>{l.foreach_(tt(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.writeTree_=e}static empty(){return new en(new ze(null))}}function us(i,e,n){if(me(e))return new en(new ze(n));{const s=i.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const d=Ct(l,e);return u=u.updateChild(d,n),new en(i.writeTree_.set(l,u))}else{const l=new ze(n),u=i.writeTree_.setTree(e,l);return new en(u)}}}function qp(i,e,n){let s=i;return Mt(n,(l,u)=>{s=us(s,tt(e,l),u)}),s}function Kp(i,e){if(me(e))return en.empty();{const n=i.writeTree_.setTree(e,new ze(null));return new en(n)}}function lc(i,e){return wr(i,e)!=null}function wr(i,e){const n=i.writeTree_.findRootMostValueAndPath(e);return n!=null?i.writeTree_.get(n.path).getChild(Ct(n.path,e)):null}function Xp(i){const e=[],n=i.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ve,(s,l)=>{e.push(new pe(s,l))}):i.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new pe(s,l.value))}),e}function Yn(i,e){if(me(e))return i;{const n=wr(i,e);return n!=null?new en(new ze(n)):new en(i.writeTree_.subtree(e))}}function ac(i){return i.writeTree_.isEmpty()}function ni(i,e){return Ig(Ee(),i.writeTree_,e)}function Ig(i,e,n){if(e.value!=null)return n.updateChild(i,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(z(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):n=Ig(tt(i,l),u,n)}),!n.getChild(i).isEmpty()&&s!==null&&(n=n.updateChild(tt(i,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(i,e){return Dg(e,i)}function Zx(i,e,n,s,l){z(s>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:e,snap:n,writeId:s,visible:l}),l&&(i.visibleWrites=us(i.visibleWrites,e,n)),i.lastWriteId=s}function eE(i,e){for(let n=0;n<i.allWrites.length;n++){const s=i.allWrites[n];if(s.writeId===e)return s}return null}function tE(i,e){const n=i.allWrites.findIndex(h=>h.writeId===e);z(n>=0,"removeWrite called with nonexistent writeId.");const s=i.allWrites[n];i.allWrites.splice(n,1);let l=s.visible,u=!1,d=i.allWrites.length-1;for(;l&&d>=0;){const h=i.allWrites[d];h.visible&&(d>=n&&nE(h,s.path)?l=!1:Jt(s.path,h.path)&&(u=!0)),d--}if(l){if(u)return rE(i),!0;if(s.snap)i.visibleWrites=Kp(i.visibleWrites,s.path);else{const h=s.children;Mt(h,m=>{i.visibleWrites=Kp(i.visibleWrites,tt(s.path,m))})}return!0}else return!1}function nE(i,e){if(i.snap)return Jt(i.path,e);for(const n in i.children)if(i.children.hasOwnProperty(n)&&Jt(tt(i.path,n),e))return!0;return!1}function rE(i){i.visibleWrites=bg(i.allWrites,iE,Ee()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function iE(i){return i.visible}function bg(i,e,n){let s=en.empty();for(let l=0;l<i.length;++l){const u=i[l];if(e(u)){const d=u.path;let h;if(u.snap)Jt(n,d)?(h=Ct(n,d),s=us(s,h,u.snap)):Jt(d,n)&&(h=Ct(d,n),s=us(s,Ee(),u.snap.getChild(h)));else if(u.children){if(Jt(n,d))h=Ct(n,d),s=qp(s,h,u.children);else if(Jt(d,n))if(h=Ct(d,n),me(h))s=qp(s,Ee(),u.children);else{const m=Zr(u.children,ve(h));if(m){const g=m.getChild(Ae(h));s=us(s,Ee(),g)}}}else throw ri("WriteRecord should have .snap or .children")}}return s}function Pg(i,e,n,s,l){if(!s&&!l){const u=wr(i.visibleWrites,e);if(u!=null)return u;{const d=Yn(i.visibleWrites,e);if(ac(d))return n;if(n==null&&!lc(d,Ee()))return null;{const h=n||ne.EMPTY_NODE;return ni(d,h)}}}else{const u=Yn(i.visibleWrites,e);if(!l&&ac(u))return n;if(!l&&n==null&&!lc(u,Ee()))return null;{const d=function(g){return(g.visible||l)&&(!s||!~s.indexOf(g.writeId))&&(Jt(g.path,e)||Jt(e,g.path))},h=bg(i.allWrites,d,e),m=n||ne.EMPTY_NODE;return ni(h,m)}}}function sE(i,e,n){let s=ne.EMPTY_NODE;const l=wr(i.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(Ve,(u,d)=>{s=s.updateImmediateChild(u,d)}),s;if(n){const u=Yn(i.visibleWrites,e);return n.forEachChild(Ve,(d,h)=>{const m=ni(Yn(u,new Me(d)),h);s=s.updateImmediateChild(d,m)}),Xp(u).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}else{const u=Yn(i.visibleWrites,e);return Xp(u).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}}function oE(i,e,n,s,l){z(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=tt(e,n);if(lc(i.visibleWrites,u))return null;{const d=Yn(i.visibleWrites,u);return ac(d)?l.getChild(n):ni(d,l.getChild(n))}}function lE(i,e,n,s){const l=tt(e,n),u=wr(i.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(n)){const d=Yn(i.visibleWrites,l);return ni(d,s.getNode().getImmediateChild(n))}else return null}function aE(i,e){return wr(i.visibleWrites,e)}function uE(i,e,n,s,l,u,d){let h;const m=Yn(i.visibleWrites,e),g=wr(m,Ee());if(g!=null)h=g;else if(n!=null)h=ni(m,n);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const w=[],_=d.getCompare(),C=u?h.getReverseIteratorFrom(s,d):h.getIteratorFrom(s,d);let I=C.getNext();for(;I&&w.length<l;)_(I,s)!==0&&w.push(I),I=C.getNext();return w}else return[]}function cE(){return{visibleWrites:en.empty(),allWrites:[],lastWriteId:-1}}function dl(i,e,n,s){return Pg(i.writeTree,i.treePath,e,n,s)}function Oc(i,e){return sE(i.writeTree,i.treePath,e)}function Jp(i,e,n,s){return oE(i.writeTree,i.treePath,e,n,s)}function fl(i,e){return aE(i.writeTree,tt(i.treePath,e))}function dE(i,e,n,s,l,u){return uE(i.writeTree,i.treePath,e,n,s,l,u)}function jc(i,e,n){return lE(i.writeTree,i.treePath,e,n)}function Mg(i,e){return Dg(tt(i.treePath,e),i.writeTree)}function Dg(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),z(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(s,ys(s,e.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(s,gs(s,l.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(s,ti(s,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(s,ys(s,e.snapshotNode,l.oldSnap));else throw ri("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const Rg=new hE;class Lc{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Xn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jc(this.writes_,e,s)}}getChildAfterChild(e,n,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:_r(this.viewCache_),u=dE(this.writes_,l,n,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(i){return{filter:i}}function mE(i,e){z(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),z(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function gE(i,e,n,s,l){const u=new fE;let d,h;if(n.type===Zt.OVERWRITE){const g=n;g.source.fromUser?d=uc(i,e,g.path,g.snap,s,l,u):(z(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered()&&!me(g.path),d=hl(i,e,g.path,g.snap,s,l,h,u))}else if(n.type===Zt.MERGE){const g=n;g.source.fromUser?d=vE(i,e,g.path,g.children,s,l,u):(z(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered(),d=cc(i,e,g.path,g.children,s,l,h,u))}else if(n.type===Zt.ACK_USER_WRITE){const g=n;g.revert?d=CE(i,e,g.path,s,l,u):d=_E(i,e,g.path,g.affectedTree,s,l,u)}else if(n.type===Zt.LISTEN_COMPLETE)d=wE(i,e,n.path,s,u);else throw ri("Unknown operation type: "+n.type);const m=u.getChanges();return yE(e,d,m),{viewCache:d,changes:m}}function yE(i,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=cl(i);(n.length>0||!i.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&n.push(Eg(cl(e)))}}function Ag(i,e,n,s,l,u){const d=e.eventCache;if(fl(s,n)!=null)return e;{let h,m;if(me(n))if(z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=_r(e),w=g instanceof ne?g:ne.EMPTY_NODE,_=Oc(s,w);h=i.filter.updateFullNode(e.eventCache.getNode(),_,u)}else{const g=dl(s,_r(e));h=i.filter.updateFullNode(e.eventCache.getNode(),g,u)}else{const g=ve(n);if(g===".priority"){z(Kn(n)===1,"Can't have a priority with additional path components");const w=d.getNode();m=e.serverCache.getNode();const _=Jp(s,n,w,m);_!=null?h=i.filter.updatePriority(w,_):h=d.getNode()}else{const w=Ae(n);let _;if(d.isCompleteForChild(g)){m=e.serverCache.getNode();const C=Jp(s,n,d.getNode(),m);C!=null?_=d.getNode().getImmediateChild(g).updateChild(w,C):_=d.getNode().getImmediateChild(g)}else _=jc(s,g,e.serverCache);_!=null?h=i.filter.updateChild(d.getNode(),g,_,w,l,u):h=d.getNode()}}return as(e,h,d.isFullyInitialized()||me(n),i.filter.filtersNodes())}}function hl(i,e,n,s,l,u,d,h){const m=e.serverCache;let g;const w=d?i.filter:i.filter.getIndexedFilter();if(me(n))g=w.updateFullNode(m.getNode(),s,null);else if(w.filtersNodes()&&!m.isFiltered()){const I=m.getNode().updateChild(n,s);g=w.updateFullNode(m.getNode(),I,null)}else{const I=ve(n);if(!m.isCompleteForPath(n)&&Kn(n)>1)return e;const b=Ae(n),P=m.getNode().getImmediateChild(I).updateChild(b,s);I===".priority"?g=w.updatePriority(m.getNode(),P):g=w.updateChild(m.getNode(),I,P,b,Rg,null)}const _=Tg(e,g,m.isFullyInitialized()||me(n),w.filtersNodes()),C=new Lc(l,_,u);return Ag(i,_,n,l,C,h)}function uc(i,e,n,s,l,u,d){const h=e.eventCache;let m,g;const w=new Lc(l,e,u);if(me(n))g=i.filter.updateFullNode(e.eventCache.getNode(),s,d),m=as(e,g,!0,i.filter.filtersNodes());else{const _=ve(n);if(_===".priority")g=i.filter.updatePriority(e.eventCache.getNode(),s),m=as(e,g,h.isFullyInitialized(),h.isFiltered());else{const C=Ae(n),I=h.getNode().getImmediateChild(_);let b;if(me(C))b=s;else{const D=w.getCompleteChild(_);D!=null?pg(C)===".priority"&&D.getChild(gg(C)).isEmpty()?b=D:b=D.updateChild(C,s):b=ne.EMPTY_NODE}if(I.equals(b))m=e;else{const D=i.filter.updateChild(h.getNode(),_,b,C,w,d);m=as(e,D,h.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function Zp(i,e){return i.eventCache.isCompleteForChild(e)}function vE(i,e,n,s,l,u,d){let h=e;return s.foreach((m,g)=>{const w=tt(n,m);Zp(e,ve(w))&&(h=uc(i,h,w,g,l,u,d))}),s.foreach((m,g)=>{const w=tt(n,m);Zp(e,ve(w))||(h=uc(i,h,w,g,l,u,d))}),h}function em(i,e,n){return n.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function cc(i,e,n,s,l,u,d,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,g;me(n)?g=s:g=new ze(null).setTree(n,s);const w=e.serverCache.getNode();return g.children.inorderTraversal((_,C)=>{if(w.hasChild(_)){const I=e.serverCache.getNode().getImmediateChild(_),b=em(i,I,C);m=hl(i,m,new Me(_),b,l,u,d,h)}}),g.children.inorderTraversal((_,C)=>{const I=!e.serverCache.isCompleteForChild(_)&&C.value===null;if(!w.hasChild(_)&&!I){const b=e.serverCache.getNode().getImmediateChild(_),D=em(i,b,C);m=hl(i,m,new Me(_),D,l,u,d,h)}}),m}function _E(i,e,n,s,l,u,d){if(fl(l,n)!=null)return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(s.value!=null){if(me(n)&&m.isFullyInitialized()||m.isCompleteForPath(n))return hl(i,e,n,m.getNode().getChild(n),l,u,h,d);if(me(n)){let g=new ze(null);return m.getNode().forEachChild(Xr,(w,_)=>{g=g.set(new Me(w),_)}),cc(i,e,n,g,l,u,h,d)}else return e}else{let g=new ze(null);return s.foreach((w,_)=>{const C=tt(n,w);m.isCompleteForPath(C)&&(g=g.set(w,m.getNode().getChild(C)))}),cc(i,e,n,g,l,u,h,d)}}function wE(i,e,n,s,l){const u=e.serverCache,d=Tg(e,u.getNode(),u.isFullyInitialized()||me(n),u.isFiltered());return Ag(i,d,n,s,Rg,l)}function CE(i,e,n,s,l,u){let d;if(fl(s,n)!=null)return e;{const h=new Lc(s,e,l),m=e.eventCache.getNode();let g;if(me(n)||ve(n)===".priority"){let w;if(e.serverCache.isFullyInitialized())w=dl(s,_r(e));else{const _=e.serverCache.getNode();z(_ instanceof ne,"serverChildren would be complete if leaf node"),w=Oc(s,_)}w=w,g=i.filter.updateFullNode(m,w,u)}else{const w=ve(n);let _=jc(s,w,e.serverCache);_==null&&e.serverCache.isCompleteForChild(w)&&(_=m.getImmediateChild(w)),_!=null?g=i.filter.updateChild(m,w,_,Ae(n),h,u):e.eventCache.getNode().hasChild(w)?g=i.filter.updateChild(m,w,ne.EMPTY_NODE,Ae(n),h,u):g=m,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=dl(s,_r(e)),d.isLeafNode()&&(g=i.filter.updateFullNode(g,d,u)))}return d=e.serverCache.isFullyInitialized()||fl(s,Ee())!=null,as(e,g,d,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new Mc(s.getIndex()),u=Bx(s);this.processor_=pE(u);const d=n.serverCache,h=n.eventCache,m=l.updateFullNode(ne.EMPTY_NODE,d.getNode(),null),g=u.updateFullNode(ne.EMPTY_NODE,h.getNode(),null),w=new Xn(m,d.isFullyInitialized(),l.filtersNodes()),_=new Xn(g,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Sl(_,w),this.eventGenerator_=new Qx(this.query_)}get query(){return this.query_}}function xE(i){return i.viewCache_.serverCache.getNode()}function EE(i){return cl(i.viewCache_)}function kE(i,e){const n=_r(i.viewCache_);return n&&(i.query._queryParams.loadsAllData()||!me(e)&&!n.getImmediateChild(ve(e)).isEmpty())?n.getChild(e):null}function tm(i){return i.eventRegistrations_.length===0}function NE(i,e){i.eventRegistrations_.push(e)}function nm(i,e,n){const s=[];if(n){z(e==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(u=>{const d=u.createCancelEvent(n,l);d&&s.push(d)})}if(e){let l=[];for(let u=0;u<i.eventRegistrations_.length;++u){const d=i.eventRegistrations_[u];if(!d.matches(e))l.push(d);else if(e.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return s}function rm(i,e,n,s){e.type===Zt.MERGE&&e.source.queryId!==null&&(z(_r(i.viewCache_),"We should always have a full cache before handling merges"),z(cl(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,u=gE(i.processor_,l,e,n,s);return mE(i.processor_,u.viewCache),z(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,Og(i,u.changes,u.viewCache.eventCache.getNode(),null)}function TE(i,e){const n=i.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ve,(u,d)=>{s.push(ti(u,d))}),n.isFullyInitialized()&&s.push(Eg(n.getNode())),Og(i,s,n.getNode(),e)}function Og(i,e,n,s){const l=s?[s]:i.eventRegistrations_;return qx(i.eventGenerator_,e,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl;class jg{constructor(){this.views=new Map}}function IE(i){z(!pl,"__referenceConstructor has already been defined"),pl=i}function bE(){return z(pl,"Reference.ts has not been loaded"),pl}function PE(i){return i.views.size===0}function Fc(i,e,n,s){const l=e.source.queryId;if(l!==null){const u=i.views.get(l);return z(u!=null,"SyncTree gave us an op for an invalid query."),rm(u,e,n,s)}else{let u=[];for(const d of i.views.values())u=u.concat(rm(d,e,n,s));return u}}function Lg(i,e,n,s,l){const u=e._queryIdentifier,d=i.views.get(u);if(!d){let h=dl(n,l?s:null),m=!1;h?m=!0:s instanceof ne?(h=Oc(n,s),m=!1):(h=ne.EMPTY_NODE,m=!1);const g=Sl(new Xn(h,m,!1),new Xn(s,l,!1));return new SE(e,g)}return d}function ME(i,e,n,s,l,u){const d=Lg(i,e,s,l,u);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,d),NE(d,n),TE(d,n)}function DE(i,e,n,s){const l=e._queryIdentifier,u=[];let d=[];const h=Jn(i);if(l==="default")for(const[m,g]of i.views.entries())d=d.concat(nm(g,n,s)),tm(g)&&(i.views.delete(m),g.query._queryParams.loadsAllData()||u.push(g.query));else{const m=i.views.get(l);m&&(d=d.concat(nm(m,n,s)),tm(m)&&(i.views.delete(l),m.query._queryParams.loadsAllData()||u.push(m.query)))}return h&&!Jn(i)&&u.push(new(bE())(e._repo,e._path)),{removed:u,events:d}}function Fg(i){const e=[];for(const n of i.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Qn(i,e){let n=null;for(const s of i.views.values())n=n||kE(s,e);return n}function zg(i,e){if(e._queryParams.loadsAllData())return El(i);{const s=e._queryIdentifier;return i.views.get(s)}}function Wg(i,e){return zg(i,e)!=null}function Jn(i){return El(i)!=null}function El(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml;function RE(i){z(!ml,"__referenceConstructor has already been defined"),ml=i}function AE(){return z(ml,"Reference.ts has not been loaded"),ml}let OE=1;class im{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ze(null),this.pendingWriteTree_=cE(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Bg(i,e,n,s,l){return Zx(i.pendingWriteTree_,e,n,s,l),l?Ps(i,new vr(Ng(),e,n)):[]}function gr(i,e,n=!1){const s=eE(i.pendingWriteTree_,e);if(tE(i.pendingWriteTree_,e)){let u=new ze(null);return s.snap!=null?u=u.set(Ee(),!0):Mt(s.children,d=>{u=u.set(new Me(d),!0)}),Ps(i,new ul(s.path,u,n))}else return[]}function bs(i,e,n){return Ps(i,new vr(Rc(),e,n))}function jE(i,e,n){const s=ze.fromObject(n);return Ps(i,new ws(Rc(),e,s))}function LE(i,e){return Ps(i,new _s(Rc(),e))}function FE(i,e,n){const s=Wc(i,n);if(s){const l=Bc(s),u=l.path,d=l.queryId,h=Ct(u,e),m=new _s(Ac(d),h);return $c(i,u,m)}else return[]}function $g(i,e,n,s,l=!1){const u=e._path,d=i.syncPointTree_.get(u);let h=[];if(d&&(e._queryIdentifier==="default"||Wg(d,e))){const m=DE(d,e,n,s);PE(d)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const g=m.removed;if(h=m.events,!l){const w=g.findIndex(C=>C._queryParams.loadsAllData())!==-1,_=i.syncPointTree_.findOnPath(u,(C,I)=>Jn(I));if(w&&!_){const C=i.syncPointTree_.subtree(u);if(!C.isEmpty()){const I=$E(C);for(let b=0;b<I.length;++b){const D=I[b],P=D.query,X=Hg(i,D);i.listenProvider_.startListening(cs(P),Cs(i,P),X.hashFn,X.onComplete)}}}!_&&g.length>0&&!s&&(w?i.listenProvider_.stopListening(cs(e),null):g.forEach(C=>{const I=i.queryToTagMap.get(kl(C));i.listenProvider_.stopListening(cs(C),I)}))}UE(i,g)}return h}function Ug(i,e,n,s){const l=Wc(i,s);if(l!=null){const u=Bc(l),d=u.path,h=u.queryId,m=Ct(d,e),g=new vr(Ac(h),m,n);return $c(i,d,g)}else return[]}function zE(i,e,n,s){const l=Wc(i,s);if(l){const u=Bc(l),d=u.path,h=u.queryId,m=Ct(d,e),g=ze.fromObject(n),w=new ws(Ac(h),m,g);return $c(i,d,w)}else return[]}function WE(i,e,n,s=!1){const l=e._path;let u=null,d=!1;i.syncPointTree_.foreachOnPath(l,(C,I)=>{const b=Ct(C,l);u=u||Qn(I,b),d=d||Jn(I)});let h=i.syncPointTree_.get(l);h?(d=d||Jn(h),u=u||Qn(h,Ee())):(h=new jg,i.syncPointTree_=i.syncPointTree_.set(l,h));let m;u!=null?m=!0:(m=!1,u=ne.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((I,b)=>{const D=Qn(b,Ee());D&&(u=u.updateImmediateChild(I,D))}));const g=Wg(h,e);if(!g&&!e._queryParams.loadsAllData()){const C=kl(e);z(!i.queryToTagMap.has(C),"View does not exist, but we have a tag");const I=GE();i.queryToTagMap.set(C,I),i.tagToQueryMap.set(I,C)}const w=xl(i.pendingWriteTree_,l);let _=ME(h,e,n,w,u,m);if(!g&&!d&&!s){const C=zg(h,e);_=_.concat(VE(i,e,C))}return _}function zc(i,e,n){const l=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(e,(d,h)=>{const m=Ct(d,e),g=Qn(h,m);if(g)return g});return Pg(l,e,u,n,!0)}function BE(i,e){const n=e._path;let s=null;i.syncPointTree_.foreachOnPath(n,(g,w)=>{const _=Ct(g,n);s=s||Qn(w,_)});let l=i.syncPointTree_.get(n);l?s=s||Qn(l,Ee()):(l=new jg,i.syncPointTree_=i.syncPointTree_.set(n,l));const u=s!=null,d=u?new Xn(s,!0,!1):null,h=xl(i.pendingWriteTree_,e._path),m=Lg(l,e,h,u?d.getNode():ne.EMPTY_NODE,u);return EE(m)}function Ps(i,e){return Gg(e,i.syncPointTree_,null,xl(i.pendingWriteTree_,Ee()))}function Gg(i,e,n,s){if(me(i.path))return Vg(i,e,n,s);{const l=e.get(Ee());n==null&&l!=null&&(n=Qn(l,Ee()));let u=[];const d=ve(i.path),h=i.operationForChild(d),m=e.children.get(d);if(m&&h){const g=n?n.getImmediateChild(d):null,w=Mg(s,d);u=u.concat(Gg(h,m,g,w))}return l&&(u=u.concat(Fc(l,i,s,n))),u}}function Vg(i,e,n,s){const l=e.get(Ee());n==null&&l!=null&&(n=Qn(l,Ee()));let u=[];return e.children.inorderTraversal((d,h)=>{const m=n?n.getImmediateChild(d):null,g=Mg(s,d),w=i.operationForChild(d);w&&(u=u.concat(Vg(w,h,m,g)))}),l&&(u=u.concat(Fc(l,i,s,n))),u}function Hg(i,e){const n=e.query,s=Cs(i,n);return{hashFn:()=>(xE(e)||ne.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?FE(i,n._path,s):LE(i,n._path);{const u=WS(l,n);return $g(i,n,null,u)}}}}function Cs(i,e){const n=kl(e);return i.queryToTagMap.get(n)}function kl(i){return i._path.toString()+"$"+i._queryIdentifier}function Wc(i,e){return i.tagToQueryMap.get(e)}function Bc(i){const e=i.indexOf("$");return z(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new Me(i.substr(0,e))}}function $c(i,e,n){const s=i.syncPointTree_.get(e);z(s,"Missing sync point for query tag that we're tracking");const l=xl(i.pendingWriteTree_,e);return Fc(s,n,l,null)}function $E(i){return i.fold((e,n,s)=>{if(n&&Jn(n))return[El(n)];{let l=[];return n&&(l=Fg(n)),Mt(s,(u,d)=>{l=l.concat(d)}),l}})}function cs(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(AE())(i._repo,i._path):i}function UE(i,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const l=kl(s),u=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(u)}}}function GE(){return OE++}function VE(i,e,n){const s=e._path,l=Cs(i,e),u=Hg(i,n),d=i.listenProvider_.startListening(cs(e),l,u.hashFn,u.onComplete),h=i.syncPointTree_.subtree(s);if(l)z(!Jn(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((g,w,_)=>{if(!me(g)&&w&&Jn(w))return[El(w).query];{let C=[];return w&&(C=C.concat(Fg(w).map(I=>I.query))),Mt(_,(I,b)=>{C=C.concat(b)}),C}});for(let g=0;g<m.length;++g){const w=m[g];i.listenProvider_.stopListening(cs(w),Cs(i,w))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Uc(n)}node(){return this.node_}}class Gc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=tt(this.path_,e);return new Gc(this.syncTree_,n)}node(){return zc(this.syncTree_,this.path_)}}const HE=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},sm=function(i,e,n){if(!i||typeof i!="object")return i;if(z(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return YE(i[".sv"],e,n);if(typeof i[".sv"]=="object")return QE(i[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},YE=function(i,e,n){switch(i){case"timestamp":return n.timestamp;default:z(!1,"Unexpected server value: "+i)}},QE=function(i,e,n){i.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const s=i.increment;typeof s!="number"&&z(!1,"Unexpected increment value: "+s);const l=e.node();if(z(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const d=l.getValue();return typeof d!="number"?s:d+s},qE=function(i,e,n,s){return Vc(e,new Gc(n,i),s)},Yg=function(i,e,n){return Vc(i,new Uc(e),n)};function Vc(i,e,n){const s=i.getPriority().val(),l=sm(s,e.getImmediateChild(".priority"),n);let u;if(i.isLeafNode()){const d=i,h=sm(d.getValue(),e,n);return h!==d.getValue()||l!==d.getPriority().val()?new st(h,lt(l)):i}else{const d=i;return u=d,l!==d.getPriority().val()&&(u=u.updatePriority(new st(l))),d.forEachChild(Ve,(h,m)=>{const g=Vc(m,e.getImmediateChild(h),n);g!==m&&(u=u.updateImmediateChild(h,g))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Yc(i,e){let n=e instanceof Me?e:new Me(e),s=i,l=ve(n);for(;l!==null;){const u=Zr(s.node.children,l)||{children:{},childCount:0};s=new Hc(l,s,u),n=Ae(n),l=ve(n)}return s}function li(i){return i.node.value}function Qg(i,e){i.node.value=e,dc(i)}function qg(i){return i.node.childCount>0}function KE(i){return li(i)===void 0&&!qg(i)}function Nl(i,e){Mt(i.node.children,(n,s)=>{e(new Hc(n,i,s))})}function Kg(i,e,n,s){n&&!s&&e(i),Nl(i,l=>{Kg(l,e,!0,s)}),n&&s&&e(i)}function XE(i,e,n){let s=i.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Ms(i){return new Me(i.parent===null?i.name:Ms(i.parent)+"/"+i.name)}function dc(i){i.parent!==null&&JE(i.parent,i.name,i)}function JE(i,e,n){const s=KE(n),l=Cn(i.node.children,e);s&&l?(delete i.node.children[e],i.node.childCount--,dc(i)):!s&&!l&&(i.node.children[e]=n.node,i.node.childCount++,dc(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=/[\[\].#$\/\u0000-\u001F\u007F]/,ek=/[\[\].#$\u0000-\u001F\u007F]/,$u=10*1024*1024,Xg=function(i){return typeof i=="string"&&i.length!==0&&!ZE.test(i)},Jg=function(i){return typeof i=="string"&&i.length!==0&&!ek.test(i)},tk=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Jg(i)},nk=function(i,e,n,s){Qc(xc(i,"value"),e,n)},Qc=function(i,e,n){const s=n instanceof Me?new _x(n,i):n;if(e===void 0)throw new Error(i+"contains undefined "+pr(s));if(typeof e=="function")throw new Error(i+"contains a function "+pr(s)+" with contents = "+e.toString());if(Ym(e))throw new Error(i+"contains "+e.toString()+" "+pr(s));if(typeof e=="string"&&e.length>$u/3&&wl(e)>$u)throw new Error(i+"contains a string greater than "+$u+" utf8 bytes "+pr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(Mt(e,(d,h)=>{if(d===".value")l=!0;else if(d!==".priority"&&d!==".sv"&&(u=!0,!Xg(d)))throw new Error(i+" contains an invalid key ("+d+") "+pr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);wx(s,d),Qc(i,h,s),Cx(s)}),l&&u)throw new Error(i+' contains ".value" child '+pr(s)+" in addition to actual children.")}},Zg=function(i,e,n,s){if(!Jg(n))throw new Error(xc(i,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},rk=function(i,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Zg(i,e,n)},ey=function(i,e){if(ve(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},ik=function(i,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Xg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!tk(n))throw new Error(xc(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ty(i,e){let n=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();n!==null&&!yg(u,n.path)&&(i.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(l)}n&&i.eventLists_.push(n)}function ln(i,e,n){ty(i,n),ok(i,s=>Jt(s,e)||Jt(e,s))}function ok(i,e){i.recursionDepth_++;let n=!0;for(let s=0;s<i.eventLists_.length;s++){const l=i.eventLists_[s];if(l){const u=l.path;e(u)?(lk(i.eventLists_[s]),i.eventLists_[s]=null):n=!1}}n&&(i.eventLists_=[]),i.recursionDepth_--}function lk(i){for(let e=0;e<i.events.length;e++){const n=i.events[e];if(n!==null){i.events[e]=null;const s=n.getEventRunner();os&&gt("event: "+n.toString()),oi(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="repo_interrupt",uk=25;class ck{constructor(e,n,s,l){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=al(),this.transactionQueueTree_=new Hc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dk(i,e,n){if(i.stats_=Tc(i.repoInfo_),i.forceRestClient_||GS())i.server_=new ll(i.repoInfo_,(s,l,u,d)=>{om(i,s,l,u,d)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>lm(i,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{et(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}i.persistentConnection_=new vn(i.repoInfo_,e,(s,l,u,d)=>{om(i,s,l,u,d)},s=>{lm(i,s)},s=>{hk(i,s)},i.authTokenProvider_,i.appCheckProvider_,n),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(s=>{i.server_.refreshAuthToken(s)}),i.appCheckProvider_.addTokenChangeListener(s=>{i.server_.refreshAppCheckToken(s.token)}),i.statsReporter_=qS(i.repoInfo_,()=>new Yx(i.stats_,i.server_)),i.infoData_=new $x,i.infoSyncTree_=new im({startListening:(s,l,u,d)=>{let h=[];const m=i.infoData_.getNode(s._path);return m.isEmpty()||(h=bs(i.infoSyncTree_,s._path,m),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),Kc(i,"connected",!1),i.serverSyncTree_=new im({startListening:(s,l,u,d)=>(i.server_.listen(s,u,l,(h,m)=>{const g=d(h,m);ln(i.eventQueue_,s._path,g)}),[]),stopListening:(s,l)=>{i.server_.unlisten(s,l)}})}function fk(i){const n=i.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function qc(i){return HE({timestamp:fk(i)})}function om(i,e,n,s,l){i.dataUpdateCount++;const u=new Me(e);n=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,n):n;let d=[];if(l)if(s){const m=tl(n,g=>lt(g));d=zE(i.serverSyncTree_,u,m,l)}else{const m=lt(n);d=Ug(i.serverSyncTree_,u,m,l)}else if(s){const m=tl(n,g=>lt(g));d=jE(i.serverSyncTree_,u,m)}else{const m=lt(n);d=bs(i.serverSyncTree_,u,m)}let h=u;d.length>0&&(h=Il(i,u)),ln(i.eventQueue_,h,d)}function lm(i,e){Kc(i,"connected",e),e===!1&&gk(i)}function hk(i,e){Mt(e,(n,s)=>{Kc(i,n,s)})}function Kc(i,e,n){const s=new Me("/.info/"+e),l=lt(n);i.infoData_.updateSnapshot(s,l);const u=bs(i.infoSyncTree_,s,l);ln(i.eventQueue_,s,u)}function ny(i){return i.nextWriteId_++}function pk(i,e,n){const s=BE(i.serverSyncTree_,e);return s!=null?Promise.resolve(s):i.server_.get(e).then(l=>{const u=lt(l).withIndex(e._queryParams.getIndex());WE(i.serverSyncTree_,e,n,!0);let d;if(e._queryParams.loadsAllData())d=bs(i.serverSyncTree_,e._path,u);else{const h=Cs(i.serverSyncTree_,e);d=Ug(i.serverSyncTree_,e._path,u,h)}return ln(i.eventQueue_,e._path,d),$g(i.serverSyncTree_,e,n,null,!0),u},l=>(Tl(i,"get for query "+et(e)+" failed: "+l),Promise.reject(new Error(l))))}function mk(i,e,n,s,l){Tl(i,"set",{path:e.toString(),value:n,priority:s});const u=qc(i),d=lt(n,s),h=zc(i.serverSyncTree_,e),m=Yg(d,h,u),g=ny(i),w=Bg(i.serverSyncTree_,e,m,g,!0);ty(i.eventQueue_,w),i.server_.put(e.toString(),d.val(!0),(C,I)=>{const b=C==="ok";b||Pt("set at "+e+" failed: "+C);const D=gr(i.serverSyncTree_,g,!b);ln(i.eventQueue_,e,D),vk(i,l,C,I)});const _=ly(i,e);Il(i,_),ln(i.eventQueue_,_,[])}function gk(i){Tl(i,"onDisconnectEvents");const e=qc(i),n=al();oc(i.onDisconnect_,Ee(),(l,u)=>{const d=qE(l,u,i.serverSyncTree_,e);kg(n,l,d)});let s=[];oc(n,Ee(),(l,u)=>{s=s.concat(bs(i.serverSyncTree_,l,u));const d=ly(i,l);Il(i,d)}),i.onDisconnect_=al(),ln(i.eventQueue_,Ee(),s)}function yk(i){i.persistentConnection_&&i.persistentConnection_.interrupt(ak)}function Tl(i,...e){let n="";i.persistentConnection_&&(n=i.persistentConnection_.id+":"),gt(n,...e)}function vk(i,e,n,s){e&&oi(()=>{if(n==="ok")e(null);else{const l=(n||"error").toUpperCase();let u=l;s&&(u+=": "+s);const d=new Error(u);d.code=l,e(d)}})}function ry(i,e,n){return zc(i.serverSyncTree_,e,n)||ne.EMPTY_NODE}function Xc(i,e=i.transactionQueueTree_){if(e||bl(i,e),li(e)){const n=sy(i,e);z(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&_k(i,Ms(e),n)}else qg(e)&&Nl(e,n=>{Xc(i,n)})}function _k(i,e,n){const s=n.map(g=>g.currentWriteId),l=ry(i,e,s);let u=l;const d=l.hash();for(let g=0;g<n.length;g++){const w=n[g];z(w.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const _=Ct(e,w.path);u=u.updateChild(_,w.currentOutputSnapshotRaw)}const h=u.val(!0),m=e;i.server_.put(m.toString(),h,g=>{Tl(i,"transaction put response",{path:m.toString(),status:g});let w=[];if(g==="ok"){const _=[];for(let C=0;C<n.length;C++)n[C].status=2,w=w.concat(gr(i.serverSyncTree_,n[C].currentWriteId)),n[C].onComplete&&_.push(()=>n[C].onComplete(null,!0,n[C].currentOutputSnapshotResolved)),n[C].unwatcher();bl(i,Yc(i.transactionQueueTree_,e)),Xc(i,i.transactionQueueTree_),ln(i.eventQueue_,e,w);for(let C=0;C<_.length;C++)oi(_[C])}else{if(g==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{Pt("transaction at "+m.toString()+" failed: "+g);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=g}Il(i,e)}},d)}function Il(i,e){const n=iy(i,e),s=Ms(n),l=sy(i,n);return wk(i,l,s),s}function wk(i,e,n){if(e.length===0)return;const s=[];let l=[];const d=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],g=Ct(n,m.path);let w=!1,_;if(z(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)w=!0,_=m.abortReason,l=l.concat(gr(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=uk)w=!0,_="maxretry",l=l.concat(gr(i.serverSyncTree_,m.currentWriteId,!0));else{const C=ry(i,m.path,d);m.currentInputSnapshot=C;const I=e[h].update(C.val());if(I!==void 0){Qc("transaction failed: Data returned ",I,m.path);let b=lt(I);typeof I=="object"&&I!=null&&Cn(I,".priority")||(b=b.updatePriority(C.getPriority()));const P=m.currentWriteId,X=qc(i),J=Yg(b,C,X);m.currentOutputSnapshotRaw=b,m.currentOutputSnapshotResolved=J,m.currentWriteId=ny(i),d.splice(d.indexOf(P),1),l=l.concat(Bg(i.serverSyncTree_,m.path,J,m.currentWriteId,m.applyLocally)),l=l.concat(gr(i.serverSyncTree_,P,!0))}else w=!0,_="nodata",l=l.concat(gr(i.serverSyncTree_,m.currentWriteId,!0))}ln(i.eventQueue_,n,l),l=[],w&&(e[h].status=2,function(C){setTimeout(C,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(_==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(_),!1,null))))}bl(i,i.transactionQueueTree_);for(let h=0;h<s.length;h++)oi(s[h]);Xc(i,i.transactionQueueTree_)}function iy(i,e){let n,s=i.transactionQueueTree_;for(n=ve(e);n!==null&&li(s)===void 0;)s=Yc(s,n),e=Ae(e),n=ve(e);return s}function sy(i,e){const n=[];return oy(i,e,n),n.sort((s,l)=>s.order-l.order),n}function oy(i,e,n){const s=li(e);if(s)for(let l=0;l<s.length;l++)n.push(s[l]);Nl(e,l=>{oy(i,l,n)})}function bl(i,e){const n=li(e);if(n){let s=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[s]=n[l],s++);n.length=s,Qg(e,n.length>0?n:void 0)}Nl(e,s=>{bl(i,s)})}function ly(i,e){const n=Ms(iy(i,e)),s=Yc(i.transactionQueueTree_,e);return XE(s,l=>{Uu(i,l)}),Uu(i,s),Kg(s,l=>{Uu(i,l)}),n}function Uu(i,e){const n=li(e);if(n){const s=[];let l=[],u=-1;for(let d=0;d<n.length;d++)n[d].status===3||(n[d].status===1?(z(u===d-1,"All SENT items should be at beginning of queue."),u=d,n[d].status=3,n[d].abortReason="set"):(z(n[d].status===0,"Unexpected transaction status in abort"),n[d].unwatcher(),l=l.concat(gr(i.serverSyncTree_,n[d].currentWriteId,!0)),n[d].onComplete&&s.push(n[d].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Qg(e,void 0):n.length=u+1,ln(i.eventQueue_,Ms(e),l);for(let d=0;d<s.length;d++)oi(s[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(i){let e="";const n=i.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let l=n[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function Sk(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const n of i.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Pt(`Invalid query segment '${n}' in query '${i}'`)}return e}const am=function(i,e){const n=xk(i),s=n.namespace;n.domain==="firebase.com"&&wn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||OS();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new sg(n.host,n.secure,s,l,e,"",s!==n.subdomain),path:new Me(n.pathString)}},xk=function(i){let e="",n="",s="",l="",u="",d=!0,h="https",m=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(h=i.substring(0,g-1),i=i.substring(g+2));let w=i.indexOf("/");w===-1&&(w=i.length);let _=i.indexOf("?");_===-1&&(_=i.length),e=i.substring(0,Math.min(w,_)),w<_&&(l=Ck(i.substring(w,_)));const C=Sk(i.substring(Math.min(i.length,_)));g=e.indexOf(":"),g>=0?(d=h==="https"||h==="wss",m=parseInt(e.substring(g+1),10)):g=e.length;const I=e.slice(0,g);if(I.toLowerCase()==="localhost")n="localhost";else if(I.split(".").length<=2)n=I;else{const b=e.indexOf(".");s=e.substring(0,b).toLowerCase(),n=e.substring(b+1),u=s}"ns"in C&&(u=C.ns)}return{host:e,port:m,domain:n,subdomain:s,secure:d,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n,s,l){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+et(this.snapshot.exportVal())}}class kk{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,s,l){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=l}get key(){return me(this._path)?null:pg(this._path)}get ref(){return new Sn(this._repo,this._path)}get _queryIdentifier(){const e=Yp(this._queryParams),n=kc(e);return n==="{}"?"default":n}get _queryObject(){return Yp(this._queryParams)}isEqual(e){if(e=ii(e),!(e instanceof Jc))return!1;const n=this._repo===e._repo,s=yg(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return n&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+vx(this._path)}}class Sn extends Jc{constructor(e,n){super(e,n,new Dc,!1)}get parent(){const e=gg(this._path);return e===null?null:new Sn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ss{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Me(e),s=gl(this.ref,e);return new Ss(this._node.getChild(n),s,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new Ss(l,gl(this.ref,s),Ve)))}hasChild(e){const n=new Me(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Gu(i,e){return i=ii(i),i._checkNotDeleted("ref"),e!==void 0?gl(i._root,e):i._root}function gl(i,e){return i=ii(i),ve(i._path)===null?rk("child","path",e):Zg("child","path",e),new Sn(i._repo,tt(i._path,e))}function Tk(i){return ey("remove",i._path),ay(i,null)}function ay(i,e){i=ii(i),ey("set",i._path),nk("set",e,i._path);const n=new _l;return mk(i._repo,i._path,e,null,n.wrapCallback(()=>{})),n.promise}function Ik(i){i=ii(i);const e=new Nk(()=>{}),n=new Zc(e);return pk(i._repo,i,n).then(s=>new Ss(s,new Sn(i._repo,i._path),i._queryParams.getIndex()))}class Zc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new Ek("value",this,new Ss(e.snapshotNode,new Sn(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new kk(this,e,n):null}matches(e){return e instanceof Zc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}IE(Sn);RE(Sn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="FIREBASE_DATABASE_EMULATOR_HOST",fc={};let Pk=!1;function Mk(i,e,n,s){i.repoInfo_=new sg(`${e}:${n}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),s&&(i.authTokenProvider_=s)}function Dk(i,e,n,s,l){let u=s||i.options.databaseURL;u===void 0&&(i.options.projectId||wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let d=am(u,l),h=d.repoInfo,m;typeof process<"u"&&bp&&(m=bp[bk]),m?(u=`http://${m}?ns=${h.namespace}`,d=am(u,l),h=d.repoInfo):d.repoInfo.secure;const g=new HS(i.name,i.options,e);ik("Invalid Firebase Database URL",d),me(d.path)||wn("Database URL must point to the root of a Firebase Database (not including a child path).");const w=Ak(h,i,g,new VS(i.name,n));return new Ok(w,i)}function Rk(i,e){const n=fc[e];(!n||n[i.key]!==i)&&wn(`Database ${e}(${i.repoInfo_}) has already been deleted.`),yk(i),delete n[i.key]}function Ak(i,e,n,s){let l=fc[e.name];l||(l={},fc[e.name]=l);let u=l[i.toURLString()];return u&&wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new ck(i,Pk,n,s),l[i.toURLString()]=u,u}class Ok{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sn(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Rk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&wn("Cannot call "+e+" on a deleted database.")}}function jk(i=_S(),e){const n=mS(i,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=sC("database");s&&Lk(n,...s)}return n}function Lk(i,e,n,s={}){i=ii(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&wn("Cannot call useEmulator() after instance has already been initialized.");const l=i._repoInternal;let u;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&wn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Qo(Qo.OWNER);else if(s.mockUserToken){const d=typeof s.mockUserToken=="string"?s.mockUserToken:oC(s.mockUserToken,i.app.options.projectId);u=new Qo(d)}Mk(l,e,n,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(i){bS(vS),rl(new hs("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return Dk(s,l,u,n)},"PUBLIC").setMultipleInstances(!0)),qr(Pp,Mp,i),qr(Pp,Mp,"esm2017")}vn.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};vn.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};Fk();var zk="firebase",Wk="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(zk,Wk,"app");const Bk={apiKey:"AIzaSyCO0jRb1uLoeaTLo7NE0BdRKVERp2anC-A",authDomain:"bodik-75ffc.firebaseapp.com",databaseURL:"https://bodik-75ffc-default-rtdb.europe-west1.firebasedatabase.app",projectId:"bodik-75ffc",storageBucket:"bodik-75ffc.appspot.com",messagingSenderId:"904451021821",appId:"1:904451021821:web:b1b6606a4d38a6c1941794"},$k=Bm(Bk),Vu=jk($k),Hu="/app_budget/items/";function Uk({userLanguage:i,text:e}){const[n,s]=K.useState(!1),[l,u]=K.useState(""),[d,h]=K.useState(""),[m,g]=Pe("localMainCurrency",""),[w,_]=Pe("localAccounts",[]),[C,I]=Pe("localCurrency",[]),[b,D]=Pe("localTransactions",[]),P=()=>{u(""),h(""),s(!0);try{ay(Gu(Vu,Hu+"bodik"),{localMainCurrency:m,localAccounts:w,localCurrency:C,localTransactions:b}).then(()=>{u(""),s(!1)})}catch(W){console.log(W),h("Error. Try later")}},X=()=>{if(confirm(e.restoreData[i])===!0){u(""),h(""),s(!0);try{const W=Gu(Vu);Ik(gl(W,`${Hu}/bodik`)).then(H=>{if(H.exists()){const F=H.val();F.localMainCurrency&&g(F.localMainCurrency),F.localAccounts&&_(F.localAccounts),F.localCurrency&&I(F.localCurrency),F.localTransactions&&D(F.localTransactions),u(e.loaded[i]),window.location.reload()}else h("No data available");s(!1)}).catch(H=>{console.error(H),h(H)})}catch(W){console.log(W),h("Error. Try later")}}},J=()=>{u(""),h(""),s(!0),confirm(`${e.delete[i]}?`)===!0?Tk(Gu(Vu,Hu+"bodik")).then(()=>{s(!1),u(e.dataDeleted[i])}).catch(W=>{console.error("Error removing item:",W),s(!1),h(W)}):s(!1)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mt-4 flex gap-2 ",children:[y.jsx("button",{onClick:J,className:"btn_2",children:e.deleteAll[i]}),y.jsx("button",{onClick:X,className:"btn_2",children:e.restore[i]})]}),y.jsx("button",{onClick:P,className:"mt-4 py-2 w-full border-[#E64A19] border-[1.5px] font-medium text-[#E64A19] dark:text-white dark:border-white rounded-lg",children:e.backup[i]}),d&&y.jsx("p",{className:"mt-2",children:d}),n&&y.jsx("p",{className:"mt-2",children:n}),l&&y.jsx("p",{className:"mt-2",children:l})]})}function uy(){const i=localStorage.getItem("theme"),[e,n]=K.useState(()=>i||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));return K.useEffect(()=>{const l=window.document.documentElement;e==="dark"?(l.classList.remove("light"),l.classList.add("dark")):(l.classList.remove("dark"),l.classList.add("light")),localStorage.setItem("theme",e)},[e]),{theme:e,toggleTheme:()=>n(l=>l==="light"?"dark":"light")}}function Gk({theme:i,userLanguage:e,text:n}){const{toggleTheme:s}=uy(),l=()=>s();return y.jsxs("button",{title:"Theme toggle",type:"button",onClick:()=>l(),className:"flex gap-4 items-center",children:[y.jsx(Vk,{active:i==="dark"}),y.jsx("p",{children:n.darkTheme[e]})]})}function Vk({active:i=!1}){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"none",children:[y.jsx("path",{className:"fill-black dark:fill-white",d:"M15 10a5 5 0 0 0 0 10V10Z"}),y.jsx("path",{className:"fill-black dark:fill-white",fillRule:"evenodd",d:"M15 27.5c6.904 0 12.5-5.596 12.5-12.5 0-6.903-5.596-12.5-12.5-12.5C8.097 2.5 2.5 8.097 2.5 15c0 6.904 5.597 12.5 12.5 12.5Zm0-2.5v-5a5 5 0 0 0 0-10V5C9.477 5 5 9.477 5 15s4.477 10 10 10Z",clipRule:"evenodd"})]})}function cy(i){var e,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var l=i.length;for(e=0;e<l;e++)i[e]&&(n=cy(i[e]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function Hk(){for(var i,e,n=0,s="",l=arguments.length;n<l;n++)(i=arguments[n])&&(e=cy(i))&&(s&&(s+=" "),s+=e);return s}const ed="-",Yk=i=>{const e=qk(i),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=i;return{getClassGroupId:d=>{const h=d.split(ed);return h[0]===""&&h.length!==1&&h.shift(),dy(h,e)||Qk(d)},getConflictingClassGroupIds:(d,h)=>{const m=n[d]||[];return h&&s[d]?[...m,...s[d]]:m}}},dy=(i,e)=>{var d;if(i.length===0)return e.classGroupId;const n=i[0],s=e.nextPart.get(n),l=s?dy(i.slice(1),s):void 0;if(l)return l;if(e.validators.length===0)return;const u=i.join(ed);return(d=e.validators.find(({validator:h})=>h(u)))==null?void 0:d.classGroupId},um=/^\[(.+)\]$/,Qk=i=>{if(um.test(i)){const e=um.exec(i)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},qk=i=>{const{theme:e,prefix:n}=i,s={nextPart:new Map,validators:[]};return Xk(Object.entries(i.classGroups),n).forEach(([u,d])=>{hc(d,s,u,e)}),s},hc=(i,e,n,s)=>{i.forEach(l=>{if(typeof l=="string"){const u=l===""?e:cm(e,l);u.classGroupId=n;return}if(typeof l=="function"){if(Kk(l)){hc(l(s),e,n,s);return}e.validators.push({validator:l,classGroupId:n});return}Object.entries(l).forEach(([u,d])=>{hc(d,cm(e,u),n,s)})})},cm=(i,e)=>{let n=i;return e.split(ed).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Kk=i=>i.isThemeGetter,Xk=(i,e)=>e?i.map(([n,s])=>{const l=s.map(u=>typeof u=="string"?e+u:typeof u=="object"?Object.fromEntries(Object.entries(u).map(([d,h])=>[e+d,h])):u);return[n,l]}):i,Jk=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const l=(u,d)=>{n.set(u,d),e++,e>i&&(e=0,s=n,n=new Map)};return{get(u){let d=n.get(u);if(d!==void 0)return d;if((d=s.get(u))!==void 0)return l(u,d),d},set(u,d){n.has(u)?n.set(u,d):l(u,d)}}},fy="!",Zk=i=>{const{separator:e,experimentalParseClassName:n}=i,s=e.length===1,l=e[0],u=e.length,d=h=>{const m=[];let g=0,w=0,_;for(let P=0;P<h.length;P++){let X=h[P];if(g===0){if(X===l&&(s||h.slice(P,P+u)===e)){m.push(h.slice(w,P)),w=P+u;continue}if(X==="/"){_=P;continue}}X==="["?g++:X==="]"&&g--}const C=m.length===0?h:h.substring(w),I=C.startsWith(fy),b=I?C.substring(1):C,D=_&&_>w?_-w:void 0;return{modifiers:m,hasImportantModifier:I,baseClassName:b,maybePostfixModifierPosition:D}};return n?h=>n({className:h,parseClassName:d}):d},eN=i=>{if(i.length<=1)return i;const e=[];let n=[];return i.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},tN=i=>({cache:Jk(i.cacheSize),parseClassName:Zk(i),...Yk(i)}),nN=/\s+/,rN=(i,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:l}=e,u=[],d=i.trim().split(nN);let h="";for(let m=d.length-1;m>=0;m-=1){const g=d[m],{modifiers:w,hasImportantModifier:_,baseClassName:C,maybePostfixModifierPosition:I}=n(g);let b=!!I,D=s(b?C.substring(0,I):C);if(!D){if(!b){h=g+(h.length>0?" "+h:h);continue}if(D=s(C),!D){h=g+(h.length>0?" "+h:h);continue}b=!1}const P=eN(w).join(":"),X=_?P+fy:P,J=X+D;if(u.includes(J))continue;u.push(J);const W=l(D,b);for(let H=0;H<W.length;++H){const F=W[H];u.push(X+F)}h=g+(h.length>0?" "+h:h)}return h};function iN(){let i=0,e,n,s="";for(;i<arguments.length;)(e=arguments[i++])&&(n=hy(e))&&(s&&(s+=" "),s+=n);return s}const hy=i=>{if(typeof i=="string")return i;let e,n="";for(let s=0;s<i.length;s++)i[s]&&(e=hy(i[s]))&&(n&&(n+=" "),n+=e);return n};function sN(i,...e){let n,s,l,u=d;function d(m){const g=e.reduce((w,_)=>_(w),i());return n=tN(g),s=n.cache.get,l=n.cache.set,u=h,h(m)}function h(m){const g=s(m);if(g)return g;const w=rN(m,n);return l(m,w),w}return function(){return u(iN.apply(null,arguments))}}const Fe=i=>{const e=n=>n[i]||[];return e.isThemeGetter=!0,e},py=/^\[(?:([a-z-]+):)?(.+)\]$/i,oN=/^\d+\/\d+$/,lN=new Set(["px","full","screen"]),aN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gn=i=>Jr(i)||lN.has(i)||oN.test(i),Un=i=>ai(i,"length",wN),Jr=i=>!!i&&!Number.isNaN(Number(i)),Yu=i=>ai(i,"number",Jr),ns=i=>!!i&&Number.isInteger(Number(i)),hN=i=>i.endsWith("%")&&Jr(i.slice(0,-1)),ce=i=>py.test(i),Gn=i=>aN.test(i),pN=new Set(["length","size","percentage"]),mN=i=>ai(i,pN,my),gN=i=>ai(i,"position",my),yN=new Set(["image","url"]),vN=i=>ai(i,yN,SN),_N=i=>ai(i,"",CN),rs=()=>!0,ai=(i,e,n)=>{const s=py.exec(i);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},wN=i=>uN.test(i)&&!cN.test(i),my=()=>!1,CN=i=>dN.test(i),SN=i=>fN.test(i),xN=()=>{const i=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),s=Fe("brightness"),l=Fe("borderColor"),u=Fe("borderRadius"),d=Fe("borderSpacing"),h=Fe("borderWidth"),m=Fe("contrast"),g=Fe("grayscale"),w=Fe("hueRotate"),_=Fe("invert"),C=Fe("gap"),I=Fe("gradientColorStops"),b=Fe("gradientColorStopPositions"),D=Fe("inset"),P=Fe("margin"),X=Fe("opacity"),J=Fe("padding"),W=Fe("saturate"),H=Fe("scale"),F=Fe("sepia"),re=Fe("skew"),ge=Fe("space"),ke=Fe("translate"),Oe=()=>["auto","contain","none"],ae=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto",ce,e],Q=()=>[ce,e],le=()=>["",gn,Un],we=()=>["auto",Jr,ce],be=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ce=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",ce],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>[Jr,ce];return{cacheSize:500,separator:":",theme:{colors:[rs],spacing:[gn,Un],blur:["none","",Gn,ce],brightness:E(),borderColor:[i],borderRadius:["none","","full",Gn,ce],borderSpacing:Q(),borderWidth:le(),contrast:E(),grayscale:G(),hueRotate:E(),invert:G(),gap:Q(),gradientColorStops:[i],gradientColorStopPositions:[hN,Un],inset:Z(),margin:Z(),opacity:E(),padding:Q(),saturate:E(),scale:E(),sepia:G(),skew:E(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Gn]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...be(),ce]}],overflow:[{overflow:ae()}],"overflow-x":[{"overflow-x":ae()}],"overflow-y":[{"overflow-y":ae()}],overscroll:[{overscroll:Oe()}],"overscroll-x":[{"overscroll-x":Oe()}],"overscroll-y":[{"overscroll-y":Oe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[D]}],"inset-x":[{"inset-x":[D]}],"inset-y":[{"inset-y":[D]}],start:[{start:[D]}],end:[{end:[D]}],top:[{top:[D]}],right:[{right:[D]}],bottom:[{bottom:[D]}],left:[{left:[D]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ns,ce]}],basis:[{basis:Z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",ns,ce]}],"grid-cols":[{"grid-cols":[rs]}],"col-start-end":[{col:["auto",{span:["full",ns,ce]},ce]}],"col-start":[{"col-start":we()}],"col-end":[{"col-end":we()}],"grid-rows":[{"grid-rows":[rs]}],"row-start-end":[{row:["auto",{span:[ns,ce]},ce]}],"row-start":[{"row-start":we()}],"row-end":[{"row-end":we()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[C]}],"gap-x":[{"gap-x":[C]}],"gap-y":[{"gap-y":[C]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[J]}],px:[{px:[J]}],py:[{py:[J]}],ps:[{ps:[J]}],pe:[{pe:[J]}],pt:[{pt:[J]}],pr:[{pr:[J]}],pb:[{pb:[J]}],pl:[{pl:[J]}],m:[{m:[P]}],mx:[{mx:[P]}],my:[{my:[P]}],ms:[{ms:[P]}],me:[{me:[P]}],mt:[{mt:[P]}],mr:[{mr:[P]}],mb:[{mb:[P]}],ml:[{ml:[P]}],"space-x":[{"space-x":[ge]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ge]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[Gn]},Gn]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Gn,Un]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yu]}],"font-family":[{font:[rs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",Jr,Yu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gn,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[X]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[X]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gn,Un]}],"underline-offset":[{"underline-offset":["auto",gn,ce]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[X]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...be(),gN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vN]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[I]}],"gradient-via":[{via:[I]}],"gradient-to":[{to:[I]}],rounded:[{rounded:[u]}],"rounded-s":[{"rounded-s":[u]}],"rounded-e":[{"rounded-e":[u]}],"rounded-t":[{"rounded-t":[u]}],"rounded-r":[{"rounded-r":[u]}],"rounded-b":[{"rounded-b":[u]}],"rounded-l":[{"rounded-l":[u]}],"rounded-ss":[{"rounded-ss":[u]}],"rounded-se":[{"rounded-se":[u]}],"rounded-ee":[{"rounded-ee":[u]}],"rounded-es":[{"rounded-es":[u]}],"rounded-tl":[{"rounded-tl":[u]}],"rounded-tr":[{"rounded-tr":[u]}],"rounded-br":[{"rounded-br":[u]}],"rounded-bl":[{"rounded-bl":[u]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[X]}],"border-style":[{border:[...Ce(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[X]}],"divide-style":[{divide:Ce()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-s":[{"border-s":[l]}],"border-color-e":[{"border-e":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:["",...Ce()]}],"outline-offset":[{"outline-offset":[gn,ce]}],"outline-w":[{outline:[gn,Un]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[X]}],"ring-offset-w":[{"ring-offset":[gn,Un]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",Gn,_N]}],"shadow-color":[{shadow:[rs]}],opacity:[{opacity:[X]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",Gn,ce]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[w]}],invert:[{invert:[_]}],saturate:[{saturate:[W]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[w]}],"backdrop-invert":[{"backdrop-invert":[_]}],"backdrop-opacity":[{"backdrop-opacity":[X]}],"backdrop-saturate":[{"backdrop-saturate":[W]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:E()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:E()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[H]}],"scale-x":[{"scale-x":[H]}],"scale-y":[{"scale-y":[H]}],rotate:[{rotate:[ns,ce]}],"translate-x":[{"translate-x":[ke]}],"translate-y":[{"translate-y":[ke]}],"skew-x":[{"skew-x":[re]}],"skew-y":[{"skew-y":[re]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[gn,Un,Yu]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},EN=sN(xN);function ss(...i){return EN(Hk(i))}function kN(){const{userLanguage:i,changeLanguages:e}=Es(),n=()=>e(is[0]),s=()=>e(is[1]),l=()=>e(is[2]),u=()=>e(is[3]);return y.jsxs("div",{children:[y.jsx("p",{children:Ge.changeLanguage[i]}),y.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[y.jsx("button",{onClick:n,className:ss("btn_2",i==="ua"&&"border border-red-500"),children:"UA"}),y.jsx("button",{onClick:s,className:ss("btn_2",i==="pl"&&"border border-red-500"),children:"PL"}),y.jsx("button",{onClick:l,className:ss("btn_2",i==="eng"&&"border border-red-500"),children:"EN"}),y.jsx("button",{onClick:u,className:ss("btn_2",i==="ru"&&"border border-red-500"),children:"RU"})]})]})}function NN({userLanguage:i,text:e,theme:n}){const[s,l]=Pe("localMainCurrency",""),[u,d]=Pe("localCurrency",[]),[h,m]=K.useState(s||""),g=ae=>{m(ae),l(ae),d(qu)},[w,_]=K.useState({}),C=(ae,Z)=>{_(Q=>({...Q,[ae]:Z})),isNaN(Number(Z))||d(Q=>Q.map(le=>le.id===ae?{...le,exchangeRate:Number(Z)}:le))},[I,b]=K.useState(!1),[D,P]=K.useState(!1),[X,J]=K.useState(""),[W,H]=K.useState(!1),[F,re]=K.useState(!1),[ge,ke]=K.useState(""),Oe=ae=>{ae==="1206"&&(ke(""),H(!1),re(!0))};return y.jsxs(y.Fragment,{children:[F&&y.jsx(bt,{title:e.sync[i],setModal:re,node:y.jsx(Uk,{userLanguage:i,text:e})}),I&&y.jsx(Zo,{title:e.deleteAll[i],dascription:e.confirmDeleteAll[i],onClose:()=>b(!1),onConfirm:()=>{localStorage.clear(),location.reload()}}),W&&y.jsx(bt,{title:e.enterPassword[i],setModal:H,node:y.jsxs("div",{children:[y.jsx("input",{type:"password",className:"input",value:ge,autoFocus:!0,placeholder:e.enterPassword[i],onChange:ae=>ke(ae.target.value)}),y.jsx("button",{className:"btn_2 mt-4",onClick:()=>Oe(ge),children:e.confirm[i]})]}),subModal:!0}),D&&y.jsx(Zo,{title:e.changeMainCurrency[i],dascription:e.confirmChangeMainCurrency[i],onClose:()=>P(!1),onConfirm:()=>{g(X),P(!1)}}),y.jsx("h3",{children:h?`${e.mainCurrency[i]} ${h}`:e.selectFirstPrimaryCurrency[i]}),y.jsx("div",{className:"mt-1 grid grid-cols-4 gap-4",children:qu.map(({id:ae,title:Z})=>y.jsx("button",{className:`${h===Z?"ring-2 ring-neutral-500":""} btn_2`,onClick:()=>{s?(P(!0),J(Z)):g(Z)},children:Z},ae))}),h&&y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"mt-4 font-aptosSemiBold",children:e.currentRate[i]}),y.jsx("div",{className:"mt-1 grid grid-cols-3 gap-4",children:u.filter(ae=>ae.title!==h).map(({id:ae,title:Z,exchangeRate:Q})=>y.jsxs("div",{className:"flex items-center",children:[y.jsx("p",{className:"w-1/2",children:Z}),y.jsx("input",{type:"number",className:"input",value:w[ae]??Q.toString(),onChange:le=>C(ae,le.target.value)})]},ae))})]}),y.jsxs("h3",{className:"mt-4",children:[" ",e.appData[i]]}),y.jsxs("div",{className:"mt-1 grid grid-cols-2 gap-4",children:[y.jsx("button",{className:"btn_2 border border-[#EA4335] text-[#EA4335]",onClick:()=>b(!0),children:e.deleteAll[i]}),y.jsx("button",{className:"btn_2",onClick:()=>H(!0),children:e.sync[i]}),y.jsx(Gk,{userLanguage:i,text:e,theme:n}),y.jsx(kN,{})]})]})}function TN({userLanguage:i,text:e,setModal:n}){const[s,l]=Pe("localBudget",0),u=d=>{l(d===""?"":parseFloat(d)||0)};return y.jsxs(y.Fragment,{children:[y.jsx("h3",{children:e.monthlyExpenses[i]}),y.jsx("input",{type:"number",placeholder:e.enterPlannedAmount[i],className:"w-full dark:bg-transparent dark:text-white",value:s===0?"":s,onChange:d=>u(d.target.value)}),y.jsx("button",{className:"mt-4 ml-auto block bg-black/5 aspect-square px-4 h-10 rounded-lg leading-none transition-colors hover:bg-black/10 disabled:hidden",onClick:()=>n(!1),disabled:!s,children:e.save[i]})]})}function IN({userLanguage:i,text:e,mainCurrency:n,balance:s,localCurrency:l}){const d=((h,m,g)=>{const w=g.find(C=>C.title===m);if(!w||w.exchangeRate===0)throw new Error("Invalid base currency or exchange rate is zero");const _=w.exchangeRate;return g.map(({title:C,exchangeRate:I})=>{if(I===0)return{title:C,amount:0};const b=h/_*I;return{title:C,amount:Number(b.toFixed(2))}})})(s,n,l);return y.jsx(y.Fragment,{children:d.length>0?y.jsx(y.Fragment,{children:d.map(h=>y.jsxs("p",{children:[h.amount," ",h.title]},h.title))}):y.jsx("p",{children:e.selectCurrencyAndAddAccounts[i]})})}const pc=(i,e)=>e.map(s=>{const l=i.reduce((u,d)=>{const h=e.find(g=>g.title===d.currency);if(!h)return u;const m=Number(d.amount)/h.exchangeRate*s.exchangeRate;return u+m},0);return{currency:s.title,total:l}}),gy=(i,e)=>{const s=ym(i,new Date),l={ru:{today:"",tomorrow:"",yesterday:""},pl:{today:"Dzisiaj",tomorrow:"Jutro",yesterday:"Wczoraj"},ua:{today:"",tomorrow:"",yesterday:""},eng:{today:"Today",tomorrow:"Tomorrow",yesterday:"Yesterday"}},u=h=>{var m;return((m=l[e])==null?void 0:m[h])||l.eng[h]};let d="";return s===0?d=u("today"):s===1?d=u("tomorrow"):s===-1?d=u("yesterday"):d=Xo(i,"dd.MM.yy"),d};function bN({theme:i,userLanguage:e,text:n}){var ke,Oe,ae;const[s,l]=K.useState(!1),[u,d]=K.useState(!1),[h,m]=K.useState(!1),[g]=Pe("localBudget",0),[w]=Pe("localMainCurrency",""),[_]=Pe("localAccounts",[]),[C]=Pe("localCurrency",[]),[I]=Pe("localTransactions",[]),b=C.map(Z=>{const Q=_.reduce((le,we)=>{const be=C.find(Ce=>Ce.title===we.currency);return be?le+we.initialBalance/be.exchangeRate*Z.exchangeRate:le},0);return{currency:Z.title,total:Q}}),D=C.map(Z=>{const Q=I.filter(le=>le.transactionType==="income").reduce((le,we)=>{const be=C.find(Ce=>Ce.title===we.currency);return be?le+we.amount/be.exchangeRate*Z.exchangeRate:le},0);return{currency:Z.title,total:Q}}),P=C.map(Z=>{const Q=I.filter(le=>le.transactionType==="expense").reduce((le,we)=>{const be=C.find(Ce=>Ce.title===we.currency);return be?le+we.amount/be.exchangeRate*Z.exchangeRate:le},0);return{currency:Z.title,total:Q}}),X=((ke=b.find(Z=>Z.currency===w))==null?void 0:ke.total)||0,J=((Oe=D.find(Z=>Z.currency===w))==null?void 0:Oe.total)||0,W=((ae=P.find(Z=>Z.currency===w))==null?void 0:ae.total)||0,H=X+J+W,F=pc(I.filter(Z=>Z.transactionType==="expense"),C),re=g?Math.round(F.filter(Z=>Z.currency===w)[0].total/g*100):0,ge=F.length>0?F.filter(Z=>Z.currency===w)[0].total*-1:0;return y.jsxs(y.Fragment,{children:[s&&y.jsx(bt,{title:n.settings[e],setModal:l,node:y.jsx(NN,{userLanguage:e,text:n,theme:i})}),u&&y.jsx(bt,{title:n.budget[e],setModal:d,node:y.jsx(TN,{userLanguage:e,text:n,setModal:d})}),h&&y.jsx(bt,{title:n.balance[e],setModal:m,node:y.jsx(IN,{userLanguage:e,text:n,mainCurrency:w,balance:H,localCurrency:C})}),y.jsxs("section",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex gap-4 items-center",children:[y.jsx("button",{onClick:()=>l(!0),className:"rounded-full bg-black text-white dark:bg-neutral-600 font-aptosSemiBold aspect-square w-10 h-10 flex items-center justify-center",children:"BS"}),y.jsxs("div",{onClick:()=>m(!0),className:"cursor-pointer",children:[y.jsx("p",{className:"font-aptosSemiBold text-neutral-500",children:n.balance[e]}),y.jsxs("p",{className:"text-xl font-aptosBold leading-none",children:[_.length>0?H.toFixed(1):0," ",w||""]})]})]}),y.jsxs("div",{className:"flex flex-col items-end cursor-pointer",onClick:()=>d(!0),children:[y.jsxs("p",{className:"font-aptosSemiBold text-neutral-500",children:[n.budget[e]," ",g?`${re*-1}%`:""]}),g&&y.jsxs("p",{className:"text-xl font-aptosBold leading-none",children:[ge.toFixed(0)," / ",g," ",w]})]})]})]})}function dm({title:i,color:e,amount:n,setModal:s}){const[l]=Pe("localMainCurrency","");return y.jsxs("div",{style:{backgroundColor:e},className:"rounded-lg p-3 pb-2 w-full flex justify-between items-start relative dark:text-black dark:saturate-[900%]",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-aptosSemiBold text-sm",children:i}),y.jsxs("p",{className:"mt-4 text-xl font-aptosBold",children:[n.toFixed(1)," ",y.jsx("span",{className:"font-aptosSemiBold text-lg",children:l})]})]}),y.jsx("button",{className:"btn_1 absolute top-2 right-2",onClick:()=>s(!0),children:"+"})]})}function PN({setModal:i}){const[e]=Pe("localAccounts",[]);return y.jsx(y.Fragment,{children:y.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.map(n=>y.jsxs("button",{style:{backgroundColor:n.color,color:"white"},className:"btn_2",onClick:()=>i(n),children:[n.title,", ",n.currency]},n.id))})})}function MN({categories:i,setModal:e,onClose:n}){return y.jsx(y.Fragment,{children:y.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.map(s=>y.jsx("button",{className:"btn_2",onClick:()=>{e&&e(s),n&&n(!1)},children:s},s))})})}function DN({userLanguage:i,text:e,selected:n,onDateSelect:s,setModal:l}){const[u,d]=K.useState(new Date),h=new Date,m=()=>{switch(i){case"ru":return Jo;case"pl":return Sm;case"ua":return Em;case"eng":return vc;default:return Jo}},g=()=>y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("button",{onClick:()=>d(Cm(u,1)),className:"text-gray-500",children:y.jsx(RN,{})}),y.jsx("div",{className:"font-aptosSemiBold capitalize text-lg",children:Xo(u,"LLLL yyyy",{locale:m()})}),y.jsx("button",{onClick:()=>d(yc(u,1)),className:"text-gray-500",children:y.jsx(AN,{})})]}),w=D=>{const P={ru:["","","","","","",""],pl:["Pn","Wt","r","Cz","Pt","So","Nd"],ua:["","","","","","",""],eng:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]};return P[D]||P.eng},_=()=>{const D=w(i);return y.jsx("div",{className:"grid grid-cols-7 text-center mb-2 font-aptosSemiBold",children:D.map((P,X)=>y.jsx("div",{children:P},X))})},C=()=>{const D=P_(u),P=b_(u),X=qn(D,{weekStartsOn:1}),J=D_(P,{weekStartsOn:1}),W=[];let H=[],F=X;for(;F<=J;){for(let re=0;re<7;re++){const ge=F;H.push(y.jsx("div",{className:`${Qu(F,h)&&"text-lg bg-neutral-100 dark:bg-neutral-500"} rounded-full shrink-0 aspect-square flex items-center justify-center cursor-pointer leading-none m-px  ${Qu(F,n??new Date)?ss("ring-2 ring-[#EA4335]/80 bg-[#EA4335]/20"):!_c(F,D)&&"text-gray-400"}`,onClick:()=>I(ge),children:Xo(F,"d")},F.toString())),F=E_(F,1)}W.push(y.jsx("div",{className:"grid grid-cols-7",children:H},F.toString())),H=[]}return y.jsx("div",{children:W})},I=D=>{s(D),l(!1)},b=()=>{const D=new Date;d(D),s(D),l(!1)};return y.jsxs("div",{className:"w-full max-w-md mx-auto",children:[g(),_(),C(),y.jsxs("div",{className:"mt-4 flex gap-2",children:[y.jsx("button",{className:"btn_2",onClick:b,children:e.today[i]}),y.jsx("button",{disabled:!n,className:"btn_2",onClick:()=>{n&&l(!1)},children:e.set[i]})]})]})}function RN(){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-left",children:y.jsx("path",{d:"m15 18-6-6 6-6"})})}function AN(){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right",children:y.jsx("path",{d:"m9 18 6-6-6-6"})})}function mc({userLanguage:i,text:e,transactionType:n,setModal:s,editMode:l,transaction:u}){const[d,h]=K.useState(!1),[m,g]=K.useState(!1),[w,_]=K.useState(!1),[C]=Pe("localAccounts",[]),I=C.filter(ie=>ie.id===(u==null?void 0:u.accountId))[0],[b,D]=K.useState(l?I:null),[P,X]=K.useState(u?u.category:""),[J,W]=K.useState(u?u.description:""),[H,F]=K.useState(u?u.date:new Date),[re,ge]=K.useState(u?u.transactionType==="income"?u.amount:-1*u.amount:""),ke=ie=>{D(ie),h(!1)},Oe=ie=>{X(ie),g(!1)},[ae,Z]=Pe("localTransactions",[]),Q=()=>{if(b&&P){const ie={id:l&&u?u.id:km(),category:P,accountId:b.id,currency:b.currency,description:J,amount:n==="income"?Number(re):-1*Number(re),transactionType:n,date:H},L=ae.findIndex(G=>G.id===ie.id);if(L>-1){const G=[...ae];G[L]=ie,Z(G),s(!1)}else Z([...ae,ie]),s(!1)}},le=ie=>{const L=ae.filter(G=>G.id!==ie);Z(L)},[we,be]=K.useState(!1),Ce=gy(H,i);return y.jsxs(y.Fragment,{children:[we&&y.jsx(Zo,{title:e.transactionDeletion[i],dascription:e.confirmTransactionDeletion[i],onClose:()=>be(!1),onConfirm:()=>{s(!1),u&&le(u.id)}}),w&&y.jsx(bt,{title:e.selectDate[i],setModal:_,node:y.jsx(DN,{userLanguage:i,text:e,selected:H,onDateSelect:F,setModal:_})}),d&&y.jsx(bt,{title:e.accounts[i],setModal:h,node:y.jsx(PN,{setModal:ke})}),m&&y.jsx(bt,{title:n==="income"?e.incomeCategories[i]:e.expenseCategories[i],setModal:g,node:y.jsx(MN,{categories:n==="income"?B1:$1,setModal:Oe})}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("button",{style:{backgroundColor:b?C.filter(ie=>ie.id===b.id)[0].color:"#F2F2F2",color:b?"white":"black"},className:"btn_2 !w-2/3",onClick:()=>h(!0),children:b?`${b.title}, ${b.currency}`:e.selectAccount[i]}),y.jsx("input",{type:"number",value:re,autoFocus:!0,placeholder:e.amount[i],className:"input text-lg !w-1/3",onChange:ie=>ge(ie.target.value)})]}),y.jsxs("div",{className:"mt-4 flex gap-4",children:[y.jsx("div",{className:"w-full",children:y.jsx("button",{className:"btn_2",onClick:()=>g(!0),children:P||e.category[i]})}),y.jsx("button",{className:"btn_2",onClick:()=>_(!0),children:Ce})]}),y.jsx("input",{type:"text",value:J,placeholder:e.description[i],className:"mt-4 p-4 bg-yellow-50 dark:bg-yellow-300/10 dark:placeholder:text-neutral-200 w-full rounded-lg placeholder:text-neutral-500",onChange:ie=>W(ie.target.value)}),y.jsx("div",{className:"mt-4 flex gap-4 justify-end",children:y.jsxs("div",{className:"flex gap-4 justify-end",children:[l&&y.jsx("button",{className:"btn_2 border border-[#EA4335] text-[#EA4335]",onClick:()=>be(!0),children:e.delete[i]}),y.jsx("button",{className:"btn_2",onClick:()=>{s(!1),Q()},disabled:!b||!P||!re,children:l?e.edit[i]:e.save[i]})]})})]})}function ON({transactions:i,userLanguage:e,text:n}){const[s,l]=K.useState(!1),[u,d]=K.useState(!1),[h]=Pe("localCurrency",[]),[m]=Pe("localMainCurrency",""),g=pc(i.filter(_=>_.transactionType==="income"),h),w=pc(i.filter(_=>_.transactionType==="expense"),h);return y.jsxs(y.Fragment,{children:[s&&y.jsx(bt,{title:n.addIncome[e],setModal:l,node:y.jsx(mc,{userLanguage:e,text:n,transactionType:"income",setModal:l})}),u&&y.jsx(bt,{title:n.addExpense[e],setModal:d,node:y.jsx(mc,{userLanguage:e,text:n,transactionType:"expense",setModal:d})}),y.jsxs("section",{className:"bg-white dark:bg-neutral-800 dark:text-white shadow-lg p-2 rounded-xl flex gap-2",children:[y.jsx(dm,{title:n.incomes[e],color:"#dcfce7",amount:g.filter(_=>_.currency===m)[0].total,setModal:l}),y.jsx(dm,{title:n.expenses[e],color:"#fee2e2",amount:w.filter(_=>_.currency===m)[0].total,setModal:d})]})]})}function jN(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M3 6h18"}),y.jsx("path",{d:"M7 12h10"}),y.jsx("path",{d:"M10 18h4"})]})}function LN(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m3 16 4 4 4-4"}),y.jsx("path",{d:"M7 20V4"}),y.jsx("path",{d:"M20 8h-5"}),y.jsx("path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10"}),y.jsx("path",{d:"M15 14h5l-5 6h5"})]})}function FN(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m3 16 4 4 4-4"}),y.jsx("path",{d:"M7 4v16"}),y.jsx("path",{d:"M15 4h5l-5 6h5"}),y.jsx("path",{d:"M15 20v-3.5a2.5 2.5 0 0 1 5 0V20"}),y.jsx("path",{d:"M20 18h-5"})]})}function zN(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m14 18 4 4 4-4"}),y.jsx("path",{d:"M16 2v4"}),y.jsx("path",{d:"M18 14v8"}),y.jsx("path",{d:"M21 11.354V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.343"}),y.jsx("path",{d:"M3 10h18"}),y.jsx("path",{d:"M8 2v4"})]})}function WN(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M12 5v14"}),y.jsx("path",{d:"m19 12-7 7-7-7"})]})}function BN(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m5 12 7-7 7 7"}),y.jsx("path",{d:"M12 19V5"})]})}function $N({userLanguage:i,text:e,transaction:n}){const[s,l]=K.useState(!1),u=gy(n.date,i),[d]=Pe("localAccounts",[]),h=d.filter(m=>m.id===(n==null?void 0:n.accountId))[0];return y.jsxs(y.Fragment,{children:[s&&y.jsx(bt,{title:"",setModal:l,node:y.jsx(mc,{userLanguage:i,text:e,transactionType:n.transactionType,transaction:n,setModal:l,editMode:!0})}),y.jsxs("div",{onClick:()=>l(!0),className:"flex items-center p-3 overflow-hidden border-b border-neutral-200 dark:border-black last:border-none cursor-pointer",children:[y.jsx("div",{className:`${n.transactionType==="income"?"bg-[#dcfce7] dark:bg-[#34A853]":"bg-[#fee2e2] dark:bg-[#EA4335]"} aspect-square  w-10 h-10 rounded-full text-3xl leading-none flex justify-center items-center `,children:n.transactionType==="income"?y.jsx(WN,{}):y.jsx(BN,{})}),y.jsxs("div",{className:"w-full ml-4 flex flex-col justify-center",children:[y.jsxs("div",{className:"flex gap-4 justify-between items-center",children:[y.jsxs("p",{children:[n.description,n.description?`, ${u.toLocaleLowerCase()}`:u]}),y.jsxs("p",{className:`whitespace-nowrap text-right ${n.amount>0?"text-[#34A853]":"text-[#EA4335]"}  text-xl font-aptosBold`,children:[n.amount," ",y.jsx("span",{className:"text-xs",children:n.currency})]})]}),y.jsxs("div",{className:"flex gap-4 justify-between text-sm text-neutral-500 dark:text-neutral-400",children:[y.jsx("p",{children:n.category}),y.jsx("p",{style:{backgroundColor:h.color},className:"whitespace-nowrap text-white dark:text-neutral-100 px-1.5 rounded-md",children:h.title})]})]})]})]})}function UN({userLanguage:i,text:e,transactions:n}){const[s,l]=K.useState(!1),[u,d]=K.useState("month"),[h,m]=K.useState("all"),[g,w]=K.useState("none"),_=new Date,b=[...n.filter(P=>u==="day"?Qu(P.date,_):u==="month"?_c(P.date,_):u==="year"?bw(P.date,_):!0).filter(P=>h==="expense"?P.transactionType==="expense":h==="income"?P.transactionType==="income":!0)].sort((P,X)=>g==="asc"?P.amount-X.amount:g==="desc"?X.amount-P.amount:new Date(X.date).getTime()-new Date(P.date).getTime()),D=()=>{w(g==="none"?"desc":g==="desc"?"asc":"none")};return y.jsxs(y.Fragment,{children:[s&&y.jsx(bt,{title:e.filter[i],setModal:l,node:y.jsxs(y.Fragment,{children:[y.jsx("p",{children:e.byDate[i]}),y.jsxs("div",{className:"mt-1 flex gap-2",children:[y.jsx("button",{onClick:()=>d("all"),className:`btn_2 ${u==="all"?"ring-2 ring-neutral-500":""}`,children:e.all[i]}),y.jsx("button",{onClick:()=>d("day"),className:`btn_2 ${u==="day"?"ring-2 ring-neutral-500":""}`,children:e.today[i]}),y.jsx("button",{onClick:()=>d("month"),className:`btn_2 ${u==="month"?"ring-2 ring-neutral-500":""}`,children:e.month[i]}),y.jsx("button",{onClick:()=>d("year"),className:`btn_2 ${u==="year"?"ring-2 ring-neutral-500":""}`,children:e.year[i]})]}),y.jsx("p",{className:"mt-4",children:e.byTransactionType[i]}),y.jsxs("div",{className:"mt-1 flex gap-2",children:[y.jsx("button",{onClick:()=>{m("all")},className:`btn_2 ${h==="all"?"ring-2 ring-neutral-400":""}`,children:e.all[i]}),y.jsx("button",{onClick:()=>{m("expense")},className:`btn_2 ${h==="expense"?"ring-2 ring-neutral-400":""}`,children:e.expenses[i]}),y.jsx("button",{onClick:()=>{m("income")},className:`btn_2 ${h==="income"?"ring-2 ring-neutral-400":""}`,children:e.incomes[i]})]})]})}),y.jsxs("section",{className:"w-full",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h3",{children:e.transactions[i]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("button",{className:"btn_1 flex justify-center items-center",onClick:D,children:[g==="none"&&y.jsx(zN,{}),g==="asc"&&y.jsx(FN,{}),g==="desc"&&y.jsx(LN,{})]}),y.jsx("button",{className:"btn_1 flex justify-center items-center",onClick:()=>l(!0),children:y.jsx(jN,{})})]})]}),n.length>0?y.jsx("div",{className:"mt-2 bg-white dark:bg-neutral-800 shadow-lg rounded-lg",children:b.map(P=>y.jsx($N,{userLanguage:i,text:e,transaction:P},P.id))}):y.jsx("p",{className:"text-neutral-500",children:e.noTansactions[i]})]})]})}function GN(){const[i,e]=K.useState(navigator.onLine),[n]=K.useState(!1);return K.useEffect(()=>{const s=()=>e(!0),l=()=>e(!1);return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[n]),i}function VN(){const{userLanguage:i}=Es(),[e]=Pe("localMainCurrency",""),[n]=Pe("localTransactions",[]),[s]=Pe("localAccounts",[]),l=GN(),[u,d]=K.useState(new Date),h=()=>{d(C=>Cm(C,1))},m=()=>{d(C=>yc(C,1))},g=n.filter(C=>_c(Pw(C.date.toString()),u)),{theme:w}=uy(),_=()=>{switch(i){case"ru":return Jo;case"pl":return Sm;case"ua":return Em;case"eng":return vc;default:return Jo}};return y.jsxs(y.Fragment,{children:[!l&&y.jsx("p",{className:"fixed left-4 top-0 text-xs",children:Ge.noConnection[i]}),y.jsxs("main",{className:"max-w-lg md:max-w-7xl mx-auto p-4 md:px-10 flex flex-col md:flex-row gap-5 md:gap-10 select-none",children:[y.jsxs("div",{className:"w-full flex flex-col gap-5",children:[y.jsx(bN,{theme:w,userLanguage:i,text:Ge}),y.jsx(q1,{userLanguage:i,text:Ge}),e&&s.length>0&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex items-center justify-between gap-4 text-lg font-aptosSemiBold",children:[y.jsx("button",{className:"btn_1 flex justify-center items-center",onClick:h,children:y.jsx(HN,{})}),y.jsx("span",{className:"capitalize",children:Xo(u,"LLLL, yyyy",{locale:_()})}),y.jsx("button",{className:"btn_1 flex justify-center items-center",onClick:m,children:y.jsx(YN,{})})]}),y.jsx(ON,{userLanguage:i,text:Ge,transactions:g})]})]}),n.length>0?y.jsx("div",{className:"w-full flex flex-col gap-4",children:y.jsx(UN,{userLanguage:i,text:Ge,transactions:g})}):y.jsx("p",{className:"w-full text-neutral-500",children:Ge.noTansactions[i]})]})]})}function HN(){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-left",children:y.jsx("path",{d:"m15 18-6-6 6-6"})})}function YN(){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right",children:y.jsx("path",{d:"m9 18 6-6-6-6"})})}C_.createRoot(document.getElementById("root")).render(y.jsx(Y1,{children:y.jsx(VN,{})}));

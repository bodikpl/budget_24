(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pu={exports:{}},Gi={},mu={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh;function Jv(){if(zh)return fe;zh=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),_=Symbol.iterator;function w(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,D={};function L(E,P,oe){this.props=E,this.context=P,this.refs=D,this.updater=oe||I}L.prototype.isReactComponent={},L.prototype.setState=function(E,P){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,P,"setState")},L.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function W(){}W.prototype=L.prototype;function F(E,P,oe){this.props=E,this.context=P,this.refs=D,this.updater=oe||I}var V=F.prototype=new W;V.constructor=F,b(V,L.prototype),V.isPureReactComponent=!0;var te=Array.isArray,X=Object.prototype.hasOwnProperty,se={current:null},_e={key:!0,ref:!0,__self:!0,__source:!0};function $(E,P,oe){var ce,Ce={},ge=null,ie=null;if(P!=null)for(ce in P.ref!==void 0&&(ie=P.ref),P.key!==void 0&&(ge=""+P.key),P)X.call(P,ce)&&!_e.hasOwnProperty(ce)&&(Ce[ce]=P[ce]);var de=arguments.length-2;if(de===1)Ce.children=oe;else if(1<de){for(var Te=Array(de),at=0;at<de;at++)Te[at]=arguments[at+2];Ce.children=Te}if(E&&E.defaultProps)for(ce in de=E.defaultProps,de)Ce[ce]===void 0&&(Ce[ce]=de[ce]);return{$$typeof:i,type:E,key:ge,ref:ie,props:Ce,_owner:se.current}}function ae(E,P){return{$$typeof:i,type:E.type,key:P,ref:E.ref,props:E.props,_owner:E._owner}}function ue(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function ve(E){var P={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(oe){return P[oe]})}var q=/\/+/g;function xe(E,P){return typeof E=="object"&&E!==null&&E.key!=null?ve(""+E.key):P.toString(36)}function ze(E,P,oe,ce,Ce){var ge=typeof E;(ge==="undefined"||ge==="boolean")&&(E=null);var ie=!1;if(E===null)ie=!0;else switch(ge){case"string":case"number":ie=!0;break;case"object":switch(E.$$typeof){case i:case e:ie=!0}}if(ie)return ie=E,Ce=Ce(ie),E=ce===""?"."+xe(ie,0):ce,te(Ce)?(oe="",E!=null&&(oe=E.replace(q,"$&/")+"/"),ze(Ce,P,oe,"",function(at){return at})):Ce!=null&&(ue(Ce)&&(Ce=ae(Ce,oe+(!Ce.key||ie&&ie.key===Ce.key?"":(""+Ce.key).replace(q,"$&/")+"/")+E)),P.push(Ce)),1;if(ie=0,ce=ce===""?".":ce+":",te(E))for(var de=0;de<E.length;de++){ge=E[de];var Te=ce+xe(ge,de);ie+=ze(ge,P,oe,Te,Ce)}else if(Te=w(E),typeof Te=="function")for(E=Te.call(E),de=0;!(ge=E.next()).done;)ge=ge.value,Te=ce+xe(ge,de++),ie+=ze(ge,P,oe,Te,Ce);else if(ge==="object")throw P=String(E),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return ie}function we(E,P,oe){if(E==null)return E;var ce=[],Ce=0;return ze(E,ce,"","",function(ge){return P.call(oe,ge,Ce++)}),ce}function Ne(E){if(E._status===-1){var P=E._result;P=P(),P.then(function(oe){(E._status===0||E._status===-1)&&(E._status=1,E._result=oe)},function(oe){(E._status===0||E._status===-1)&&(E._status=2,E._result=oe)}),E._status===-1&&(E._status=0,E._result=P)}if(E._status===1)return E._result.default;throw E._result}var me={current:null},z={transition:null},J={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:z,ReactCurrentOwner:se};function B(){throw Error("act(...) is not supported in production builds of React.")}return fe.Children={map:we,forEach:function(E,P,oe){we(E,function(){P.apply(this,arguments)},oe)},count:function(E){var P=0;return we(E,function(){P++}),P},toArray:function(E){return we(E,function(P){return P})||[]},only:function(E){if(!ue(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},fe.Component=L,fe.Fragment=n,fe.Profiler=l,fe.PureComponent=F,fe.StrictMode=s,fe.Suspense=m,fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,fe.act=B,fe.cloneElement=function(E,P,oe){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ce=b({},E.props),Ce=E.key,ge=E.ref,ie=E._owner;if(P!=null){if(P.ref!==void 0&&(ge=P.ref,ie=se.current),P.key!==void 0&&(Ce=""+P.key),E.type&&E.type.defaultProps)var de=E.type.defaultProps;for(Te in P)X.call(P,Te)&&!_e.hasOwnProperty(Te)&&(ce[Te]=P[Te]===void 0&&de!==void 0?de[Te]:P[Te])}var Te=arguments.length-2;if(Te===1)ce.children=oe;else if(1<Te){de=Array(Te);for(var at=0;at<Te;at++)de[at]=arguments[at+2];ce.children=de}return{$$typeof:i,type:E.type,key:Ce,ref:ge,props:ce,_owner:ie}},fe.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:u,_context:E},E.Consumer=E},fe.createElement=$,fe.createFactory=function(E){var P=$.bind(null,E);return P.type=E,P},fe.createRef=function(){return{current:null}},fe.forwardRef=function(E){return{$$typeof:h,render:E}},fe.isValidElement=ue,fe.lazy=function(E){return{$$typeof:C,_payload:{_status:-1,_result:E},_init:Ne}},fe.memo=function(E,P){return{$$typeof:g,type:E,compare:P===void 0?null:P}},fe.startTransition=function(E){var P=z.transition;z.transition={};try{E()}finally{z.transition=P}},fe.unstable_act=B,fe.useCallback=function(E,P){return me.current.useCallback(E,P)},fe.useContext=function(E){return me.current.useContext(E)},fe.useDebugValue=function(){},fe.useDeferredValue=function(E){return me.current.useDeferredValue(E)},fe.useEffect=function(E,P){return me.current.useEffect(E,P)},fe.useId=function(){return me.current.useId()},fe.useImperativeHandle=function(E,P,oe){return me.current.useImperativeHandle(E,P,oe)},fe.useInsertionEffect=function(E,P){return me.current.useInsertionEffect(E,P)},fe.useLayoutEffect=function(E,P){return me.current.useLayoutEffect(E,P)},fe.useMemo=function(E,P){return me.current.useMemo(E,P)},fe.useReducer=function(E,P,oe){return me.current.useReducer(E,P,oe)},fe.useRef=function(E){return me.current.useRef(E)},fe.useState=function(E){return me.current.useState(E)},fe.useSyncExternalStore=function(E,P,oe){return me.current.useSyncExternalStore(E,P,oe)},fe.useTransition=function(){return me.current.useTransition()},fe.version="18.3.1",fe}var Wh;function oc(){return Wh||(Wh=1,mu.exports=Jv()),mu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh;function Zv(){if(Bh)return Gi;Bh=1;var i=oc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(h,m,g){var C,_={},w=null,I=null;g!==void 0&&(w=""+g),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(I=m.ref);for(C in m)s.call(m,C)&&!u.hasOwnProperty(C)&&(_[C]=m[C]);if(h&&h.defaultProps)for(C in m=h.defaultProps,m)_[C]===void 0&&(_[C]=m[C]);return{$$typeof:e,type:h,key:w,ref:I,props:_,_owner:l.current}}return Gi.Fragment=n,Gi.jsx=d,Gi.jsxs=d,Gi}var Uh;function e_(){return Uh||(Uh=1,pu.exports=Zv()),pu.exports}var y=e_(),jo={},gu={exports:{}},St={},yu={exports:{}},vu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h;function t_(){return $h||($h=1,function(i){function e(z,J){var B=z.length;z.push(J);e:for(;0<B;){var E=B-1>>>1,P=z[E];if(0<l(P,J))z[E]=J,z[B]=P,B=E;else break e}}function n(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var J=z[0],B=z.pop();if(B!==J){z[0]=B;e:for(var E=0,P=z.length,oe=P>>>1;E<oe;){var ce=2*(E+1)-1,Ce=z[ce],ge=ce+1,ie=z[ge];if(0>l(Ce,B))ge<P&&0>l(ie,Ce)?(z[E]=ie,z[ge]=B,E=ge):(z[E]=Ce,z[ce]=B,E=ce);else if(ge<P&&0>l(ie,B))z[E]=ie,z[ge]=B,E=ge;else break e}}return J}function l(z,J){var B=z.sortIndex-J.sortIndex;return B!==0?B:z.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var m=[],g=[],C=1,_=null,w=3,I=!1,b=!1,D=!1,L=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(z){for(var J=n(g);J!==null;){if(J.callback===null)s(g);else if(J.startTime<=z)s(g),J.sortIndex=J.expirationTime,e(m,J);else break;J=n(g)}}function te(z){if(D=!1,V(z),!b)if(n(m)!==null)b=!0,Ne(X);else{var J=n(g);J!==null&&me(te,J.startTime-z)}}function X(z,J){b=!1,D&&(D=!1,W($),$=-1),I=!0;var B=w;try{for(V(J),_=n(m);_!==null&&(!(_.expirationTime>J)||z&&!ve());){var E=_.callback;if(typeof E=="function"){_.callback=null,w=_.priorityLevel;var P=E(_.expirationTime<=J);J=i.unstable_now(),typeof P=="function"?_.callback=P:_===n(m)&&s(m),V(J)}else s(m);_=n(m)}if(_!==null)var oe=!0;else{var ce=n(g);ce!==null&&me(te,ce.startTime-J),oe=!1}return oe}finally{_=null,w=B,I=!1}}var se=!1,_e=null,$=-1,ae=5,ue=-1;function ve(){return!(i.unstable_now()-ue<ae)}function q(){if(_e!==null){var z=i.unstable_now();ue=z;var J=!0;try{J=_e(!0,z)}finally{J?xe():(se=!1,_e=null)}}else se=!1}var xe;if(typeof F=="function")xe=function(){F(q)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,we=ze.port2;ze.port1.onmessage=q,xe=function(){we.postMessage(null)}}else xe=function(){L(q,0)};function Ne(z){_e=z,se||(se=!0,xe())}function me(z,J){$=L(function(){z(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_continueExecution=function(){b||I||(b=!0,Ne(X))},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_getFirstCallbackNode=function(){return n(m)},i.unstable_next=function(z){switch(w){case 1:case 2:case 3:var J=3;break;default:J=w}var B=w;w=J;try{return z()}finally{w=B}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var B=w;w=z;try{return J()}finally{w=B}},i.unstable_scheduleCallback=function(z,J,B){var E=i.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?E+B:E):B=E,z){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=B+P,z={id:C++,callback:J,priorityLevel:z,startTime:B,expirationTime:P,sortIndex:-1},B>E?(z.sortIndex=B,e(g,z),n(m)===null&&z===n(g)&&(D?(W($),$=-1):D=!0,me(te,B-E))):(z.sortIndex=P,e(m,z),b||I||(b=!0,Ne(X))),z},i.unstable_shouldYield=ve,i.unstable_wrapCallback=function(z){var J=w;return function(){var B=w;w=J;try{return z.apply(this,arguments)}finally{w=B}}}}(vu)),vu}var Hh;function n_(){return Hh||(Hh=1,yu.exports=t_()),yu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function r_(){if(Vh)return St;Vh=1;var i=oc(),e=n_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function u(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(l[t]=r,t=0;t<r.length;t++)s.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},_={};function w(t){return m.call(_,t)?!0:m.call(C,t)?!1:g.test(t)?_[t]=!0:(C[t]=!0,!1)}function I(t,r,o,a){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function b(t,r,o,a){if(r===null||typeof r>"u"||I(t,r,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function D(t,r,o,a,c,f,p){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=f,this.removeEmptyString=p}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){L[t]=new D(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];L[r]=new D(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){L[t]=new D(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){L[t]=new D(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){L[t]=new D(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){L[t]=new D(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){L[t]=new D(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){L[t]=new D(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){L[t]=new D(t,5,!1,t.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function F(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(W,F);L[r]=new D(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(W,F);L[r]=new D(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(W,F);L[r]=new D(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){L[t]=new D(t,1,!1,t.toLowerCase(),null,!1,!1)}),L.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){L[t]=new D(t,1,!1,t.toLowerCase(),null,!0,!0)});function V(t,r,o,a){var c=L.hasOwnProperty(r)?L[r]:null;(c!==null?c.type!==0:a||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(b(r,o,c,a)&&(o=null),a||c===null?w(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):c.mustUseProperty?t[c.propertyName]=o===null?c.type===3?!1:"":o:(r=c.attributeName,a=c.attributeNamespace,o===null?t.removeAttribute(r):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,a?t.setAttributeNS(a,r,o):t.setAttribute(r,o))))}var te=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),se=Symbol.for("react.portal"),_e=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),ve=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),z=Symbol.iterator;function J(t){return t===null||typeof t!="object"?null:(t=z&&t[z]||t["@@iterator"],typeof t=="function"?t:null)}var B=Object.assign,E;function P(t){if(E===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);E=r&&r[1]||""}return`
`+E+t}var oe=!1;function ce(t,r){if(!t||oe)return"";oe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(T){var a=T}Reflect.construct(t,[],r)}else{try{r.call()}catch(T){a=T}t.call(r.prototype)}else{try{throw Error()}catch(T){a=T}t()}}catch(T){if(T&&a&&typeof T.stack=="string"){for(var c=T.stack.split(`
`),f=a.stack.split(`
`),p=c.length-1,v=f.length-1;1<=p&&0<=v&&c[p]!==f[v];)v--;for(;1<=p&&0<=v;p--,v--)if(c[p]!==f[v]){if(p!==1||v!==1)do if(p--,v--,0>v||c[p]!==f[v]){var x=`
`+c[p].replace(" at new "," at ");return t.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",t.displayName)),x}while(1<=p&&0<=v);break}}}finally{oe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?P(t):""}function Ce(t){switch(t.tag){case 5:return P(t.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return t=ce(t.type,!1),t;case 11:return t=ce(t.type.render,!1),t;case 1:return t=ce(t.type,!0),t;default:return""}}function ge(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _e:return"Fragment";case se:return"Portal";case ae:return"Profiler";case $:return"StrictMode";case xe:return"Suspense";case ze:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ve:return(t.displayName||"Context")+".Consumer";case ue:return(t._context.displayName||"Context")+".Provider";case q:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case we:return r=t.displayName||null,r!==null?r:ge(t.type)||"Memo";case Ne:r=t._payload,t=t._init;try{return ge(t(r))}catch{}}return null}function ie(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(r);case 8:return r===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function de(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Te(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function at(t){var r=Te(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),a=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ks(t){t._valueTracker||(t._valueTracker=at(t))}function Hc(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),a="";return t&&(a=Te(t)?t.checked?"true":"false":t.value),t=a,t!==o?(r.setValue(t),!0):!1}function Ns(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cl(t,r){var o=r.checked;return B({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Vc(t,r){var o=r.defaultValue==null?"":r.defaultValue,a=r.checked!=null?r.checked:r.defaultChecked;o=de(r.value!=null?r.value:o),t._wrapperState={initialChecked:a,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Gc(t,r){r=r.checked,r!=null&&V(t,"checked",r,!1)}function xl(t,r){Gc(t,r);var o=de(r.value),a=r.type;if(o!=null)a==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Sl(t,r.type,o):r.hasOwnProperty("defaultValue")&&Sl(t,r.type,de(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Yc(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var a=r.type;if(!(a!=="submit"&&a!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Sl(t,r,o){(r!=="number"||Ns(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var li=Array.isArray;function vr(t,r,o,a){if(t=t.options,r){r={};for(var c=0;c<o.length;c++)r["$"+o[c]]=!0;for(o=0;o<t.length;o++)c=r.hasOwnProperty("$"+t[o].value),t[o].selected!==c&&(t[o].selected=c),c&&a&&(t[o].defaultSelected=!0)}else{for(o=""+de(o),r=null,c=0;c<t.length;c++){if(t[c].value===o){t[c].selected=!0,a&&(t[c].defaultSelected=!0);return}r!==null||t[c].disabled||(r=t[c])}r!==null&&(r.selected=!0)}}function El(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qc(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(li(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:de(o)}}function qc(t,r){var o=de(r.value),a=de(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),a!=null&&(t.defaultValue=""+a)}function Kc(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Xc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kl(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Xc(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ts,Jc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,a,c){MSApp.execUnsafeLocalFunction(function(){return t(r,o,a,c)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Ts=Ts||document.createElement("div"),Ts.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Ts.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function ai(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ny=["Webkit","ms","Moz","O"];Object.keys(ui).forEach(function(t){ny.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ui[r]=ui[t]})});function Zc(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ui.hasOwnProperty(t)&&ui[t]?(""+r).trim():r+"px"}function ed(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var a=o.indexOf("--")===0,c=Zc(o,r[o],a);o==="float"&&(o="cssFloat"),a?t.setProperty(o,c):t[o]=c}}var ry=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nl(t,r){if(r){if(ry[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Tl(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Il=null;function bl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pl=null,_r=null,wr=null;function td(t){if(t=Ri(t)){if(typeof Pl!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Ks(r),Pl(t.stateNode,t.type,r))}}function nd(t){_r?wr?wr.push(t):wr=[t]:_r=t}function rd(){if(_r){var t=_r,r=wr;if(wr=_r=null,td(t),r)for(t=0;t<r.length;t++)td(r[t])}}function id(t,r){return t(r)}function sd(){}var Rl=!1;function od(t,r,o){if(Rl)return t(r,o);Rl=!0;try{return id(t,r,o)}finally{Rl=!1,(_r!==null||wr!==null)&&(sd(),rd())}}function ci(t,r){var o=t.stateNode;if(o===null)return null;var a=Ks(o);if(a===null)return null;o=a[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Ml=!1;if(h)try{var di={};Object.defineProperty(di,"passive",{get:function(){Ml=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{Ml=!1}function iy(t,r,o,a,c,f,p,v,x){var T=Array.prototype.slice.call(arguments,3);try{r.apply(o,T)}catch(M){this.onError(M)}}var fi=!1,Is=null,bs=!1,Dl=null,sy={onError:function(t){fi=!0,Is=t}};function oy(t,r,o,a,c,f,p,v,x){fi=!1,Is=null,iy.apply(sy,arguments)}function ly(t,r,o,a,c,f,p,v,x){if(oy.apply(this,arguments),fi){if(fi){var T=Is;fi=!1,Is=null}else throw Error(n(198));bs||(bs=!0,Dl=T)}}function Kn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ld(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function ad(t){if(Kn(t)!==t)throw Error(n(188))}function ay(t){var r=t.alternate;if(!r){if(r=Kn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,a=r;;){var c=o.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){o=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===o)return ad(c),t;if(f===a)return ad(c),r;f=f.sibling}throw Error(n(188))}if(o.return!==a.return)o=c,a=f;else{for(var p=!1,v=c.child;v;){if(v===o){p=!0,o=c,a=f;break}if(v===a){p=!0,a=c,o=f;break}v=v.sibling}if(!p){for(v=f.child;v;){if(v===o){p=!0,o=f,a=c;break}if(v===a){p=!0,a=f,o=c;break}v=v.sibling}if(!p)throw Error(n(189))}}if(o.alternate!==a)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function ud(t){return t=ay(t),t!==null?cd(t):null}function cd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=cd(t);if(r!==null)return r;t=t.sibling}return null}var dd=e.unstable_scheduleCallback,fd=e.unstable_cancelCallback,uy=e.unstable_shouldYield,cy=e.unstable_requestPaint,Ve=e.unstable_now,dy=e.unstable_getCurrentPriorityLevel,Ol=e.unstable_ImmediatePriority,hd=e.unstable_UserBlockingPriority,Ps=e.unstable_NormalPriority,fy=e.unstable_LowPriority,pd=e.unstable_IdlePriority,Rs=null,Kt=null;function hy(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Rs,t,void 0,(t.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:gy,py=Math.log,my=Math.LN2;function gy(t){return t>>>=0,t===0?32:31-(py(t)/my|0)|0}var Ms=64,Ds=4194304;function hi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Os(t,r){var o=t.pendingLanes;if(o===0)return 0;var a=0,c=t.suspendedLanes,f=t.pingedLanes,p=o&268435455;if(p!==0){var v=p&~c;v!==0?a=hi(v):(f&=p,f!==0&&(a=hi(f)))}else p=o&~c,p!==0?a=hi(p):f!==0&&(a=hi(f));if(a===0)return 0;if(r!==0&&r!==a&&!(r&c)&&(c=a&-a,f=r&-r,c>=f||c===16&&(f&4194240)!==0))return r;if(a&4&&(a|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=a;0<r;)o=31-zt(r),c=1<<o,a|=t[o],r&=~c;return a}function yy(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vy(t,r){for(var o=t.suspendedLanes,a=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes;0<f;){var p=31-zt(f),v=1<<p,x=c[p];x===-1?(!(v&o)||v&a)&&(c[p]=yy(v,r)):x<=r&&(t.expiredLanes|=v),f&=~v}}function Al(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function md(){var t=Ms;return Ms<<=1,!(Ms&4194240)&&(Ms=64),t}function Ll(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function pi(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-zt(r),t[r]=o}function _y(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<o;){var c=31-zt(o),f=1<<c;r[c]=0,a[c]=-1,t[c]=-1,o&=~f}}function jl(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var a=31-zt(o),c=1<<a;c&r|t[a]&r&&(t[a]|=r),o&=~c}}var Ie=0;function gd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yd,Fl,vd,_d,wd,zl=!1,As=[],wn=null,Cn=null,xn=null,mi=new Map,gi=new Map,Sn=[],wy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cd(t,r){switch(t){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":mi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":gi.delete(r.pointerId)}}function yi(t,r,o,a,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:o,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},r!==null&&(r=Ri(r),r!==null&&Fl(r)),t):(t.eventSystemFlags|=a,r=t.targetContainers,c!==null&&r.indexOf(c)===-1&&r.push(c),t)}function Cy(t,r,o,a,c){switch(r){case"focusin":return wn=yi(wn,t,r,o,a,c),!0;case"dragenter":return Cn=yi(Cn,t,r,o,a,c),!0;case"mouseover":return xn=yi(xn,t,r,o,a,c),!0;case"pointerover":var f=c.pointerId;return mi.set(f,yi(mi.get(f)||null,t,r,o,a,c)),!0;case"gotpointercapture":return f=c.pointerId,gi.set(f,yi(gi.get(f)||null,t,r,o,a,c)),!0}return!1}function xd(t){var r=Xn(t.target);if(r!==null){var o=Kn(r);if(o!==null){if(r=o.tag,r===13){if(r=ld(o),r!==null){t.blockedOn=r,wd(t.priority,function(){vd(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ls(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Bl(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var a=new o.constructor(o.type,o);Il=a,o.target.dispatchEvent(a),Il=null}else return r=Ri(o),r!==null&&Fl(r),t.blockedOn=o,!1;r.shift()}return!0}function Sd(t,r,o){Ls(t)&&o.delete(r)}function xy(){zl=!1,wn!==null&&Ls(wn)&&(wn=null),Cn!==null&&Ls(Cn)&&(Cn=null),xn!==null&&Ls(xn)&&(xn=null),mi.forEach(Sd),gi.forEach(Sd)}function vi(t,r){t.blockedOn===r&&(t.blockedOn=null,zl||(zl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xy)))}function _i(t){function r(c){return vi(c,t)}if(0<As.length){vi(As[0],t);for(var o=1;o<As.length;o++){var a=As[o];a.blockedOn===t&&(a.blockedOn=null)}}for(wn!==null&&vi(wn,t),Cn!==null&&vi(Cn,t),xn!==null&&vi(xn,t),mi.forEach(r),gi.forEach(r),o=0;o<Sn.length;o++)a=Sn[o],a.blockedOn===t&&(a.blockedOn=null);for(;0<Sn.length&&(o=Sn[0],o.blockedOn===null);)xd(o),o.blockedOn===null&&Sn.shift()}var Cr=te.ReactCurrentBatchConfig,js=!0;function Sy(t,r,o,a){var c=Ie,f=Cr.transition;Cr.transition=null;try{Ie=1,Wl(t,r,o,a)}finally{Ie=c,Cr.transition=f}}function Ey(t,r,o,a){var c=Ie,f=Cr.transition;Cr.transition=null;try{Ie=4,Wl(t,r,o,a)}finally{Ie=c,Cr.transition=f}}function Wl(t,r,o,a){if(js){var c=Bl(t,r,o,a);if(c===null)ia(t,r,a,Fs,o),Cd(t,a);else if(Cy(c,t,r,o,a))a.stopPropagation();else if(Cd(t,a),r&4&&-1<wy.indexOf(t)){for(;c!==null;){var f=Ri(c);if(f!==null&&yd(f),f=Bl(t,r,o,a),f===null&&ia(t,r,a,Fs,o),f===c)break;c=f}c!==null&&a.stopPropagation()}else ia(t,r,a,null,o)}}var Fs=null;function Bl(t,r,o,a){if(Fs=null,t=bl(a),t=Xn(t),t!==null)if(r=Kn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ld(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Fs=t,null}function Ed(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dy()){case Ol:return 1;case hd:return 4;case Ps:case fy:return 16;case pd:return 536870912;default:return 16}default:return 16}}var En=null,Ul=null,zs=null;function kd(){if(zs)return zs;var t,r=Ul,o=r.length,a,c="value"in En?En.value:En.textContent,f=c.length;for(t=0;t<o&&r[t]===c[t];t++);var p=o-t;for(a=1;a<=p&&r[o-a]===c[f-a];a++);return zs=c.slice(t,1<a?1-a:void 0)}function Ws(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Bs(){return!0}function Nd(){return!1}function It(t){function r(o,a,c,f,p){this._reactName=o,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(o=t[v],this[v]=o?o(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bs:Nd,this.isPropagationStopped=Nd,this}return B(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),r}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=It(xr),wi=B({},xr,{view:0,detail:0}),ky=It(wi),Hl,Vl,Ci,Us=B({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(Hl=t.screenX-Ci.screenX,Vl=t.screenY-Ci.screenY):Vl=Hl=0,Ci=t),Hl)},movementY:function(t){return"movementY"in t?t.movementY:Vl}}),Td=It(Us),Ny=B({},Us,{dataTransfer:0}),Ty=It(Ny),Iy=B({},wi,{relatedTarget:0}),Gl=It(Iy),by=B({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Py=It(by),Ry=B({},xr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),My=It(Ry),Dy=B({},xr,{data:0}),Id=It(Dy),Oy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ay={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jy(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ly[t])?!!r[t]:!1}function Yl(){return jy}var Fy=B({},wi,{key:function(t){if(t.key){var r=Oy[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ay[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yl,charCode:function(t){return t.type==="keypress"?Ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zy=It(Fy),Wy=B({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bd=It(Wy),By=B({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yl}),Uy=It(By),$y=B({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hy=It($y),Vy=B({},Us,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gy=It(Vy),Yy=[9,13,27,32],Ql=h&&"CompositionEvent"in window,xi=null;h&&"documentMode"in document&&(xi=document.documentMode);var Qy=h&&"TextEvent"in window&&!xi,Pd=h&&(!Ql||xi&&8<xi&&11>=xi),Rd=" ",Md=!1;function Dd(t,r){switch(t){case"keyup":return Yy.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Od(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sr=!1;function qy(t,r){switch(t){case"compositionend":return Od(r);case"keypress":return r.which!==32?null:(Md=!0,Rd);case"textInput":return t=r.data,t===Rd&&Md?null:t;default:return null}}function Ky(t,r){if(Sr)return t==="compositionend"||!Ql&&Dd(t,r)?(t=kd(),zs=Ul=En=null,Sr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Pd&&r.locale!=="ko"?null:r.data;default:return null}}var Xy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ad(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Xy[t.type]:r==="textarea"}function Ld(t,r,o,a){nd(a),r=Ys(r,"onChange"),0<r.length&&(o=new $l("onChange","change",null,o,a),t.push({event:o,listeners:r}))}var Si=null,Ei=null;function Jy(t){ef(t,0)}function $s(t){var r=Ir(t);if(Hc(r))return t}function Zy(t,r){if(t==="change")return r}var jd=!1;if(h){var ql;if(h){var Kl="oninput"in document;if(!Kl){var Fd=document.createElement("div");Fd.setAttribute("oninput","return;"),Kl=typeof Fd.oninput=="function"}ql=Kl}else ql=!1;jd=ql&&(!document.documentMode||9<document.documentMode)}function zd(){Si&&(Si.detachEvent("onpropertychange",Wd),Ei=Si=null)}function Wd(t){if(t.propertyName==="value"&&$s(Ei)){var r=[];Ld(r,Ei,t,bl(t)),od(Jy,r)}}function ev(t,r,o){t==="focusin"?(zd(),Si=r,Ei=o,Si.attachEvent("onpropertychange",Wd)):t==="focusout"&&zd()}function tv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $s(Ei)}function nv(t,r){if(t==="click")return $s(r)}function rv(t,r){if(t==="input"||t==="change")return $s(r)}function iv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Wt=typeof Object.is=="function"?Object.is:iv;function ki(t,r){if(Wt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),a=Object.keys(r);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var c=o[a];if(!m.call(r,c)||!Wt(t[c],r[c]))return!1}return!0}function Bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ud(t,r){var o=Bd(t);t=0;for(var a;o;){if(o.nodeType===3){if(a=t+o.textContent.length,t<=r&&a>=r)return{node:o,offset:r-t};t=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Bd(o)}}function $d(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?$d(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Hd(){for(var t=window,r=Ns();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Ns(t.document)}return r}function Xl(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function sv(t){var r=Hd(),o=t.focusedElem,a=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&$d(o.ownerDocument.documentElement,o)){if(a!==null&&Xl(o)){if(r=a.start,t=a.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var c=o.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!t.extend&&f>a&&(c=a,a=f,f=c),c=Ud(o,f);var p=Ud(o,a);c&&p&&(t.rangeCount!==1||t.anchorNode!==c.node||t.anchorOffset!==c.offset||t.focusNode!==p.node||t.focusOffset!==p.offset)&&(r=r.createRange(),r.setStart(c.node,c.offset),t.removeAllRanges(),f>a?(t.addRange(r),t.extend(p.node,p.offset)):(r.setEnd(p.node,p.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ov=h&&"documentMode"in document&&11>=document.documentMode,Er=null,Jl=null,Ni=null,Zl=!1;function Vd(t,r,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Zl||Er==null||Er!==Ns(a)||(a=Er,"selectionStart"in a&&Xl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ni&&ki(Ni,a)||(Ni=a,a=Ys(Jl,"onSelect"),0<a.length&&(r=new $l("onSelect","select",null,r,o),t.push({event:r,listeners:a}),r.target=Er)))}function Hs(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var kr={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionend:Hs("Transition","TransitionEnd")},ea={},Gd={};h&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function Vs(t){if(ea[t])return ea[t];if(!kr[t])return t;var r=kr[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Gd)return ea[t]=r[o];return t}var Yd=Vs("animationend"),Qd=Vs("animationiteration"),qd=Vs("animationstart"),Kd=Vs("transitionend"),Xd=new Map,Jd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(t,r){Xd.set(t,r),u(r,[t])}for(var ta=0;ta<Jd.length;ta++){var na=Jd[ta],lv=na.toLowerCase(),av=na[0].toUpperCase()+na.slice(1);kn(lv,"on"+av)}kn(Yd,"onAnimationEnd"),kn(Qd,"onAnimationIteration"),kn(qd,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(Kd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ti));function Zd(t,r,o){var a=t.type||"unknown-event";t.currentTarget=o,ly(a,r,void 0,t),t.currentTarget=null}function ef(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var a=t[o],c=a.event;a=a.listeners;e:{var f=void 0;if(r)for(var p=a.length-1;0<=p;p--){var v=a[p],x=v.instance,T=v.currentTarget;if(v=v.listener,x!==f&&c.isPropagationStopped())break e;Zd(c,v,T),f=x}else for(p=0;p<a.length;p++){if(v=a[p],x=v.instance,T=v.currentTarget,v=v.listener,x!==f&&c.isPropagationStopped())break e;Zd(c,v,T),f=x}}}if(bs)throw t=Dl,bs=!1,Dl=null,t}function Ae(t,r){var o=r[ca];o===void 0&&(o=r[ca]=new Set);var a=t+"__bubble";o.has(a)||(tf(r,t,2,!1),o.add(a))}function ra(t,r,o){var a=0;r&&(a|=4),tf(o,t,a,r)}var Gs="_reactListening"+Math.random().toString(36).slice(2);function Ii(t){if(!t[Gs]){t[Gs]=!0,s.forEach(function(o){o!=="selectionchange"&&(uv.has(o)||ra(o,!1,t),ra(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Gs]||(r[Gs]=!0,ra("selectionchange",!1,r))}}function tf(t,r,o,a){switch(Ed(r)){case 1:var c=Sy;break;case 4:c=Ey;break;default:c=Wl}o=c.bind(null,r,o,t),c=void 0,!Ml||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(c=!0),a?c!==void 0?t.addEventListener(r,o,{capture:!0,passive:c}):t.addEventListener(r,o,!0):c!==void 0?t.addEventListener(r,o,{passive:c}):t.addEventListener(r,o,!1)}function ia(t,r,o,a,c){var f=a;if(!(r&1)&&!(r&2)&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var v=a.stateNode.containerInfo;if(v===c||v.nodeType===8&&v.parentNode===c)break;if(p===4)for(p=a.return;p!==null;){var x=p.tag;if((x===3||x===4)&&(x=p.stateNode.containerInfo,x===c||x.nodeType===8&&x.parentNode===c))return;p=p.return}for(;v!==null;){if(p=Xn(v),p===null)return;if(x=p.tag,x===5||x===6){a=f=p;continue e}v=v.parentNode}}a=a.return}od(function(){var T=f,M=bl(o),O=[];e:{var R=Xd.get(t);if(R!==void 0){var U=$l,G=t;switch(t){case"keypress":if(Ws(o)===0)break e;case"keydown":case"keyup":U=zy;break;case"focusin":G="focus",U=Gl;break;case"focusout":G="blur",U=Gl;break;case"beforeblur":case"afterblur":U=Gl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Ty;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Uy;break;case Yd:case Qd:case qd:U=Py;break;case Kd:U=Hy;break;case"scroll":U=ky;break;case"wheel":U=Gy;break;case"copy":case"cut":case"paste":U=My;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=bd}var Y=(r&4)!==0,Ge=!Y&&t==="scroll",k=Y?R!==null?R+"Capture":null:R;Y=[];for(var S=T,N;S!==null;){N=S;var A=N.stateNode;if(N.tag===5&&A!==null&&(N=A,k!==null&&(A=ci(S,k),A!=null&&Y.push(bi(S,A,N)))),Ge)break;S=S.return}0<Y.length&&(R=new U(R,G,null,o,M),O.push({event:R,listeners:Y}))}}if(!(r&7)){e:{if(R=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",R&&o!==Il&&(G=o.relatedTarget||o.fromElement)&&(Xn(G)||G[sn]))break e;if((U||R)&&(R=M.window===M?M:(R=M.ownerDocument)?R.defaultView||R.parentWindow:window,U?(G=o.relatedTarget||o.toElement,U=T,G=G?Xn(G):null,G!==null&&(Ge=Kn(G),G!==Ge||G.tag!==5&&G.tag!==6)&&(G=null)):(U=null,G=T),U!==G)){if(Y=Td,A="onMouseLeave",k="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(Y=bd,A="onPointerLeave",k="onPointerEnter",S="pointer"),Ge=U==null?R:Ir(U),N=G==null?R:Ir(G),R=new Y(A,S+"leave",U,o,M),R.target=Ge,R.relatedTarget=N,A=null,Xn(M)===T&&(Y=new Y(k,S+"enter",G,o,M),Y.target=N,Y.relatedTarget=Ge,A=Y),Ge=A,U&&G)t:{for(Y=U,k=G,S=0,N=Y;N;N=Nr(N))S++;for(N=0,A=k;A;A=Nr(A))N++;for(;0<S-N;)Y=Nr(Y),S--;for(;0<N-S;)k=Nr(k),N--;for(;S--;){if(Y===k||k!==null&&Y===k.alternate)break t;Y=Nr(Y),k=Nr(k)}Y=null}else Y=null;U!==null&&nf(O,R,U,Y,!1),G!==null&&Ge!==null&&nf(O,Ge,G,Y,!0)}}e:{if(R=T?Ir(T):window,U=R.nodeName&&R.nodeName.toLowerCase(),U==="select"||U==="input"&&R.type==="file")var Q=Zy;else if(Ad(R))if(jd)Q=rv;else{Q=tv;var Z=ev}else(U=R.nodeName)&&U.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(Q=nv);if(Q&&(Q=Q(t,T))){Ld(O,Q,o,M);break e}Z&&Z(t,R,T),t==="focusout"&&(Z=R._wrapperState)&&Z.controlled&&R.type==="number"&&Sl(R,"number",R.value)}switch(Z=T?Ir(T):window,t){case"focusin":(Ad(Z)||Z.contentEditable==="true")&&(Er=Z,Jl=T,Ni=null);break;case"focusout":Ni=Jl=Er=null;break;case"mousedown":Zl=!0;break;case"contextmenu":case"mouseup":case"dragend":Zl=!1,Vd(O,o,M);break;case"selectionchange":if(ov)break;case"keydown":case"keyup":Vd(O,o,M)}var ee;if(Ql)e:{switch(t){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Sr?Dd(t,o)&&(re="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(re="onCompositionStart");re&&(Pd&&o.locale!=="ko"&&(Sr||re!=="onCompositionStart"?re==="onCompositionEnd"&&Sr&&(ee=kd()):(En=M,Ul="value"in En?En.value:En.textContent,Sr=!0)),Z=Ys(T,re),0<Z.length&&(re=new Id(re,t,null,o,M),O.push({event:re,listeners:Z}),ee?re.data=ee:(ee=Od(o),ee!==null&&(re.data=ee)))),(ee=Qy?qy(t,o):Ky(t,o))&&(T=Ys(T,"onBeforeInput"),0<T.length&&(M=new Id("onBeforeInput","beforeinput",null,o,M),O.push({event:M,listeners:T}),M.data=ee))}ef(O,r)})}function bi(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ys(t,r){for(var o=r+"Capture",a=[];t!==null;){var c=t,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=ci(t,o),f!=null&&a.unshift(bi(t,f,c)),f=ci(t,r),f!=null&&a.push(bi(t,f,c))),t=t.return}return a}function Nr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nf(t,r,o,a,c){for(var f=r._reactName,p=[];o!==null&&o!==a;){var v=o,x=v.alternate,T=v.stateNode;if(x!==null&&x===a)break;v.tag===5&&T!==null&&(v=T,c?(x=ci(o,f),x!=null&&p.unshift(bi(o,x,v))):c||(x=ci(o,f),x!=null&&p.push(bi(o,x,v)))),o=o.return}p.length!==0&&t.push({event:r,listeners:p})}var cv=/\r\n?/g,dv=/\u0000|\uFFFD/g;function rf(t){return(typeof t=="string"?t:""+t).replace(cv,`
`).replace(dv,"")}function Qs(t,r,o){if(r=rf(r),rf(t)!==r&&o)throw Error(n(425))}function qs(){}var sa=null,oa=null;function la(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var aa=typeof setTimeout=="function"?setTimeout:void 0,fv=typeof clearTimeout=="function"?clearTimeout:void 0,sf=typeof Promise=="function"?Promise:void 0,hv=typeof queueMicrotask=="function"?queueMicrotask:typeof sf<"u"?function(t){return sf.resolve(null).then(t).catch(pv)}:aa;function pv(t){setTimeout(function(){throw t})}function ua(t,r){var o=r,a=0;do{var c=o.nextSibling;if(t.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(a===0){t.removeChild(c),_i(r);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=c}while(o);_i(r)}function Nn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function of(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Tr=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Tr,Pi="__reactProps$"+Tr,sn="__reactContainer$"+Tr,ca="__reactEvents$"+Tr,mv="__reactListeners$"+Tr,gv="__reactHandles$"+Tr;function Xn(t){var r=t[Xt];if(r)return r;for(var o=t.parentNode;o;){if(r=o[sn]||o[Xt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=of(t);t!==null;){if(o=t[Xt])return o;t=of(t)}return r}t=o,o=t.parentNode}return null}function Ri(t){return t=t[Xt]||t[sn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ir(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Ks(t){return t[Pi]||null}var da=[],br=-1;function Tn(t){return{current:t}}function Le(t){0>br||(t.current=da[br],da[br]=null,br--)}function Me(t,r){br++,da[br]=t.current,t.current=r}var In={},ut=Tn(In),vt=Tn(!1),Jn=In;function Pr(t,r){var o=t.type.contextTypes;if(!o)return In;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in o)c[f]=r[f];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=c),c}function _t(t){return t=t.childContextTypes,t!=null}function Xs(){Le(vt),Le(ut)}function lf(t,r,o){if(ut.current!==In)throw Error(n(168));Me(ut,r),Me(vt,o)}function af(t,r,o){var a=t.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var c in a)if(!(c in r))throw Error(n(108,ie(t)||"Unknown",c));return B({},o,a)}function Js(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||In,Jn=ut.current,Me(ut,t),Me(vt,vt.current),!0}function uf(t,r,o){var a=t.stateNode;if(!a)throw Error(n(169));o?(t=af(t,r,Jn),a.__reactInternalMemoizedMergedChildContext=t,Le(vt),Le(ut),Me(ut,t)):Le(vt),Me(vt,o)}var on=null,Zs=!1,fa=!1;function cf(t){on===null?on=[t]:on.push(t)}function yv(t){Zs=!0,cf(t)}function bn(){if(!fa&&on!==null){fa=!0;var t=0,r=Ie;try{var o=on;for(Ie=1;t<o.length;t++){var a=o[t];do a=a(!0);while(a!==null)}on=null,Zs=!1}catch(c){throw on!==null&&(on=on.slice(t+1)),dd(Ol,bn),c}finally{Ie=r,fa=!1}}return null}var Rr=[],Mr=0,eo=null,to=0,Mt=[],Dt=0,Zn=null,ln=1,an="";function er(t,r){Rr[Mr++]=to,Rr[Mr++]=eo,eo=t,to=r}function df(t,r,o){Mt[Dt++]=ln,Mt[Dt++]=an,Mt[Dt++]=Zn,Zn=t;var a=ln;t=an;var c=32-zt(a)-1;a&=~(1<<c),o+=1;var f=32-zt(r)+c;if(30<f){var p=c-c%5;f=(a&(1<<p)-1).toString(32),a>>=p,c-=p,ln=1<<32-zt(r)+c|o<<c|a,an=f+t}else ln=1<<f|o<<c|a,an=t}function ha(t){t.return!==null&&(er(t,1),df(t,1,0))}function pa(t){for(;t===eo;)eo=Rr[--Mr],Rr[Mr]=null,to=Rr[--Mr],Rr[Mr]=null;for(;t===Zn;)Zn=Mt[--Dt],Mt[Dt]=null,an=Mt[--Dt],Mt[Dt]=null,ln=Mt[--Dt],Mt[Dt]=null}var bt=null,Pt=null,We=!1,Bt=null;function ff(t,r){var o=jt(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function hf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,bt=t,Pt=Nn(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,bt=t,Pt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Zn!==null?{id:ln,overflow:an}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=jt(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,bt=t,Pt=null,!0):!1;default:return!1}}function ma(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ga(t){if(We){var r=Pt;if(r){var o=r;if(!hf(t,r)){if(ma(t))throw Error(n(418));r=Nn(o.nextSibling);var a=bt;r&&hf(t,r)?ff(a,o):(t.flags=t.flags&-4097|2,We=!1,bt=t)}}else{if(ma(t))throw Error(n(418));t.flags=t.flags&-4097|2,We=!1,bt=t}}}function pf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bt=t}function no(t){if(t!==bt)return!1;if(!We)return pf(t),We=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!la(t.type,t.memoizedProps)),r&&(r=Pt)){if(ma(t))throw mf(),Error(n(418));for(;r;)ff(t,r),r=Nn(r.nextSibling)}if(pf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Pt=Nn(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Pt=null}}else Pt=bt?Nn(t.stateNode.nextSibling):null;return!0}function mf(){for(var t=Pt;t;)t=Nn(t.nextSibling)}function Dr(){Pt=bt=null,We=!1}function ya(t){Bt===null?Bt=[t]:Bt.push(t)}var vv=te.ReactCurrentBatchConfig;function Mi(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var a=o.stateNode}if(!a)throw Error(n(147,t));var c=a,f=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===f?r.ref:(r=function(p){var v=c.refs;p===null?delete v[f]:v[f]=p},r._stringRef=f,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function ro(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function gf(t){var r=t._init;return r(t._payload)}function yf(t){function r(k,S){if(t){var N=k.deletions;N===null?(k.deletions=[S],k.flags|=16):N.push(S)}}function o(k,S){if(!t)return null;for(;S!==null;)r(k,S),S=S.sibling;return null}function a(k,S){for(k=new Map;S!==null;)S.key!==null?k.set(S.key,S):k.set(S.index,S),S=S.sibling;return k}function c(k,S){return k=jn(k,S),k.index=0,k.sibling=null,k}function f(k,S,N){return k.index=N,t?(N=k.alternate,N!==null?(N=N.index,N<S?(k.flags|=2,S):N):(k.flags|=2,S)):(k.flags|=1048576,S)}function p(k){return t&&k.alternate===null&&(k.flags|=2),k}function v(k,S,N,A){return S===null||S.tag!==6?(S=au(N,k.mode,A),S.return=k,S):(S=c(S,N),S.return=k,S)}function x(k,S,N,A){var Q=N.type;return Q===_e?M(k,S,N.props.children,A,N.key):S!==null&&(S.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ne&&gf(Q)===S.type)?(A=c(S,N.props),A.ref=Mi(k,S,N),A.return=k,A):(A=Io(N.type,N.key,N.props,null,k.mode,A),A.ref=Mi(k,S,N),A.return=k,A)}function T(k,S,N,A){return S===null||S.tag!==4||S.stateNode.containerInfo!==N.containerInfo||S.stateNode.implementation!==N.implementation?(S=uu(N,k.mode,A),S.return=k,S):(S=c(S,N.children||[]),S.return=k,S)}function M(k,S,N,A,Q){return S===null||S.tag!==7?(S=ar(N,k.mode,A,Q),S.return=k,S):(S=c(S,N),S.return=k,S)}function O(k,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return S=au(""+S,k.mode,N),S.return=k,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case X:return N=Io(S.type,S.key,S.props,null,k.mode,N),N.ref=Mi(k,null,S),N.return=k,N;case se:return S=uu(S,k.mode,N),S.return=k,S;case Ne:var A=S._init;return O(k,A(S._payload),N)}if(li(S)||J(S))return S=ar(S,k.mode,N,null),S.return=k,S;ro(k,S)}return null}function R(k,S,N,A){var Q=S!==null?S.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return Q!==null?null:v(k,S,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case X:return N.key===Q?x(k,S,N,A):null;case se:return N.key===Q?T(k,S,N,A):null;case Ne:return Q=N._init,R(k,S,Q(N._payload),A)}if(li(N)||J(N))return Q!==null?null:M(k,S,N,A,null);ro(k,N)}return null}function U(k,S,N,A,Q){if(typeof A=="string"&&A!==""||typeof A=="number")return k=k.get(N)||null,v(S,k,""+A,Q);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case X:return k=k.get(A.key===null?N:A.key)||null,x(S,k,A,Q);case se:return k=k.get(A.key===null?N:A.key)||null,T(S,k,A,Q);case Ne:var Z=A._init;return U(k,S,N,Z(A._payload),Q)}if(li(A)||J(A))return k=k.get(N)||null,M(S,k,A,Q,null);ro(S,A)}return null}function G(k,S,N,A){for(var Q=null,Z=null,ee=S,re=S=0,et=null;ee!==null&&re<N.length;re++){ee.index>re?(et=ee,ee=null):et=ee.sibling;var Ee=R(k,ee,N[re],A);if(Ee===null){ee===null&&(ee=et);break}t&&ee&&Ee.alternate===null&&r(k,ee),S=f(Ee,S,re),Z===null?Q=Ee:Z.sibling=Ee,Z=Ee,ee=et}if(re===N.length)return o(k,ee),We&&er(k,re),Q;if(ee===null){for(;re<N.length;re++)ee=O(k,N[re],A),ee!==null&&(S=f(ee,S,re),Z===null?Q=ee:Z.sibling=ee,Z=ee);return We&&er(k,re),Q}for(ee=a(k,ee);re<N.length;re++)et=U(ee,k,re,N[re],A),et!==null&&(t&&et.alternate!==null&&ee.delete(et.key===null?re:et.key),S=f(et,S,re),Z===null?Q=et:Z.sibling=et,Z=et);return t&&ee.forEach(function(Fn){return r(k,Fn)}),We&&er(k,re),Q}function Y(k,S,N,A){var Q=J(N);if(typeof Q!="function")throw Error(n(150));if(N=Q.call(N),N==null)throw Error(n(151));for(var Z=Q=null,ee=S,re=S=0,et=null,Ee=N.next();ee!==null&&!Ee.done;re++,Ee=N.next()){ee.index>re?(et=ee,ee=null):et=ee.sibling;var Fn=R(k,ee,Ee.value,A);if(Fn===null){ee===null&&(ee=et);break}t&&ee&&Fn.alternate===null&&r(k,ee),S=f(Fn,S,re),Z===null?Q=Fn:Z.sibling=Fn,Z=Fn,ee=et}if(Ee.done)return o(k,ee),We&&er(k,re),Q;if(ee===null){for(;!Ee.done;re++,Ee=N.next())Ee=O(k,Ee.value,A),Ee!==null&&(S=f(Ee,S,re),Z===null?Q=Ee:Z.sibling=Ee,Z=Ee);return We&&er(k,re),Q}for(ee=a(k,ee);!Ee.done;re++,Ee=N.next())Ee=U(ee,k,re,Ee.value,A),Ee!==null&&(t&&Ee.alternate!==null&&ee.delete(Ee.key===null?re:Ee.key),S=f(Ee,S,re),Z===null?Q=Ee:Z.sibling=Ee,Z=Ee);return t&&ee.forEach(function(Xv){return r(k,Xv)}),We&&er(k,re),Q}function Ge(k,S,N,A){if(typeof N=="object"&&N!==null&&N.type===_e&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case X:e:{for(var Q=N.key,Z=S;Z!==null;){if(Z.key===Q){if(Q=N.type,Q===_e){if(Z.tag===7){o(k,Z.sibling),S=c(Z,N.props.children),S.return=k,k=S;break e}}else if(Z.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ne&&gf(Q)===Z.type){o(k,Z.sibling),S=c(Z,N.props),S.ref=Mi(k,Z,N),S.return=k,k=S;break e}o(k,Z);break}else r(k,Z);Z=Z.sibling}N.type===_e?(S=ar(N.props.children,k.mode,A,N.key),S.return=k,k=S):(A=Io(N.type,N.key,N.props,null,k.mode,A),A.ref=Mi(k,S,N),A.return=k,k=A)}return p(k);case se:e:{for(Z=N.key;S!==null;){if(S.key===Z)if(S.tag===4&&S.stateNode.containerInfo===N.containerInfo&&S.stateNode.implementation===N.implementation){o(k,S.sibling),S=c(S,N.children||[]),S.return=k,k=S;break e}else{o(k,S);break}else r(k,S);S=S.sibling}S=uu(N,k.mode,A),S.return=k,k=S}return p(k);case Ne:return Z=N._init,Ge(k,S,Z(N._payload),A)}if(li(N))return G(k,S,N,A);if(J(N))return Y(k,S,N,A);ro(k,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,S!==null&&S.tag===6?(o(k,S.sibling),S=c(S,N),S.return=k,k=S):(o(k,S),S=au(N,k.mode,A),S.return=k,k=S),p(k)):o(k,S)}return Ge}var Or=yf(!0),vf=yf(!1),io=Tn(null),so=null,Ar=null,va=null;function _a(){va=Ar=so=null}function wa(t){var r=io.current;Le(io),t._currentValue=r}function Ca(t,r,o){for(;t!==null;){var a=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),t===o)break;t=t.return}}function Lr(t,r){so=t,va=Ar=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(wt=!0),t.firstContext=null)}function Ot(t){var r=t._currentValue;if(va!==t)if(t={context:t,memoizedValue:r,next:null},Ar===null){if(so===null)throw Error(n(308));Ar=t,so.dependencies={lanes:0,firstContext:t}}else Ar=Ar.next=t;return r}var tr=null;function xa(t){tr===null?tr=[t]:tr.push(t)}function _f(t,r,o,a){var c=r.interleaved;return c===null?(o.next=o,xa(r)):(o.next=c.next,c.next=o),r.interleaved=o,un(t,a)}function un(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Pn=!1;function Sa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cn(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Rn(t,r,o){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,Se&2){var c=a.pending;return c===null?r.next=r:(r.next=c.next,c.next=r),a.pending=r,un(t,o)}return c=a.interleaved,c===null?(r.next=r,xa(a)):(r.next=c.next,c.next=r),a.interleaved=r,un(t,o)}function oo(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var a=r.lanes;a&=t.pendingLanes,o|=a,r.lanes=o,jl(t,o)}}function Cf(t,r){var o=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var c=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var p={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?c=f=p:f=f.next=p,o=o.next}while(o!==null);f===null?c=f=r:f=f.next=r}else c=f=r;o={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function lo(t,r,o,a){var c=t.updateQueue;Pn=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var x=v,T=x.next;x.next=null,p===null?f=T:p.next=T,p=x;var M=t.alternate;M!==null&&(M=M.updateQueue,v=M.lastBaseUpdate,v!==p&&(v===null?M.firstBaseUpdate=T:v.next=T,M.lastBaseUpdate=x))}if(f!==null){var O=c.baseState;p=0,M=T=x=null,v=f;do{var R=v.lane,U=v.eventTime;if((a&R)===R){M!==null&&(M=M.next={eventTime:U,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var G=t,Y=v;switch(R=r,U=o,Y.tag){case 1:if(G=Y.payload,typeof G=="function"){O=G.call(U,O,R);break e}O=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=Y.payload,R=typeof G=="function"?G.call(U,O,R):G,R==null)break e;O=B({},O,R);break e;case 2:Pn=!0}}v.callback!==null&&v.lane!==0&&(t.flags|=64,R=c.effects,R===null?c.effects=[v]:R.push(v))}else U={eventTime:U,lane:R,tag:v.tag,payload:v.payload,callback:v.callback,next:null},M===null?(T=M=U,x=O):M=M.next=U,p|=R;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;R=v,v=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);if(M===null&&(x=O),c.baseState=x,c.firstBaseUpdate=T,c.lastBaseUpdate=M,r=c.shared.interleaved,r!==null){c=r;do p|=c.lane,c=c.next;while(c!==r)}else f===null&&(c.shared.lanes=0);ir|=p,t.lanes=p,t.memoizedState=O}}function xf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var a=t[r],c=a.callback;if(c!==null){if(a.callback=null,a=o,typeof c!="function")throw Error(n(191,c));c.call(a)}}}var Di={},Jt=Tn(Di),Oi=Tn(Di),Ai=Tn(Di);function nr(t){if(t===Di)throw Error(n(174));return t}function Ea(t,r){switch(Me(Ai,r),Me(Oi,t),Me(Jt,Di),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:kl(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=kl(r,t)}Le(Jt),Me(Jt,r)}function jr(){Le(Jt),Le(Oi),Le(Ai)}function Sf(t){nr(Ai.current);var r=nr(Jt.current),o=kl(r,t.type);r!==o&&(Me(Oi,t),Me(Jt,o))}function ka(t){Oi.current===t&&(Le(Jt),Le(Oi))}var Be=Tn(0);function ao(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Na=[];function Ta(){for(var t=0;t<Na.length;t++)Na[t]._workInProgressVersionPrimary=null;Na.length=0}var uo=te.ReactCurrentDispatcher,Ia=te.ReactCurrentBatchConfig,rr=0,Ue=null,Qe=null,Je=null,co=!1,Li=!1,ji=0,_v=0;function ct(){throw Error(n(321))}function ba(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Wt(t[o],r[o]))return!1;return!0}function Pa(t,r,o,a,c,f){if(rr=f,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,uo.current=t===null||t.memoizedState===null?Sv:Ev,t=o(a,c),Li){f=0;do{if(Li=!1,ji=0,25<=f)throw Error(n(301));f+=1,Je=Qe=null,r.updateQueue=null,uo.current=kv,t=o(a,c)}while(Li)}if(uo.current=po,r=Qe!==null&&Qe.next!==null,rr=0,Je=Qe=Ue=null,co=!1,r)throw Error(n(300));return t}function Ra(){var t=ji!==0;return ji=0,t}function Zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Ue.memoizedState=Je=t:Je=Je.next=t,Je}function At(){if(Qe===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var r=Je===null?Ue.memoizedState:Je.next;if(r!==null)Je=r,Qe=t;else{if(t===null)throw Error(n(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Je===null?Ue.memoizedState=Je=t:Je=Je.next=t}return Je}function Fi(t,r){return typeof r=="function"?r(t):r}function Ma(t){var r=At(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var a=Qe,c=a.baseQueue,f=o.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}a.baseQueue=c=f,o.pending=null}if(c!==null){f=c.next,a=a.baseState;var v=p=null,x=null,T=f;do{var M=T.lane;if((rr&M)===M)x!==null&&(x=x.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),a=T.hasEagerState?T.eagerState:t(a,T.action);else{var O={lane:M,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};x===null?(v=x=O,p=a):x=x.next=O,Ue.lanes|=M,ir|=M}T=T.next}while(T!==null&&T!==f);x===null?p=a:x.next=v,Wt(a,r.memoizedState)||(wt=!0),r.memoizedState=a,r.baseState=p,r.baseQueue=x,o.lastRenderedState=a}if(t=o.interleaved,t!==null){c=t;do f=c.lane,Ue.lanes|=f,ir|=f,c=c.next;while(c!==t)}else c===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Da(t){var r=At(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var a=o.dispatch,c=o.pending,f=r.memoizedState;if(c!==null){o.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);Wt(f,r.memoizedState)||(wt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),o.lastRenderedState=f}return[f,a]}function Ef(){}function kf(t,r){var o=Ue,a=At(),c=r(),f=!Wt(a.memoizedState,c);if(f&&(a.memoizedState=c,wt=!0),a=a.queue,Oa(If.bind(null,o,a,t),[t]),a.getSnapshot!==r||f||Je!==null&&Je.memoizedState.tag&1){if(o.flags|=2048,zi(9,Tf.bind(null,o,a,c,r),void 0,null),Ze===null)throw Error(n(349));rr&30||Nf(o,r,c)}return c}function Nf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ue.updateQueue,r===null?(r={lastEffect:null,stores:null},Ue.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Tf(t,r,o,a){r.value=o,r.getSnapshot=a,bf(r)&&Pf(t)}function If(t,r,o){return o(function(){bf(r)&&Pf(t)})}function bf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Wt(t,o)}catch{return!0}}function Pf(t){var r=un(t,1);r!==null&&Vt(r,t,1,-1)}function Rf(t){var r=Zt();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},r.queue=t,t=t.dispatch=xv.bind(null,Ue,t),[r.memoizedState,t]}function zi(t,r,o,a){return t={tag:t,create:r,destroy:o,deps:a,next:null},r=Ue.updateQueue,r===null?(r={lastEffect:null,stores:null},Ue.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(a=o.next,o.next=t,t.next=a,r.lastEffect=t)),t}function Mf(){return At().memoizedState}function fo(t,r,o,a){var c=Zt();Ue.flags|=t,c.memoizedState=zi(1|r,o,void 0,a===void 0?null:a)}function ho(t,r,o,a){var c=At();a=a===void 0?null:a;var f=void 0;if(Qe!==null){var p=Qe.memoizedState;if(f=p.destroy,a!==null&&ba(a,p.deps)){c.memoizedState=zi(r,o,f,a);return}}Ue.flags|=t,c.memoizedState=zi(1|r,o,f,a)}function Df(t,r){return fo(8390656,8,t,r)}function Oa(t,r){return ho(2048,8,t,r)}function Of(t,r){return ho(4,2,t,r)}function Af(t,r){return ho(4,4,t,r)}function Lf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function jf(t,r,o){return o=o!=null?o.concat([t]):null,ho(4,4,Lf.bind(null,r,t),o)}function Aa(){}function Ff(t,r){var o=At();r=r===void 0?null:r;var a=o.memoizedState;return a!==null&&r!==null&&ba(r,a[1])?a[0]:(o.memoizedState=[t,r],t)}function zf(t,r){var o=At();r=r===void 0?null:r;var a=o.memoizedState;return a!==null&&r!==null&&ba(r,a[1])?a[0]:(t=t(),o.memoizedState=[t,r],t)}function Wf(t,r,o){return rr&21?(Wt(o,r)||(o=md(),Ue.lanes|=o,ir|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=o)}function wv(t,r){var o=Ie;Ie=o!==0&&4>o?o:4,t(!0);var a=Ia.transition;Ia.transition={};try{t(!1),r()}finally{Ie=o,Ia.transition=a}}function Bf(){return At().memoizedState}function Cv(t,r,o){var a=An(t);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},Uf(t))$f(r,o);else if(o=_f(t,r,o,a),o!==null){var c=mt();Vt(o,t,a,c),Hf(o,r,a)}}function xv(t,r,o){var a=An(t),c={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(Uf(t))$f(r,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var p=r.lastRenderedState,v=f(p,o);if(c.hasEagerState=!0,c.eagerState=v,Wt(v,p)){var x=r.interleaved;x===null?(c.next=c,xa(r)):(c.next=x.next,x.next=c),r.interleaved=c;return}}catch{}finally{}o=_f(t,r,c,a),o!==null&&(c=mt(),Vt(o,t,a,c),Hf(o,r,a))}}function Uf(t){var r=t.alternate;return t===Ue||r!==null&&r===Ue}function $f(t,r){Li=co=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Hf(t,r,o){if(o&4194240){var a=r.lanes;a&=t.pendingLanes,o|=a,r.lanes=o,jl(t,o)}}var po={readContext:Ot,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},Sv={readContext:Ot,useCallback:function(t,r){return Zt().memoizedState=[t,r===void 0?null:r],t},useContext:Ot,useEffect:Df,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,fo(4194308,4,Lf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return fo(4194308,4,t,r)},useInsertionEffect:function(t,r){return fo(4,2,t,r)},useMemo:function(t,r){var o=Zt();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var a=Zt();return r=o!==void 0?o(r):r,a.memoizedState=a.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},a.queue=t,t=t.dispatch=Cv.bind(null,Ue,t),[a.memoizedState,t]},useRef:function(t){var r=Zt();return t={current:t},r.memoizedState=t},useState:Rf,useDebugValue:Aa,useDeferredValue:function(t){return Zt().memoizedState=t},useTransition:function(){var t=Rf(!1),r=t[0];return t=wv.bind(null,t[1]),Zt().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var a=Ue,c=Zt();if(We){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Ze===null)throw Error(n(349));rr&30||Nf(a,r,o)}c.memoizedState=o;var f={value:o,getSnapshot:r};return c.queue=f,Df(If.bind(null,a,f,t),[t]),a.flags|=2048,zi(9,Tf.bind(null,a,f,o,r),void 0,null),o},useId:function(){var t=Zt(),r=Ze.identifierPrefix;if(We){var o=an,a=ln;o=(a&~(1<<32-zt(a)-1)).toString(32)+o,r=":"+r+"R"+o,o=ji++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=_v++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Ev={readContext:Ot,useCallback:Ff,useContext:Ot,useEffect:Oa,useImperativeHandle:jf,useInsertionEffect:Of,useLayoutEffect:Af,useMemo:zf,useReducer:Ma,useRef:Mf,useState:function(){return Ma(Fi)},useDebugValue:Aa,useDeferredValue:function(t){var r=At();return Wf(r,Qe.memoizedState,t)},useTransition:function(){var t=Ma(Fi)[0],r=At().memoizedState;return[t,r]},useMutableSource:Ef,useSyncExternalStore:kf,useId:Bf,unstable_isNewReconciler:!1},kv={readContext:Ot,useCallback:Ff,useContext:Ot,useEffect:Oa,useImperativeHandle:jf,useInsertionEffect:Of,useLayoutEffect:Af,useMemo:zf,useReducer:Da,useRef:Mf,useState:function(){return Da(Fi)},useDebugValue:Aa,useDeferredValue:function(t){var r=At();return Qe===null?r.memoizedState=t:Wf(r,Qe.memoizedState,t)},useTransition:function(){var t=Da(Fi)[0],r=At().memoizedState;return[t,r]},useMutableSource:Ef,useSyncExternalStore:kf,useId:Bf,unstable_isNewReconciler:!1};function Ut(t,r){if(t&&t.defaultProps){r=B({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function La(t,r,o,a){r=t.memoizedState,o=o(a,r),o=o==null?r:B({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var mo={isMounted:function(t){return(t=t._reactInternals)?Kn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var a=mt(),c=An(t),f=cn(a,c);f.payload=r,o!=null&&(f.callback=o),r=Rn(t,f,c),r!==null&&(Vt(r,t,c,a),oo(r,t,c))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var a=mt(),c=An(t),f=cn(a,c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Rn(t,f,c),r!==null&&(Vt(r,t,c,a),oo(r,t,c))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=mt(),a=An(t),c=cn(o,a);c.tag=2,r!=null&&(c.callback=r),r=Rn(t,c,a),r!==null&&(Vt(r,t,a,o),oo(r,t,a))}};function Vf(t,r,o,a,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,f,p):r.prototype&&r.prototype.isPureReactComponent?!ki(o,a)||!ki(c,f):!0}function Gf(t,r,o){var a=!1,c=In,f=r.contextType;return typeof f=="object"&&f!==null?f=Ot(f):(c=_t(r)?Jn:ut.current,a=r.contextTypes,f=(a=a!=null)?Pr(t,c):In),r=new r(o,f),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=mo,t.stateNode=r,r._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=c,t.__reactInternalMemoizedMaskedChildContext=f),r}function Yf(t,r,o,a){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,a),r.state!==t&&mo.enqueueReplaceState(r,r.state,null)}function ja(t,r,o,a){var c=t.stateNode;c.props=o,c.state=t.memoizedState,c.refs={},Sa(t);var f=r.contextType;typeof f=="object"&&f!==null?c.context=Ot(f):(f=_t(r)?Jn:ut.current,c.context=Pr(t,f)),c.state=t.memoizedState,f=r.getDerivedStateFromProps,typeof f=="function"&&(La(t,r,f,o),c.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(r=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),r!==c.state&&mo.enqueueReplaceState(c,c.state,null),lo(t,o,c,a),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308)}function Fr(t,r){try{var o="",a=r;do o+=Ce(a),a=a.return;while(a);var c=o}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:r,stack:c,digest:null}}function Fa(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function za(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Nv=typeof WeakMap=="function"?WeakMap:Map;function Qf(t,r,o){o=cn(-1,o),o.tag=3,o.payload={element:null};var a=r.value;return o.callback=function(){xo||(xo=!0,eu=a),za(t,r)},o}function qf(t,r,o){o=cn(-1,o),o.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var c=r.value;o.payload=function(){return a(c)},o.callback=function(){za(t,r)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){za(t,r),typeof a!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var p=r.stack;this.componentDidCatch(r.value,{componentStack:p!==null?p:""})}),o}function Kf(t,r,o){var a=t.pingCache;if(a===null){a=t.pingCache=new Nv;var c=new Set;a.set(r,c)}else c=a.get(r),c===void 0&&(c=new Set,a.set(r,c));c.has(o)||(c.add(o),t=Wv.bind(null,t,r,o),r.then(t,t))}function Xf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Jf(t,r,o,a,c){return t.mode&1?(t.flags|=65536,t.lanes=c,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=cn(-1,1),r.tag=2,Rn(o,r,1))),o.lanes|=1),t)}var Tv=te.ReactCurrentOwner,wt=!1;function pt(t,r,o,a){r.child=t===null?vf(r,null,o,a):Or(r,t.child,o,a)}function Zf(t,r,o,a,c){o=o.render;var f=r.ref;return Lr(r,c),a=Pa(t,r,o,a,f,c),o=Ra(),t!==null&&!wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~c,dn(t,r,c)):(We&&o&&ha(r),r.flags|=1,pt(t,r,a,c),r.child)}function eh(t,r,o,a,c){if(t===null){var f=o.type;return typeof f=="function"&&!lu(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=f,th(t,r,f,a,c)):(t=Io(o.type,null,a,r,r.mode,c),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!(t.lanes&c)){var p=f.memoizedProps;if(o=o.compare,o=o!==null?o:ki,o(p,a)&&t.ref===r.ref)return dn(t,r,c)}return r.flags|=1,t=jn(f,a),t.ref=r.ref,t.return=r,r.child=t}function th(t,r,o,a,c){if(t!==null){var f=t.memoizedProps;if(ki(f,a)&&t.ref===r.ref)if(wt=!1,r.pendingProps=a=f,(t.lanes&c)!==0)t.flags&131072&&(wt=!0);else return r.lanes=t.lanes,dn(t,r,c)}return Wa(t,r,o,a,c)}function nh(t,r,o){var a=r.pendingProps,c=a.children,f=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Wr,Rt),Rt|=o;else{if(!(o&1073741824))return t=f!==null?f.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Me(Wr,Rt),Rt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:o,Me(Wr,Rt),Rt|=a}else f!==null?(a=f.baseLanes|o,r.memoizedState=null):a=o,Me(Wr,Rt),Rt|=a;return pt(t,r,c,o),r.child}function rh(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Wa(t,r,o,a,c){var f=_t(o)?Jn:ut.current;return f=Pr(r,f),Lr(r,c),o=Pa(t,r,o,a,f,c),a=Ra(),t!==null&&!wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~c,dn(t,r,c)):(We&&a&&ha(r),r.flags|=1,pt(t,r,o,c),r.child)}function ih(t,r,o,a,c){if(_t(o)){var f=!0;Js(r)}else f=!1;if(Lr(r,c),r.stateNode===null)yo(t,r),Gf(r,o,a),ja(r,o,a,c),a=!0;else if(t===null){var p=r.stateNode,v=r.memoizedProps;p.props=v;var x=p.context,T=o.contextType;typeof T=="object"&&T!==null?T=Ot(T):(T=_t(o)?Jn:ut.current,T=Pr(r,T));var M=o.getDerivedStateFromProps,O=typeof M=="function"||typeof p.getSnapshotBeforeUpdate=="function";O||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==a||x!==T)&&Yf(r,p,a,T),Pn=!1;var R=r.memoizedState;p.state=R,lo(r,a,p,c),x=r.memoizedState,v!==a||R!==x||vt.current||Pn?(typeof M=="function"&&(La(r,o,M,a),x=r.memoizedState),(v=Pn||Vf(r,o,v,a,R,x,T))?(O||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=x),p.props=a,p.state=x,p.context=T,a=v):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{p=r.stateNode,wf(t,r),v=r.memoizedProps,T=r.type===r.elementType?v:Ut(r.type,v),p.props=T,O=r.pendingProps,R=p.context,x=o.contextType,typeof x=="object"&&x!==null?x=Ot(x):(x=_t(o)?Jn:ut.current,x=Pr(r,x));var U=o.getDerivedStateFromProps;(M=typeof U=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==O||R!==x)&&Yf(r,p,a,x),Pn=!1,R=r.memoizedState,p.state=R,lo(r,a,p,c);var G=r.memoizedState;v!==O||R!==G||vt.current||Pn?(typeof U=="function"&&(La(r,o,U,a),G=r.memoizedState),(T=Pn||Vf(r,o,T,a,R,G,x)||!1)?(M||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,G,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,G,x)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&R===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&R===t.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=G),p.props=a,p.state=G,p.context=x,a=T):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&R===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&R===t.memoizedState||(r.flags|=1024),a=!1)}return Ba(t,r,o,a,f,c)}function Ba(t,r,o,a,c,f){rh(t,r);var p=(r.flags&128)!==0;if(!a&&!p)return c&&uf(r,o,!1),dn(t,r,f);a=r.stateNode,Tv.current=r;var v=p&&typeof o.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,t!==null&&p?(r.child=Or(r,t.child,null,f),r.child=Or(r,null,v,f)):pt(t,r,v,f),r.memoizedState=a.state,c&&uf(r,o,!0),r.child}function sh(t){var r=t.stateNode;r.pendingContext?lf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&lf(t,r.context,!1),Ea(t,r.containerInfo)}function oh(t,r,o,a,c){return Dr(),ya(c),r.flags|=256,pt(t,r,o,a),r.child}var Ua={dehydrated:null,treeContext:null,retryLane:0};function $a(t){return{baseLanes:t,cachePool:null,transitions:null}}function lh(t,r,o){var a=r.pendingProps,c=Be.current,f=!1,p=(r.flags&128)!==0,v;if((v=p)||(v=t!==null&&t.memoizedState===null?!1:(c&2)!==0),v?(f=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(c|=1),Me(Be,c&1),t===null)return ga(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(p=a.children,t=a.fallback,f?(a=r.mode,f=r.child,p={mode:"hidden",children:p},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=p):f=bo(p,a,0,null),t=ar(t,a,o,null),f.return=r,t.return=r,f.sibling=t,r.child=f,r.child.memoizedState=$a(o),r.memoizedState=Ua,t):Ha(r,p));if(c=t.memoizedState,c!==null&&(v=c.dehydrated,v!==null))return Iv(t,r,p,a,v,c,o);if(f){f=a.fallback,p=r.mode,c=t.child,v=c.sibling;var x={mode:"hidden",children:a.children};return!(p&1)&&r.child!==c?(a=r.child,a.childLanes=0,a.pendingProps=x,r.deletions=null):(a=jn(c,x),a.subtreeFlags=c.subtreeFlags&14680064),v!==null?f=jn(v,f):(f=ar(f,p,o,null),f.flags|=2),f.return=r,a.return=r,a.sibling=f,r.child=a,a=f,f=r.child,p=t.child.memoizedState,p=p===null?$a(o):{baseLanes:p.baseLanes|o,cachePool:null,transitions:p.transitions},f.memoizedState=p,f.childLanes=t.childLanes&~o,r.memoizedState=Ua,a}return f=t.child,t=f.sibling,a=jn(f,{mode:"visible",children:a.children}),!(r.mode&1)&&(a.lanes=o),a.return=r,a.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=a,r.memoizedState=null,a}function Ha(t,r){return r=bo({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function go(t,r,o,a){return a!==null&&ya(a),Or(r,t.child,null,o),t=Ha(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Iv(t,r,o,a,c,f,p){if(o)return r.flags&256?(r.flags&=-257,a=Fa(Error(n(422))),go(t,r,p,a)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(f=a.fallback,c=r.mode,a=bo({mode:"visible",children:a.children},c,0,null),f=ar(f,c,p,null),f.flags|=2,a.return=r,f.return=r,a.sibling=f,r.child=a,r.mode&1&&Or(r,t.child,null,p),r.child.memoizedState=$a(p),r.memoizedState=Ua,f);if(!(r.mode&1))return go(t,r,p,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var v=a.dgst;return a=v,f=Error(n(419)),a=Fa(f,a,void 0),go(t,r,p,a)}if(v=(p&t.childLanes)!==0,wt||v){if(a=Ze,a!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|p)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,un(t,c),Vt(a,t,c,-1))}return ou(),a=Fa(Error(n(421))),go(t,r,p,a)}return c.data==="$?"?(r.flags|=128,r.child=t.child,r=Bv.bind(null,t),c._reactRetry=r,null):(t=f.treeContext,Pt=Nn(c.nextSibling),bt=r,We=!0,Bt=null,t!==null&&(Mt[Dt++]=ln,Mt[Dt++]=an,Mt[Dt++]=Zn,ln=t.id,an=t.overflow,Zn=r),r=Ha(r,a.children),r.flags|=4096,r)}function ah(t,r,o){t.lanes|=r;var a=t.alternate;a!==null&&(a.lanes|=r),Ca(t.return,r,o)}function Va(t,r,o,a,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:c}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=o,f.tailMode=c)}function uh(t,r,o){var a=r.pendingProps,c=a.revealOrder,f=a.tail;if(pt(t,r,a.children,o),a=Be.current,a&2)a=a&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ah(t,o,r);else if(t.tag===19)ah(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Me(Be,a),!(r.mode&1))r.memoizedState=null;else switch(c){case"forwards":for(o=r.child,c=null;o!==null;)t=o.alternate,t!==null&&ao(t)===null&&(c=o),o=o.sibling;o=c,o===null?(c=r.child,r.child=null):(c=o.sibling,o.sibling=null),Va(r,!1,c,o,f);break;case"backwards":for(o=null,c=r.child,r.child=null;c!==null;){if(t=c.alternate,t!==null&&ao(t)===null){r.child=c;break}t=c.sibling,c.sibling=o,o=c,c=t}Va(r,!0,o,null,f);break;case"together":Va(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function yo(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function dn(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),ir|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=jn(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=jn(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function bv(t,r,o){switch(r.tag){case 3:sh(r),Dr();break;case 5:Sf(r);break;case 1:_t(r.type)&&Js(r);break;case 4:Ea(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,c=r.memoizedProps.value;Me(io,a._currentValue),a._currentValue=c;break;case 13:if(a=r.memoizedState,a!==null)return a.dehydrated!==null?(Me(Be,Be.current&1),r.flags|=128,null):o&r.child.childLanes?lh(t,r,o):(Me(Be,Be.current&1),t=dn(t,r,o),t!==null?t.sibling:null);Me(Be,Be.current&1);break;case 19:if(a=(o&r.childLanes)!==0,t.flags&128){if(a)return uh(t,r,o);r.flags|=128}if(c=r.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Me(Be,Be.current),a)break;return null;case 22:case 23:return r.lanes=0,nh(t,r,o)}return dn(t,r,o)}var ch,Ga,dh,fh;ch=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Ga=function(){},dh=function(t,r,o,a){var c=t.memoizedProps;if(c!==a){t=r.stateNode,nr(Jt.current);var f=null;switch(o){case"input":c=Cl(t,c),a=Cl(t,a),f=[];break;case"select":c=B({},c,{value:void 0}),a=B({},a,{value:void 0}),f=[];break;case"textarea":c=El(t,c),a=El(t,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=qs)}Nl(o,a);var p;o=null;for(T in c)if(!a.hasOwnProperty(T)&&c.hasOwnProperty(T)&&c[T]!=null)if(T==="style"){var v=c[T];for(p in v)v.hasOwnProperty(p)&&(o||(o={}),o[p]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(l.hasOwnProperty(T)?f||(f=[]):(f=f||[]).push(T,null));for(T in a){var x=a[T];if(v=c!=null?c[T]:void 0,a.hasOwnProperty(T)&&x!==v&&(x!=null||v!=null))if(T==="style")if(v){for(p in v)!v.hasOwnProperty(p)||x&&x.hasOwnProperty(p)||(o||(o={}),o[p]="");for(p in x)x.hasOwnProperty(p)&&v[p]!==x[p]&&(o||(o={}),o[p]=x[p])}else o||(f||(f=[]),f.push(T,o)),o=x;else T==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,v=v?v.__html:void 0,x!=null&&v!==x&&(f=f||[]).push(T,x)):T==="children"?typeof x!="string"&&typeof x!="number"||(f=f||[]).push(T,""+x):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(l.hasOwnProperty(T)?(x!=null&&T==="onScroll"&&Ae("scroll",t),f||v===x||(f=[])):(f=f||[]).push(T,x))}o&&(f=f||[]).push("style",o);var T=f;(r.updateQueue=T)&&(r.flags|=4)}},fh=function(t,r,o,a){o!==a&&(r.flags|=4)};function Wi(t,r){if(!We)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,a=0;if(r)for(var c=t.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=a,t.childLanes=o,r}function Pv(t,r,o){var a=r.pendingProps;switch(pa(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(r),null;case 1:return _t(r.type)&&Xs(),dt(r),null;case 3:return a=r.stateNode,jr(),Le(vt),Le(ut),Ta(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(no(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Bt!==null&&(ru(Bt),Bt=null))),Ga(t,r),dt(r),null;case 5:ka(r);var c=nr(Ai.current);if(o=r.type,t!==null&&r.stateNode!=null)dh(t,r,o,a,c),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(n(166));return dt(r),null}if(t=nr(Jt.current),no(r)){a=r.stateNode,o=r.type;var f=r.memoizedProps;switch(a[Xt]=r,a[Pi]=f,t=(r.mode&1)!==0,o){case"dialog":Ae("cancel",a),Ae("close",a);break;case"iframe":case"object":case"embed":Ae("load",a);break;case"video":case"audio":for(c=0;c<Ti.length;c++)Ae(Ti[c],a);break;case"source":Ae("error",a);break;case"img":case"image":case"link":Ae("error",a),Ae("load",a);break;case"details":Ae("toggle",a);break;case"input":Vc(a,f),Ae("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Ae("invalid",a);break;case"textarea":Qc(a,f),Ae("invalid",a)}Nl(o,f),c=null;for(var p in f)if(f.hasOwnProperty(p)){var v=f[p];p==="children"?typeof v=="string"?a.textContent!==v&&(f.suppressHydrationWarning!==!0&&Qs(a.textContent,v,t),c=["children",v]):typeof v=="number"&&a.textContent!==""+v&&(f.suppressHydrationWarning!==!0&&Qs(a.textContent,v,t),c=["children",""+v]):l.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&Ae("scroll",a)}switch(o){case"input":ks(a),Yc(a,f,!0);break;case"textarea":ks(a),Kc(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=qs)}a=c,r.updateQueue=a,a!==null&&(r.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xc(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=p.createElement(o,{is:a.is}):(t=p.createElement(o),o==="select"&&(p=t,a.multiple?p.multiple=!0:a.size&&(p.size=a.size))):t=p.createElementNS(t,o),t[Xt]=r,t[Pi]=a,ch(t,r,!1,!1),r.stateNode=t;e:{switch(p=Tl(o,a),o){case"dialog":Ae("cancel",t),Ae("close",t),c=a;break;case"iframe":case"object":case"embed":Ae("load",t),c=a;break;case"video":case"audio":for(c=0;c<Ti.length;c++)Ae(Ti[c],t);c=a;break;case"source":Ae("error",t),c=a;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),c=a;break;case"details":Ae("toggle",t),c=a;break;case"input":Vc(t,a),c=Cl(t,a),Ae("invalid",t);break;case"option":c=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},c=B({},a,{value:void 0}),Ae("invalid",t);break;case"textarea":Qc(t,a),c=El(t,a),Ae("invalid",t);break;default:c=a}Nl(o,c),v=c;for(f in v)if(v.hasOwnProperty(f)){var x=v[f];f==="style"?ed(t,x):f==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Jc(t,x)):f==="children"?typeof x=="string"?(o!=="textarea"||x!=="")&&ai(t,x):typeof x=="number"&&ai(t,""+x):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?x!=null&&f==="onScroll"&&Ae("scroll",t):x!=null&&V(t,f,x,p))}switch(o){case"input":ks(t),Yc(t,a,!1);break;case"textarea":ks(t),Kc(t);break;case"option":a.value!=null&&t.setAttribute("value",""+de(a.value));break;case"select":t.multiple=!!a.multiple,f=a.value,f!=null?vr(t,!!a.multiple,f,!1):a.defaultValue!=null&&vr(t,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(t.onclick=qs)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return dt(r),null;case 6:if(t&&r.stateNode!=null)fh(t,r,t.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(n(166));if(o=nr(Ai.current),nr(Jt.current),no(r)){if(a=r.stateNode,o=r.memoizedProps,a[Xt]=r,(f=a.nodeValue!==o)&&(t=bt,t!==null))switch(t.tag){case 3:Qs(a.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qs(a.nodeValue,o,(t.mode&1)!==0)}f&&(r.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[Xt]=r,r.stateNode=a}return dt(r),null;case 13:if(Le(Be),a=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&Pt!==null&&r.mode&1&&!(r.flags&128))mf(),Dr(),r.flags|=98560,f=!1;else if(f=no(r),a!==null&&a.dehydrated!==null){if(t===null){if(!f)throw Error(n(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[Xt]=r}else Dr(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;dt(r),f=!1}else Bt!==null&&(ru(Bt),Bt=null),f=!0;if(!f)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(r.child.flags|=8192,r.mode&1&&(t===null||Be.current&1?qe===0&&(qe=3):ou())),r.updateQueue!==null&&(r.flags|=4),dt(r),null);case 4:return jr(),Ga(t,r),t===null&&Ii(r.stateNode.containerInfo),dt(r),null;case 10:return wa(r.type._context),dt(r),null;case 17:return _t(r.type)&&Xs(),dt(r),null;case 19:if(Le(Be),f=r.memoizedState,f===null)return dt(r),null;if(a=(r.flags&128)!==0,p=f.rendering,p===null)if(a)Wi(f,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(p=ao(t),p!==null){for(r.flags|=128,Wi(f,!1),a=p.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),r.subtreeFlags=0,a=o,o=r.child;o!==null;)f=o,t=a,f.flags&=14680066,p=f.alternate,p===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=p.childLanes,f.lanes=p.lanes,f.child=p.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=p.memoizedProps,f.memoizedState=p.memoizedState,f.updateQueue=p.updateQueue,f.type=p.type,t=p.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Me(Be,Be.current&1|2),r.child}t=t.sibling}f.tail!==null&&Ve()>Br&&(r.flags|=128,a=!0,Wi(f,!1),r.lanes=4194304)}else{if(!a)if(t=ao(p),t!==null){if(r.flags|=128,a=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Wi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!We)return dt(r),null}else 2*Ve()-f.renderingStartTime>Br&&o!==1073741824&&(r.flags|=128,a=!0,Wi(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(o=f.last,o!==null?o.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Ve(),r.sibling=null,o=Be.current,Me(Be,a?o&1|2:o&1),r):(dt(r),null);case 22:case 23:return su(),a=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(r.flags|=8192),a&&r.mode&1?Rt&1073741824&&(dt(r),r.subtreeFlags&6&&(r.flags|=8192)):dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Rv(t,r){switch(pa(r),r.tag){case 1:return _t(r.type)&&Xs(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return jr(),Le(vt),Le(ut),Ta(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return ka(r),null;case 13:if(Le(Be),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Dr()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Le(Be),null;case 4:return jr(),null;case 10:return wa(r.type._context),null;case 22:case 23:return su(),null;case 24:return null;default:return null}}var vo=!1,ft=!1,Mv=typeof WeakSet=="function"?WeakSet:Set,H=null;function zr(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){$e(t,r,a)}else o.current=null}function Ya(t,r,o){try{o()}catch(a){$e(t,r,a)}}var hh=!1;function Dv(t,r){if(sa=js,t=Hd(),Xl(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var p=0,v=-1,x=-1,T=0,M=0,O=t,R=null;t:for(;;){for(var U;O!==o||c!==0&&O.nodeType!==3||(v=p+c),O!==f||a!==0&&O.nodeType!==3||(x=p+a),O.nodeType===3&&(p+=O.nodeValue.length),(U=O.firstChild)!==null;)R=O,O=U;for(;;){if(O===t)break t;if(R===o&&++T===c&&(v=p),R===f&&++M===a&&(x=p),(U=O.nextSibling)!==null)break;O=R,R=O.parentNode}O=U}o=v===-1||x===-1?null:{start:v,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(oa={focusedElem:t,selectionRange:o},js=!1,H=r;H!==null;)if(r=H,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,H=t;else for(;H!==null;){r=H;try{var G=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(G!==null){var Y=G.memoizedProps,Ge=G.memoizedState,k=r.stateNode,S=k.getSnapshotBeforeUpdate(r.elementType===r.type?Y:Ut(r.type,Y),Ge);k.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var N=r.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(A){$e(r,r.return,A)}if(t=r.sibling,t!==null){t.return=r.return,H=t;break}H=r.return}return G=hh,hh=!1,G}function Bi(t,r,o){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&t)===t){var f=c.destroy;c.destroy=void 0,f!==void 0&&Ya(r,o,f)}c=c.next}while(c!==a)}}function _o(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var a=o.create;o.destroy=a()}o=o.next}while(o!==r)}}function Qa(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function ph(t){var r=t.alternate;r!==null&&(t.alternate=null,ph(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Xt],delete r[Pi],delete r[ca],delete r[mv],delete r[gv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mh(t){return t.tag===5||t.tag===3||t.tag===4}function gh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qa(t,r,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=qs));else if(a!==4&&(t=t.child,t!==null))for(qa(t,r,o),t=t.sibling;t!==null;)qa(t,r,o),t=t.sibling}function Ka(t,r,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(Ka(t,r,o),t=t.sibling;t!==null;)Ka(t,r,o),t=t.sibling}var st=null,$t=!1;function Mn(t,r,o){for(o=o.child;o!==null;)yh(t,r,o),o=o.sibling}function yh(t,r,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Rs,o)}catch{}switch(o.tag){case 5:ft||zr(o,r);case 6:var a=st,c=$t;st=null,Mn(t,r,o),st=a,$t=c,st!==null&&($t?(t=st,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):st.removeChild(o.stateNode));break;case 18:st!==null&&($t?(t=st,o=o.stateNode,t.nodeType===8?ua(t.parentNode,o):t.nodeType===1&&ua(t,o),_i(t)):ua(st,o.stateNode));break;case 4:a=st,c=$t,st=o.stateNode.containerInfo,$t=!0,Mn(t,r,o),st=a,$t=c;break;case 0:case 11:case 14:case 15:if(!ft&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,p=f.destroy;f=f.tag,p!==void 0&&(f&2||f&4)&&Ya(o,r,p),c=c.next}while(c!==a)}Mn(t,r,o);break;case 1:if(!ft&&(zr(o,r),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(v){$e(o,r,v)}Mn(t,r,o);break;case 21:Mn(t,r,o);break;case 22:o.mode&1?(ft=(a=ft)||o.memoizedState!==null,Mn(t,r,o),ft=a):Mn(t,r,o);break;default:Mn(t,r,o)}}function vh(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Mv),r.forEach(function(a){var c=Uv.bind(null,t,a);o.has(a)||(o.add(a),a.then(c,c))})}}function Ht(t,r){var o=r.deletions;if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];try{var f=t,p=r,v=p;e:for(;v!==null;){switch(v.tag){case 5:st=v.stateNode,$t=!1;break e;case 3:st=v.stateNode.containerInfo,$t=!0;break e;case 4:st=v.stateNode.containerInfo,$t=!0;break e}v=v.return}if(st===null)throw Error(n(160));yh(f,p,c),st=null,$t=!1;var x=c.alternate;x!==null&&(x.return=null),c.return=null}catch(T){$e(c,r,T)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)_h(r,t),r=r.sibling}function _h(t,r){var o=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ht(r,t),en(t),a&4){try{Bi(3,t,t.return),_o(3,t)}catch(Y){$e(t,t.return,Y)}try{Bi(5,t,t.return)}catch(Y){$e(t,t.return,Y)}}break;case 1:Ht(r,t),en(t),a&512&&o!==null&&zr(o,o.return);break;case 5:if(Ht(r,t),en(t),a&512&&o!==null&&zr(o,o.return),t.flags&32){var c=t.stateNode;try{ai(c,"")}catch(Y){$e(t,t.return,Y)}}if(a&4&&(c=t.stateNode,c!=null)){var f=t.memoizedProps,p=o!==null?o.memoizedProps:f,v=t.type,x=t.updateQueue;if(t.updateQueue=null,x!==null)try{v==="input"&&f.type==="radio"&&f.name!=null&&Gc(c,f),Tl(v,p);var T=Tl(v,f);for(p=0;p<x.length;p+=2){var M=x[p],O=x[p+1];M==="style"?ed(c,O):M==="dangerouslySetInnerHTML"?Jc(c,O):M==="children"?ai(c,O):V(c,M,O,T)}switch(v){case"input":xl(c,f);break;case"textarea":qc(c,f);break;case"select":var R=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var U=f.value;U!=null?vr(c,!!f.multiple,U,!1):R!==!!f.multiple&&(f.defaultValue!=null?vr(c,!!f.multiple,f.defaultValue,!0):vr(c,!!f.multiple,f.multiple?[]:"",!1))}c[Pi]=f}catch(Y){$e(t,t.return,Y)}}break;case 6:if(Ht(r,t),en(t),a&4){if(t.stateNode===null)throw Error(n(162));c=t.stateNode,f=t.memoizedProps;try{c.nodeValue=f}catch(Y){$e(t,t.return,Y)}}break;case 3:if(Ht(r,t),en(t),a&4&&o!==null&&o.memoizedState.isDehydrated)try{_i(r.containerInfo)}catch(Y){$e(t,t.return,Y)}break;case 4:Ht(r,t),en(t);break;case 13:Ht(r,t),en(t),c=t.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Za=Ve())),a&4&&vh(t);break;case 22:if(M=o!==null&&o.memoizedState!==null,t.mode&1?(ft=(T=ft)||M,Ht(r,t),ft=T):Ht(r,t),en(t),a&8192){if(T=t.memoizedState!==null,(t.stateNode.isHidden=T)&&!M&&t.mode&1)for(H=t,M=t.child;M!==null;){for(O=H=M;H!==null;){switch(R=H,U=R.child,R.tag){case 0:case 11:case 14:case 15:Bi(4,R,R.return);break;case 1:zr(R,R.return);var G=R.stateNode;if(typeof G.componentWillUnmount=="function"){a=R,o=R.return;try{r=a,G.props=r.memoizedProps,G.state=r.memoizedState,G.componentWillUnmount()}catch(Y){$e(a,o,Y)}}break;case 5:zr(R,R.return);break;case 22:if(R.memoizedState!==null){xh(O);continue}}U!==null?(U.return=R,H=U):xh(O)}M=M.sibling}e:for(M=null,O=t;;){if(O.tag===5){if(M===null){M=O;try{c=O.stateNode,T?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(v=O.stateNode,x=O.memoizedProps.style,p=x!=null&&x.hasOwnProperty("display")?x.display:null,v.style.display=Zc("display",p))}catch(Y){$e(t,t.return,Y)}}}else if(O.tag===6){if(M===null)try{O.stateNode.nodeValue=T?"":O.memoizedProps}catch(Y){$e(t,t.return,Y)}}else if((O.tag!==22&&O.tag!==23||O.memoizedState===null||O===t)&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===t)break e;for(;O.sibling===null;){if(O.return===null||O.return===t)break e;M===O&&(M=null),O=O.return}M===O&&(M=null),O.sibling.return=O.return,O=O.sibling}}break;case 19:Ht(r,t),en(t),a&4&&vh(t);break;case 21:break;default:Ht(r,t),en(t)}}function en(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(mh(o)){var a=o;break e}o=o.return}throw Error(n(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ai(c,""),a.flags&=-33);var f=gh(t);Ka(t,f,c);break;case 3:case 4:var p=a.stateNode.containerInfo,v=gh(t);qa(t,v,p);break;default:throw Error(n(161))}}catch(x){$e(t,t.return,x)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Ov(t,r,o){H=t,wh(t)}function wh(t,r,o){for(var a=(t.mode&1)!==0;H!==null;){var c=H,f=c.child;if(c.tag===22&&a){var p=c.memoizedState!==null||vo;if(!p){var v=c.alternate,x=v!==null&&v.memoizedState!==null||ft;v=vo;var T=ft;if(vo=p,(ft=x)&&!T)for(H=c;H!==null;)p=H,x=p.child,p.tag===22&&p.memoizedState!==null?Sh(c):x!==null?(x.return=p,H=x):Sh(c);for(;f!==null;)H=f,wh(f),f=f.sibling;H=c,vo=v,ft=T}Ch(t)}else c.subtreeFlags&8772&&f!==null?(f.return=c,H=f):Ch(t)}}function Ch(t){for(;H!==null;){var r=H;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:ft||_o(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!ft)if(o===null)a.componentDidMount();else{var c=r.elementType===r.type?o.memoizedProps:Ut(r.type,o.memoizedProps);a.componentDidUpdate(c,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=r.updateQueue;f!==null&&xf(r,f,a);break;case 3:var p=r.updateQueue;if(p!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}xf(r,p,o)}break;case 5:var v=r.stateNode;if(o===null&&r.flags&4){o=v;var x=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&o.focus();break;case"img":x.src&&(o.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var T=r.alternate;if(T!==null){var M=T.memoizedState;if(M!==null){var O=M.dehydrated;O!==null&&_i(O)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ft||r.flags&512&&Qa(r)}catch(R){$e(r,r.return,R)}}if(r===t){H=null;break}if(o=r.sibling,o!==null){o.return=r.return,H=o;break}H=r.return}}function xh(t){for(;H!==null;){var r=H;if(r===t){H=null;break}var o=r.sibling;if(o!==null){o.return=r.return,H=o;break}H=r.return}}function Sh(t){for(;H!==null;){var r=H;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{_o(4,r)}catch(x){$e(r,o,x)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var c=r.return;try{a.componentDidMount()}catch(x){$e(r,c,x)}}var f=r.return;try{Qa(r)}catch(x){$e(r,f,x)}break;case 5:var p=r.return;try{Qa(r)}catch(x){$e(r,p,x)}}}catch(x){$e(r,r.return,x)}if(r===t){H=null;break}var v=r.sibling;if(v!==null){v.return=r.return,H=v;break}H=r.return}}var Av=Math.ceil,wo=te.ReactCurrentDispatcher,Xa=te.ReactCurrentOwner,Lt=te.ReactCurrentBatchConfig,Se=0,Ze=null,Ye=null,ot=0,Rt=0,Wr=Tn(0),qe=0,Ui=null,ir=0,Co=0,Ja=0,$i=null,Ct=null,Za=0,Br=1/0,fn=null,xo=!1,eu=null,Dn=null,So=!1,On=null,Eo=0,Hi=0,tu=null,ko=-1,No=0;function mt(){return Se&6?Ve():ko!==-1?ko:ko=Ve()}function An(t){return t.mode&1?Se&2&&ot!==0?ot&-ot:vv.transition!==null?(No===0&&(No=md()),No):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:Ed(t.type)),t):1}function Vt(t,r,o,a){if(50<Hi)throw Hi=0,tu=null,Error(n(185));pi(t,o,a),(!(Se&2)||t!==Ze)&&(t===Ze&&(!(Se&2)&&(Co|=o),qe===4&&Ln(t,ot)),xt(t,a),o===1&&Se===0&&!(r.mode&1)&&(Br=Ve()+500,Zs&&bn()))}function xt(t,r){var o=t.callbackNode;vy(t,r);var a=Os(t,t===Ze?ot:0);if(a===0)o!==null&&fd(o),t.callbackNode=null,t.callbackPriority=0;else if(r=a&-a,t.callbackPriority!==r){if(o!=null&&fd(o),r===1)t.tag===0?yv(kh.bind(null,t)):cf(kh.bind(null,t)),hv(function(){!(Se&6)&&bn()}),o=null;else{switch(gd(a)){case 1:o=Ol;break;case 4:o=hd;break;case 16:o=Ps;break;case 536870912:o=pd;break;default:o=Ps}o=Dh(o,Eh.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Eh(t,r){if(ko=-1,No=0,Se&6)throw Error(n(327));var o=t.callbackNode;if(Ur()&&t.callbackNode!==o)return null;var a=Os(t,t===Ze?ot:0);if(a===0)return null;if(a&30||a&t.expiredLanes||r)r=To(t,a);else{r=a;var c=Se;Se|=2;var f=Th();(Ze!==t||ot!==r)&&(fn=null,Br=Ve()+500,or(t,r));do try{Fv();break}catch(v){Nh(t,v)}while(!0);_a(),wo.current=f,Se=c,Ye!==null?r=0:(Ze=null,ot=0,r=qe)}if(r!==0){if(r===2&&(c=Al(t),c!==0&&(a=c,r=nu(t,c))),r===1)throw o=Ui,or(t,0),Ln(t,a),xt(t,Ve()),o;if(r===6)Ln(t,a);else{if(c=t.current.alternate,!(a&30)&&!Lv(c)&&(r=To(t,a),r===2&&(f=Al(t),f!==0&&(a=f,r=nu(t,f))),r===1))throw o=Ui,or(t,0),Ln(t,a),xt(t,Ve()),o;switch(t.finishedWork=c,t.finishedLanes=a,r){case 0:case 1:throw Error(n(345));case 2:lr(t,Ct,fn);break;case 3:if(Ln(t,a),(a&130023424)===a&&(r=Za+500-Ve(),10<r)){if(Os(t,0)!==0)break;if(c=t.suspendedLanes,(c&a)!==a){mt(),t.pingedLanes|=t.suspendedLanes&c;break}t.timeoutHandle=aa(lr.bind(null,t,Ct,fn),r);break}lr(t,Ct,fn);break;case 4:if(Ln(t,a),(a&4194240)===a)break;for(r=t.eventTimes,c=-1;0<a;){var p=31-zt(a);f=1<<p,p=r[p],p>c&&(c=p),a&=~f}if(a=c,a=Ve()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Av(a/1960))-a,10<a){t.timeoutHandle=aa(lr.bind(null,t,Ct,fn),a);break}lr(t,Ct,fn);break;case 5:lr(t,Ct,fn);break;default:throw Error(n(329))}}}return xt(t,Ve()),t.callbackNode===o?Eh.bind(null,t):null}function nu(t,r){var o=$i;return t.current.memoizedState.isDehydrated&&(or(t,r).flags|=256),t=To(t,r),t!==2&&(r=Ct,Ct=o,r!==null&&ru(r)),t}function ru(t){Ct===null?Ct=t:Ct.push.apply(Ct,t)}function Lv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var c=o[a],f=c.getSnapshot;c=c.value;try{if(!Wt(f(),c))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ln(t,r){for(r&=~Ja,r&=~Co,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-zt(r),a=1<<o;t[o]=-1,r&=~a}}function kh(t){if(Se&6)throw Error(n(327));Ur();var r=Os(t,0);if(!(r&1))return xt(t,Ve()),null;var o=To(t,r);if(t.tag!==0&&o===2){var a=Al(t);a!==0&&(r=a,o=nu(t,a))}if(o===1)throw o=Ui,or(t,0),Ln(t,r),xt(t,Ve()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,lr(t,Ct,fn),xt(t,Ve()),null}function iu(t,r){var o=Se;Se|=1;try{return t(r)}finally{Se=o,Se===0&&(Br=Ve()+500,Zs&&bn())}}function sr(t){On!==null&&On.tag===0&&!(Se&6)&&Ur();var r=Se;Se|=1;var o=Lt.transition,a=Ie;try{if(Lt.transition=null,Ie=1,t)return t()}finally{Ie=a,Lt.transition=o,Se=r,!(Se&6)&&bn()}}function su(){Rt=Wr.current,Le(Wr)}function or(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,fv(o)),Ye!==null)for(o=Ye.return;o!==null;){var a=o;switch(pa(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Xs();break;case 3:jr(),Le(vt),Le(ut),Ta();break;case 5:ka(a);break;case 4:jr();break;case 13:Le(Be);break;case 19:Le(Be);break;case 10:wa(a.type._context);break;case 22:case 23:su()}o=o.return}if(Ze=t,Ye=t=jn(t.current,null),ot=Rt=r,qe=0,Ui=null,Ja=Co=ir=0,Ct=$i=null,tr!==null){for(r=0;r<tr.length;r++)if(o=tr[r],a=o.interleaved,a!==null){o.interleaved=null;var c=a.next,f=o.pending;if(f!==null){var p=f.next;f.next=c,a.next=p}o.pending=a}tr=null}return t}function Nh(t,r){do{var o=Ye;try{if(_a(),uo.current=po,co){for(var a=Ue.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}co=!1}if(rr=0,Je=Qe=Ue=null,Li=!1,ji=0,Xa.current=null,o===null||o.return===null){qe=1,Ui=r,Ye=null;break}e:{var f=t,p=o.return,v=o,x=r;if(r=ot,v.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var T=x,M=v,O=M.tag;if(!(M.mode&1)&&(O===0||O===11||O===15)){var R=M.alternate;R?(M.updateQueue=R.updateQueue,M.memoizedState=R.memoizedState,M.lanes=R.lanes):(M.updateQueue=null,M.memoizedState=null)}var U=Xf(p);if(U!==null){U.flags&=-257,Jf(U,p,v,f,r),U.mode&1&&Kf(f,T,r),r=U,x=T;var G=r.updateQueue;if(G===null){var Y=new Set;Y.add(x),r.updateQueue=Y}else G.add(x);break e}else{if(!(r&1)){Kf(f,T,r),ou();break e}x=Error(n(426))}}else if(We&&v.mode&1){var Ge=Xf(p);if(Ge!==null){!(Ge.flags&65536)&&(Ge.flags|=256),Jf(Ge,p,v,f,r),ya(Fr(x,v));break e}}f=x=Fr(x,v),qe!==4&&(qe=2),$i===null?$i=[f]:$i.push(f),f=p;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var k=Qf(f,x,r);Cf(f,k);break e;case 1:v=x;var S=f.type,N=f.stateNode;if(!(f.flags&128)&&(typeof S.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Dn===null||!Dn.has(N)))){f.flags|=65536,r&=-r,f.lanes|=r;var A=qf(f,v,r);Cf(f,A);break e}}f=f.return}while(f!==null)}bh(o)}catch(Q){r=Q,Ye===o&&o!==null&&(Ye=o=o.return);continue}break}while(!0)}function Th(){var t=wo.current;return wo.current=po,t===null?po:t}function ou(){(qe===0||qe===3||qe===2)&&(qe=4),Ze===null||!(ir&268435455)&&!(Co&268435455)||Ln(Ze,ot)}function To(t,r){var o=Se;Se|=2;var a=Th();(Ze!==t||ot!==r)&&(fn=null,or(t,r));do try{jv();break}catch(c){Nh(t,c)}while(!0);if(_a(),Se=o,wo.current=a,Ye!==null)throw Error(n(261));return Ze=null,ot=0,qe}function jv(){for(;Ye!==null;)Ih(Ye)}function Fv(){for(;Ye!==null&&!uy();)Ih(Ye)}function Ih(t){var r=Mh(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,r===null?bh(t):Ye=r,Xa.current=null}function bh(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=Rv(o,r),o!==null){o.flags&=32767,Ye=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,Ye=null;return}}else if(o=Pv(o,r,Rt),o!==null){Ye=o;return}if(r=r.sibling,r!==null){Ye=r;return}Ye=r=t}while(r!==null);qe===0&&(qe=5)}function lr(t,r,o){var a=Ie,c=Lt.transition;try{Lt.transition=null,Ie=1,zv(t,r,o,a)}finally{Lt.transition=c,Ie=a}return null}function zv(t,r,o,a){do Ur();while(On!==null);if(Se&6)throw Error(n(327));o=t.finishedWork;var c=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var f=o.lanes|o.childLanes;if(_y(t,f),t===Ze&&(Ye=Ze=null,ot=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||So||(So=!0,Dh(Ps,function(){return Ur(),null})),f=(o.flags&15990)!==0,o.subtreeFlags&15990||f){f=Lt.transition,Lt.transition=null;var p=Ie;Ie=1;var v=Se;Se|=4,Xa.current=null,Dv(t,o),_h(o,t),sv(oa),js=!!sa,oa=sa=null,t.current=o,Ov(o),cy(),Se=v,Ie=p,Lt.transition=f}else t.current=o;if(So&&(So=!1,On=t,Eo=c),f=t.pendingLanes,f===0&&(Dn=null),hy(o.stateNode),xt(t,Ve()),r!==null)for(a=t.onRecoverableError,o=0;o<r.length;o++)c=r[o],a(c.value,{componentStack:c.stack,digest:c.digest});if(xo)throw xo=!1,t=eu,eu=null,t;return Eo&1&&t.tag!==0&&Ur(),f=t.pendingLanes,f&1?t===tu?Hi++:(Hi=0,tu=t):Hi=0,bn(),null}function Ur(){if(On!==null){var t=gd(Eo),r=Lt.transition,o=Ie;try{if(Lt.transition=null,Ie=16>t?16:t,On===null)var a=!1;else{if(t=On,On=null,Eo=0,Se&6)throw Error(n(331));var c=Se;for(Se|=4,H=t.current;H!==null;){var f=H,p=f.child;if(H.flags&16){var v=f.deletions;if(v!==null){for(var x=0;x<v.length;x++){var T=v[x];for(H=T;H!==null;){var M=H;switch(M.tag){case 0:case 11:case 15:Bi(8,M,f)}var O=M.child;if(O!==null)O.return=M,H=O;else for(;H!==null;){M=H;var R=M.sibling,U=M.return;if(ph(M),M===T){H=null;break}if(R!==null){R.return=U,H=R;break}H=U}}}var G=f.alternate;if(G!==null){var Y=G.child;if(Y!==null){G.child=null;do{var Ge=Y.sibling;Y.sibling=null,Y=Ge}while(Y!==null)}}H=f}}if(f.subtreeFlags&2064&&p!==null)p.return=f,H=p;else e:for(;H!==null;){if(f=H,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Bi(9,f,f.return)}var k=f.sibling;if(k!==null){k.return=f.return,H=k;break e}H=f.return}}var S=t.current;for(H=S;H!==null;){p=H;var N=p.child;if(p.subtreeFlags&2064&&N!==null)N.return=p,H=N;else e:for(p=S;H!==null;){if(v=H,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:_o(9,v)}}catch(Q){$e(v,v.return,Q)}if(v===p){H=null;break e}var A=v.sibling;if(A!==null){A.return=v.return,H=A;break e}H=v.return}}if(Se=c,bn(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Rs,t)}catch{}a=!0}return a}finally{Ie=o,Lt.transition=r}}return!1}function Ph(t,r,o){r=Fr(o,r),r=Qf(t,r,1),t=Rn(t,r,1),r=mt(),t!==null&&(pi(t,1,r),xt(t,r))}function $e(t,r,o){if(t.tag===3)Ph(t,t,o);else for(;r!==null;){if(r.tag===3){Ph(r,t,o);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Dn===null||!Dn.has(a))){t=Fr(o,t),t=qf(r,t,1),r=Rn(r,t,1),t=mt(),r!==null&&(pi(r,1,t),xt(r,t));break}}r=r.return}}function Wv(t,r,o){var a=t.pingCache;a!==null&&a.delete(r),r=mt(),t.pingedLanes|=t.suspendedLanes&o,Ze===t&&(ot&o)===o&&(qe===4||qe===3&&(ot&130023424)===ot&&500>Ve()-Za?or(t,0):Ja|=o),xt(t,r)}function Rh(t,r){r===0&&(t.mode&1?(r=Ds,Ds<<=1,!(Ds&130023424)&&(Ds=4194304)):r=1);var o=mt();t=un(t,r),t!==null&&(pi(t,r,o),xt(t,o))}function Bv(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Rh(t,o)}function Uv(t,r){var o=0;switch(t.tag){case 13:var a=t.stateNode,c=t.memoizedState;c!==null&&(o=c.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(n(314))}a!==null&&a.delete(r),Rh(t,o)}var Mh;Mh=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||vt.current)wt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return wt=!1,bv(t,r,o);wt=!!(t.flags&131072)}else wt=!1,We&&r.flags&1048576&&df(r,to,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;yo(t,r),t=r.pendingProps;var c=Pr(r,ut.current);Lr(r,o),c=Pa(null,r,a,t,c,o);var f=Ra();return r.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,_t(a)?(f=!0,Js(r)):f=!1,r.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Sa(r),c.updater=mo,r.stateNode=c,c._reactInternals=r,ja(r,a,t,o),r=Ba(null,r,a,!0,f,o)):(r.tag=0,We&&f&&ha(r),pt(null,r,c,o),r=r.child),r;case 16:a=r.elementType;e:{switch(yo(t,r),t=r.pendingProps,c=a._init,a=c(a._payload),r.type=a,c=r.tag=Hv(a),t=Ut(a,t),c){case 0:r=Wa(null,r,a,t,o);break e;case 1:r=ih(null,r,a,t,o);break e;case 11:r=Zf(null,r,a,t,o);break e;case 14:r=eh(null,r,a,Ut(a.type,t),o);break e}throw Error(n(306,a,""))}return r;case 0:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Ut(a,c),Wa(t,r,a,c,o);case 1:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Ut(a,c),ih(t,r,a,c,o);case 3:e:{if(sh(r),t===null)throw Error(n(387));a=r.pendingProps,f=r.memoizedState,c=f.element,wf(t,r),lo(r,a,null,o);var p=r.memoizedState;if(a=p.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){c=Fr(Error(n(423)),r),r=oh(t,r,a,o,c);break e}else if(a!==c){c=Fr(Error(n(424)),r),r=oh(t,r,a,o,c);break e}else for(Pt=Nn(r.stateNode.containerInfo.firstChild),bt=r,We=!0,Bt=null,o=vf(r,null,a,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Dr(),a===c){r=dn(t,r,o);break e}pt(t,r,a,o)}r=r.child}return r;case 5:return Sf(r),t===null&&ga(r),a=r.type,c=r.pendingProps,f=t!==null?t.memoizedProps:null,p=c.children,la(a,c)?p=null:f!==null&&la(a,f)&&(r.flags|=32),rh(t,r),pt(t,r,p,o),r.child;case 6:return t===null&&ga(r),null;case 13:return lh(t,r,o);case 4:return Ea(r,r.stateNode.containerInfo),a=r.pendingProps,t===null?r.child=Or(r,null,a,o):pt(t,r,a,o),r.child;case 11:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Ut(a,c),Zf(t,r,a,c,o);case 7:return pt(t,r,r.pendingProps,o),r.child;case 8:return pt(t,r,r.pendingProps.children,o),r.child;case 12:return pt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(a=r.type._context,c=r.pendingProps,f=r.memoizedProps,p=c.value,Me(io,a._currentValue),a._currentValue=p,f!==null)if(Wt(f.value,p)){if(f.children===c.children&&!vt.current){r=dn(t,r,o);break e}}else for(f=r.child,f!==null&&(f.return=r);f!==null;){var v=f.dependencies;if(v!==null){p=f.child;for(var x=v.firstContext;x!==null;){if(x.context===a){if(f.tag===1){x=cn(-1,o&-o),x.tag=2;var T=f.updateQueue;if(T!==null){T=T.shared;var M=T.pending;M===null?x.next=x:(x.next=M.next,M.next=x),T.pending=x}}f.lanes|=o,x=f.alternate,x!==null&&(x.lanes|=o),Ca(f.return,o,r),v.lanes|=o;break}x=x.next}}else if(f.tag===10)p=f.type===r.type?null:f.child;else if(f.tag===18){if(p=f.return,p===null)throw Error(n(341));p.lanes|=o,v=p.alternate,v!==null&&(v.lanes|=o),Ca(p,o,r),p=f.sibling}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===r){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}pt(t,r,c.children,o),r=r.child}return r;case 9:return c=r.type,a=r.pendingProps.children,Lr(r,o),c=Ot(c),a=a(c),r.flags|=1,pt(t,r,a,o),r.child;case 14:return a=r.type,c=Ut(a,r.pendingProps),c=Ut(a.type,c),eh(t,r,a,c,o);case 15:return th(t,r,r.type,r.pendingProps,o);case 17:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Ut(a,c),yo(t,r),r.tag=1,_t(a)?(t=!0,Js(r)):t=!1,Lr(r,o),Gf(r,a,c),ja(r,a,c,o),Ba(null,r,a,!0,t,o);case 19:return uh(t,r,o);case 22:return nh(t,r,o)}throw Error(n(156,r.tag))};function Dh(t,r){return dd(t,r)}function $v(t,r,o,a){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,r,o,a){return new $v(t,r,o,a)}function lu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hv(t){if(typeof t=="function")return lu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===q)return 11;if(t===we)return 14}return 2}function jn(t,r){var o=t.alternate;return o===null?(o=jt(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Io(t,r,o,a,c,f){var p=2;if(a=t,typeof t=="function")lu(t)&&(p=1);else if(typeof t=="string")p=5;else e:switch(t){case _e:return ar(o.children,c,f,r);case $:p=8,c|=8;break;case ae:return t=jt(12,o,r,c|2),t.elementType=ae,t.lanes=f,t;case xe:return t=jt(13,o,r,c),t.elementType=xe,t.lanes=f,t;case ze:return t=jt(19,o,r,c),t.elementType=ze,t.lanes=f,t;case me:return bo(o,c,f,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ue:p=10;break e;case ve:p=9;break e;case q:p=11;break e;case we:p=14;break e;case Ne:p=16,a=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=jt(p,o,r,c),r.elementType=t,r.type=a,r.lanes=f,r}function ar(t,r,o,a){return t=jt(7,t,a,r),t.lanes=o,t}function bo(t,r,o,a){return t=jt(22,t,a,r),t.elementType=me,t.lanes=o,t.stateNode={isHidden:!1},t}function au(t,r,o){return t=jt(6,t,null,r),t.lanes=o,t}function uu(t,r,o){return r=jt(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Vv(t,r,o,a,c){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ll(0),this.expirationTimes=Ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ll(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function cu(t,r,o,a,c,f,p,v,x){return t=new Vv(t,r,o,v,x),r===1?(r=1,f===!0&&(r|=8)):r=0,f=jt(3,null,null,r),t.current=f,f.stateNode=t,f.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sa(f),t}function Gv(t,r,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:a==null?null:""+a,children:t,containerInfo:r,implementation:o}}function Oh(t){if(!t)return In;t=t._reactInternals;e:{if(Kn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(_t(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(_t(o))return af(t,o,r)}return r}function Ah(t,r,o,a,c,f,p,v,x){return t=cu(o,a,!0,t,c,f,p,v,x),t.context=Oh(null),o=t.current,a=mt(),c=An(o),f=cn(a,c),f.callback=r??null,Rn(o,f,c),t.current.lanes=c,pi(t,c,a),xt(t,a),t}function Po(t,r,o,a){var c=r.current,f=mt(),p=An(c);return o=Oh(o),r.context===null?r.context=o:r.pendingContext=o,r=cn(f,p),r.payload={element:t},a=a===void 0?null:a,a!==null&&(r.callback=a),t=Rn(c,r,p),t!==null&&(Vt(t,c,p,f),oo(t,c,p)),p}function Ro(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lh(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function du(t,r){Lh(t,r),(t=t.alternate)&&Lh(t,r)}function Yv(){return null}var jh=typeof reportError=="function"?reportError:function(t){console.error(t)};function fu(t){this._internalRoot=t}Mo.prototype.render=fu.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Po(t,r,null,null)},Mo.prototype.unmount=fu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;sr(function(){Po(null,t,null,null)}),r[sn]=null}};function Mo(t){this._internalRoot=t}Mo.prototype.unstable_scheduleHydration=function(t){if(t){var r=_d();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Sn.length&&r!==0&&r<Sn[o].priority;o++);Sn.splice(o,0,t),o===0&&xd(t)}};function hu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Do(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fh(){}function Qv(t,r,o,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var T=Ro(p);f.call(T)}}var p=Ah(r,a,t,0,null,!1,!1,"",Fh);return t._reactRootContainer=p,t[sn]=p.current,Ii(t.nodeType===8?t.parentNode:t),sr(),p}for(;c=t.lastChild;)t.removeChild(c);if(typeof a=="function"){var v=a;a=function(){var T=Ro(x);v.call(T)}}var x=cu(t,0,!1,null,null,!1,!1,"",Fh);return t._reactRootContainer=x,t[sn]=x.current,Ii(t.nodeType===8?t.parentNode:t),sr(function(){Po(r,x,o,a)}),x}function Oo(t,r,o,a,c){var f=o._reactRootContainer;if(f){var p=f;if(typeof c=="function"){var v=c;c=function(){var x=Ro(p);v.call(x)}}Po(r,p,t,c)}else p=Qv(o,r,t,c,a);return Ro(p)}yd=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=hi(r.pendingLanes);o!==0&&(jl(r,o|1),xt(r,Ve()),!(Se&6)&&(Br=Ve()+500,bn()))}break;case 13:sr(function(){var a=un(t,1);if(a!==null){var c=mt();Vt(a,t,1,c)}}),du(t,1)}},Fl=function(t){if(t.tag===13){var r=un(t,134217728);if(r!==null){var o=mt();Vt(r,t,134217728,o)}du(t,134217728)}},vd=function(t){if(t.tag===13){var r=An(t),o=un(t,r);if(o!==null){var a=mt();Vt(o,t,r,a)}du(t,r)}},_d=function(){return Ie},wd=function(t,r){var o=Ie;try{return Ie=t,r()}finally{Ie=o}},Pl=function(t,r,o){switch(r){case"input":if(xl(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var a=o[r];if(a!==t&&a.form===t.form){var c=Ks(a);if(!c)throw Error(n(90));Hc(a),xl(a,c)}}}break;case"textarea":qc(t,o);break;case"select":r=o.value,r!=null&&vr(t,!!o.multiple,r,!1)}},id=iu,sd=sr;var qv={usingClientEntryPoint:!1,Events:[Ri,Ir,Ks,nd,rd,iu]},Vi={findFiberByHostInstance:Xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kv={bundleType:Vi.bundleType,version:Vi.version,rendererPackageName:Vi.rendererPackageName,rendererConfig:Vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ud(t),t===null?null:t.stateNode},findFiberByHostInstance:Vi.findFiberByHostInstance||Yv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{Rs=Ao.inject(Kv),Kt=Ao}catch{}}return St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qv,St.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hu(r))throw Error(n(200));return Gv(t,r,null,o)},St.createRoot=function(t,r){if(!hu(t))throw Error(n(299));var o=!1,a="",c=jh;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),r=cu(t,1,!1,null,null,o,!1,a,c),t[sn]=r.current,Ii(t.nodeType===8?t.parentNode:t),new fu(r)},St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=ud(r),t=t===null?null:t.stateNode,t},St.flushSync=function(t){return sr(t)},St.hydrate=function(t,r,o){if(!Do(r))throw Error(n(200));return Oo(null,t,r,!0,o)},St.hydrateRoot=function(t,r,o){if(!hu(t))throw Error(n(405));var a=o!=null&&o.hydratedSources||null,c=!1,f="",p=jh;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),r=Ah(r,null,t,1,o??null,c,!1,f,p),t[sn]=r.current,Ii(t),a)for(t=0;t<a.length;t++)o=a[t],c=o._getVersion,c=c(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,c]:r.mutableSourceEagerHydrationData.push(o,c);return new Mo(r)},St.render=function(t,r,o){if(!Do(r))throw Error(n(200));return Oo(null,t,r,!1,o)},St.unmountComponentAtNode=function(t){if(!Do(t))throw Error(n(40));return t._reactRootContainer?(sr(function(){Oo(null,null,t,!1,function(){t._reactRootContainer=null,t[sn]=null})}),!0):!1},St.unstable_batchedUpdates=iu,St.unstable_renderSubtreeIntoContainer=function(t,r,o,a){if(!Do(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Oo(t,r,o,!1,a)},St.version="18.3.1-next-f1338f8080-20240426",St}var Gh;function i_(){if(Gh)return gu.exports;Gh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gu.exports=r_(),gu.exports}var Yh;function s_(){if(Yh)return jo;Yh=1;var i=i_();return jo.createRoot=i.createRoot,jo.hydrateRoot=i.hydrateRoot,jo}var o_=s_(),K=oc(),_u,Qh;function l_(){if(Qh)return _u;Qh=1;var i="Expected a function",e=NaN,n="[object Symbol]",s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,h=parseInt,m=typeof Lo=="object"&&Lo&&Lo.Object===Object&&Lo,g=typeof self=="object"&&self&&self.Object===Object&&self,C=m||g||Function("return this")(),_=Object.prototype,w=_.toString,I=Math.max,b=Math.min,D=function(){return C.Date.now()};function L(X,se,_e){var $,ae,ue,ve,q,xe,ze=0,we=!1,Ne=!1,me=!0;if(typeof X!="function")throw new TypeError(i);se=te(se)||0,W(_e)&&(we=!!_e.leading,Ne="maxWait"in _e,ue=Ne?I(te(_e.maxWait)||0,se):ue,me="trailing"in _e?!!_e.trailing:me);function z(ie){var de=$,Te=ae;return $=ae=void 0,ze=ie,ve=X.apply(Te,de),ve}function J(ie){return ze=ie,q=setTimeout(P,se),we?z(ie):ve}function B(ie){var de=ie-xe,Te=ie-ze,at=se-de;return Ne?b(at,ue-Te):at}function E(ie){var de=ie-xe,Te=ie-ze;return xe===void 0||de>=se||de<0||Ne&&Te>=ue}function P(){var ie=D();if(E(ie))return oe(ie);q=setTimeout(P,B(ie))}function oe(ie){return q=void 0,me&&$?z(ie):($=ae=void 0,ve)}function ce(){q!==void 0&&clearTimeout(q),ze=0,$=xe=ae=q=void 0}function Ce(){return q===void 0?ve:oe(D())}function ge(){var ie=D(),de=E(ie);if($=arguments,ae=this,xe=ie,de){if(q===void 0)return J(xe);if(Ne)return q=setTimeout(P,se),z(xe)}return q===void 0&&(q=setTimeout(P,se)),ve}return ge.cancel=ce,ge.flush=Ce,ge}function W(X){var se=typeof X;return!!X&&(se=="object"||se=="function")}function F(X){return!!X&&typeof X=="object"}function V(X){return typeof X=="symbol"||F(X)&&w.call(X)==n}function te(X){if(typeof X=="number")return X;if(V(X))return e;if(W(X)){var se=typeof X.valueOf=="function"?X.valueOf():X;X=W(se)?se+"":se}if(typeof X!="string")return X===0?X:+X;X=X.replace(s,"");var _e=u.test(X);return _e||d.test(X)?h(X.slice(2),_e?2:8):l.test(X)?e:+X}return _u=L,_u}l_();var tm=typeof window<"u"?K.useLayoutEffect:K.useEffect;function qh(i,e,n,s){const l=K.useRef(e);tm(()=>{l.current=e},[e]),K.useEffect(()=>{const u=window;if(!(u&&u.addEventListener))return;const d=h=>{l.current(h)};return u.addEventListener(i,d,s),()=>{u.removeEventListener(i,d,s)}},[i,n,s])}function Kh(i){const e=K.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return tm(()=>{e.current=i},[i]),K.useCallback((...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[e])}var wu=typeof window>"u";function Pe(i,e,n={}){const{initializeWithValue:s=!0}=n,l=K.useCallback(w=>n.serializer?n.serializer(w):JSON.stringify(w),[n]),u=K.useCallback(w=>{if(n.deserializer)return n.deserializer(w);if(w==="undefined")return;const I=e instanceof Function?e():e;let b;try{b=JSON.parse(w)}catch(D){return console.error("Error parsing JSON:",D),I}return b},[n,e]),d=K.useCallback(()=>{const w=e instanceof Function?e():e;if(wu)return w;try{const I=window.localStorage.getItem(i);return I?u(I):w}catch(I){return console.warn(`Error reading localStorage key “${i}”:`,I),w}},[e,i,u]),[h,m]=K.useState(()=>s?d():e instanceof Function?e():e),g=Kh(w=>{wu&&console.warn(`Tried setting localStorage key “${i}” even though environment is not a client`);try{const I=w instanceof Function?w(d()):w;window.localStorage.setItem(i,l(I)),m(I),window.dispatchEvent(new StorageEvent("local-storage",{key:i}))}catch(I){console.warn(`Error setting localStorage key “${i}”:`,I)}}),C=Kh(()=>{wu&&console.warn(`Tried removing localStorage key “${i}” even though environment is not a client`);const w=e instanceof Function?e():e;window.localStorage.removeItem(i),m(w),window.dispatchEvent(new StorageEvent("local-storage",{key:i}))});K.useEffect(()=>{m(d())},[i]);const _=K.useCallback(w=>{w.key&&w.key!==i||m(d())},[i,d]);return qh("storage",_),qh("local-storage",_),[h,g,C]}const nm=6048e5,a_=864e5,rm=6e4,im=36e5,Xh=Symbol.for("constructDateFrom");function Ft(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&Xh in i?i[Xh](e):i instanceof Date?new i.constructor(e):new Date(e)}function it(i,e){return Ft(e||i,i)}function u_(i,e,n){const s=it(i,n==null?void 0:n.in);return isNaN(e)?Ft(i,NaN):(s.setDate(s.getDate()+e),s)}function lc(i,e,n){const s=it(i,n==null?void 0:n.in);if(isNaN(e))return Ft(i,NaN);if(!e)return s;const l=s.getDate(),u=Ft(i,s.getTime());u.setMonth(s.getMonth()+e+1,0);const d=u.getDate();return l>=d?u:(s.setFullYear(u.getFullYear(),u.getMonth(),l),s)}let c_={};function ul(){return c_}function Gn(i,e){var h,m,g,C;const n=ul(),s=(e==null?void 0:e.weekStartsOn)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((C=(g=n.locale)==null?void 0:g.options)==null?void 0:C.weekStartsOn)??0,l=it(i,e==null?void 0:e.in),u=l.getDay(),d=(u<s?7:0)+u-s;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function Uo(i,e){return Gn(i,{...e,weekStartsOn:1})}function sm(i,e){const n=it(i,e==null?void 0:e.in),s=n.getFullYear(),l=Ft(n,0);l.setFullYear(s+1,0,4),l.setHours(0,0,0,0);const u=Uo(l),d=Ft(n,0);d.setFullYear(s,0,4),d.setHours(0,0,0,0);const h=Uo(d);return n.getTime()>=u.getTime()?s+1:n.getTime()>=h.getTime()?s:s-1}function Jh(i){const e=it(i),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+i-+n}function ys(i,...e){const n=Ft.bind(null,i||e.find(s=>typeof s=="object"));return e.map(n)}function $o(i,e){const n=it(i,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function om(i,e,n){const[s,l]=ys(n==null?void 0:n.in,i,e),u=$o(s),d=$o(l),h=+u-Jh(u),m=+d-Jh(d);return Math.round((h-m)/a_)}function d_(i,e){const n=sm(i,e),s=Ft(i,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Uo(s)}function Fu(i,e,n){const[s,l]=ys(n==null?void 0:n.in,i,e);return+$o(s)==+$o(l)}function f_(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function h_(i){return!(!f_(i)&&typeof i!="number"||isNaN(+it(i)))}function p_(i,e){const n=it(i,e==null?void 0:e.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function m_(i,e){const n=it(i,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function g_(i,e){const n=it(i,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function y_(i,e){const n=e==null?void 0:e.weekStartsOn,s=it(i,e==null?void 0:e.in),l=s.getDay(),u=(l<n?-7:0)+6-(l-n);return s.setDate(s.getDate()+u),s.setHours(23,59,59,999),s}const v_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},__=(i,e,n)=>{let s;const l=v_[i];return typeof l=="string"?s=l:e===1?s=l.one:s=l.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Gr(i){return(e={})=>{const n=e.width?String(e.width):i.defaultWidth;return i.formats[n]||i.formats[i.defaultWidth]}}const w_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},C_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},x_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},S_={date:Gr({formats:w_,defaultWidth:"full"}),time:Gr({formats:C_,defaultWidth:"full"}),dateTime:Gr({formats:x_,defaultWidth:"full"})},E_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},k_=(i,e,n,s)=>E_[i];function tn(i){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let l;if(s==="formatting"&&i.formattingValues){const d=i.defaultFormattingWidth||i.defaultWidth,h=n!=null&&n.width?String(n.width):d;l=i.formattingValues[h]||i.formattingValues[d]}else{const d=i.defaultWidth,h=n!=null&&n.width?String(n.width):i.defaultWidth;l=i.values[h]||i.values[d]}const u=i.argumentCallback?i.argumentCallback(e):e;return l[u]}}const N_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},T_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},I_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},b_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},P_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},R_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},M_=(i,e)=>{const n=Number(i),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},D_={ordinalNumber:M_,era:tn({values:N_,defaultWidth:"wide"}),quarter:tn({values:T_,defaultWidth:"wide",argumentCallback:i=>i-1}),month:tn({values:I_,defaultWidth:"wide"}),day:tn({values:b_,defaultWidth:"wide"}),dayPeriod:tn({values:P_,defaultWidth:"wide",formattingValues:R_,defaultFormattingWidth:"wide"})};function nn(i){return(e,n={})=>{const s=n.width,l=s&&i.matchPatterns[s]||i.matchPatterns[i.defaultMatchWidth],u=e.match(l);if(!u)return null;const d=u[0],h=s&&i.parsePatterns[s]||i.parsePatterns[i.defaultParseWidth],m=Array.isArray(h)?A_(h,_=>_.test(d)):O_(h,_=>_.test(d));let g;g=i.valueCallback?i.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const C=e.slice(d.length);return{value:g,rest:C}}}function O_(i,e){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&e(i[n]))return n}function A_(i,e){for(let n=0;n<i.length;n++)if(e(i[n]))return n}function lm(i){return(e,n={})=>{const s=e.match(i.matchPattern);if(!s)return null;const l=s[0],u=e.match(i.parsePattern);if(!u)return null;let d=i.valueCallback?i.valueCallback(u[0]):u[0];d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(l.length);return{value:d,rest:h}}}const L_=/^(\d+)(th|st|nd|rd)?/i,j_=/\d+/i,F_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},z_={any:[/^b/i,/^(a|c)/i]},W_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},B_={any:[/1/i,/2/i,/3/i,/4/i]},U_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},H_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},V_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Y_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Q_={ordinalNumber:lm({matchPattern:L_,parsePattern:j_,valueCallback:i=>parseInt(i,10)}),era:nn({matchPatterns:F_,defaultMatchWidth:"wide",parsePatterns:z_,defaultParseWidth:"any"}),quarter:nn({matchPatterns:W_,defaultMatchWidth:"wide",parsePatterns:B_,defaultParseWidth:"any",valueCallback:i=>i+1}),month:nn({matchPatterns:U_,defaultMatchWidth:"wide",parsePatterns:$_,defaultParseWidth:"any"}),day:nn({matchPatterns:H_,defaultMatchWidth:"wide",parsePatterns:V_,defaultParseWidth:"any"}),dayPeriod:nn({matchPatterns:G_,defaultMatchWidth:"any",parsePatterns:Y_,defaultParseWidth:"any"})},q_={code:"en-US",formatDistance:__,formatLong:S_,formatRelative:k_,localize:D_,match:Q_,options:{weekStartsOn:0,firstWeekContainsDate:1}};function K_(i,e){const n=it(i,e==null?void 0:e.in);return om(n,g_(n))+1}function X_(i,e){const n=it(i,e==null?void 0:e.in),s=+Uo(n)-+d_(n);return Math.round(s/nm)+1}function am(i,e){var C,_,w,I;const n=it(i,e==null?void 0:e.in),s=n.getFullYear(),l=ul(),u=(e==null?void 0:e.firstWeekContainsDate)??((_=(C=e==null?void 0:e.locale)==null?void 0:C.options)==null?void 0:_.firstWeekContainsDate)??l.firstWeekContainsDate??((I=(w=l.locale)==null?void 0:w.options)==null?void 0:I.firstWeekContainsDate)??1,d=Ft((e==null?void 0:e.in)||i,0);d.setFullYear(s+1,0,u),d.setHours(0,0,0,0);const h=Gn(d,e),m=Ft((e==null?void 0:e.in)||i,0);m.setFullYear(s,0,u),m.setHours(0,0,0,0);const g=Gn(m,e);return+n>=+h?s+1:+n>=+g?s:s-1}function J_(i,e){var h,m,g,C;const n=ul(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((C=(g=n.locale)==null?void 0:g.options)==null?void 0:C.firstWeekContainsDate)??1,l=am(i,e),u=Ft((e==null?void 0:e.in)||i,0);return u.setFullYear(l,0,s),u.setHours(0,0,0,0),Gn(u,e)}function Z_(i,e){const n=it(i,e==null?void 0:e.in),s=+Gn(n,e)-+J_(n,e);return Math.round(s/nm)+1}function be(i,e){const n=i<0?"-":"",s=Math.abs(i).toString().padStart(e,"0");return n+s}const zn={y(i,e){const n=i.getFullYear(),s=n>0?n:1-n;return be(e==="yy"?s%100:s,e.length)},M(i,e){const n=i.getMonth();return e==="M"?String(n+1):be(n+1,2)},d(i,e){return be(i.getDate(),e.length)},a(i,e){const n=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(i,e){return be(i.getHours()%12||12,e.length)},H(i,e){return be(i.getHours(),e.length)},m(i,e){return be(i.getMinutes(),e.length)},s(i,e){return be(i.getSeconds(),e.length)},S(i,e){const n=e.length,s=i.getMilliseconds(),l=Math.trunc(s*Math.pow(10,n-3));return be(l,e.length)}},$r={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Zh={G:function(i,e,n){const s=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(i,e,n){if(e==="yo"){const s=i.getFullYear(),l=s>0?s:1-s;return n.ordinalNumber(l,{unit:"year"})}return zn.y(i,e)},Y:function(i,e,n,s){const l=am(i,s),u=l>0?l:1-l;if(e==="YY"){const d=u%100;return be(d,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):be(u,e.length)},R:function(i,e){const n=sm(i);return be(n,e.length)},u:function(i,e){const n=i.getFullYear();return be(n,e.length)},Q:function(i,e,n){const s=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return be(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(i,e,n){const s=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return be(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(i,e,n){const s=i.getMonth();switch(e){case"M":case"MM":return zn.M(i,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(i,e,n){const s=i.getMonth();switch(e){case"L":return String(s+1);case"LL":return be(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(i,e,n,s){const l=Z_(i,s);return e==="wo"?n.ordinalNumber(l,{unit:"week"}):be(l,e.length)},I:function(i,e,n){const s=X_(i);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):be(s,e.length)},d:function(i,e,n){return e==="do"?n.ordinalNumber(i.getDate(),{unit:"date"}):zn.d(i,e)},D:function(i,e,n){const s=K_(i);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):be(s,e.length)},E:function(i,e,n){const s=i.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(i,e,n,s){const l=i.getDay(),u=(l-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return be(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(i,e,n,s){const l=i.getDay(),u=(l-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return be(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(i,e,n){const s=i.getDay(),l=s===0?7:s;switch(e){case"i":return String(l);case"ii":return be(l,e.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(i,e,n){const l=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(i,e,n){const s=i.getHours();let l;switch(s===12?l=$r.noon:s===0?l=$r.midnight:l=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(i,e,n){const s=i.getHours();let l;switch(s>=17?l=$r.evening:s>=12?l=$r.afternoon:s>=4?l=$r.morning:l=$r.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(i,e,n){if(e==="ho"){let s=i.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return zn.h(i,e)},H:function(i,e,n){return e==="Ho"?n.ordinalNumber(i.getHours(),{unit:"hour"}):zn.H(i,e)},K:function(i,e,n){const s=i.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):be(s,e.length)},k:function(i,e,n){let s=i.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):be(s,e.length)},m:function(i,e,n){return e==="mo"?n.ordinalNumber(i.getMinutes(),{unit:"minute"}):zn.m(i,e)},s:function(i,e,n){return e==="so"?n.ordinalNumber(i.getSeconds(),{unit:"second"}):zn.s(i,e)},S:function(i,e){return zn.S(i,e)},X:function(i,e,n){const s=i.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return tp(s);case"XXXX":case"XX":return ur(s);case"XXXXX":case"XXX":default:return ur(s,":")}},x:function(i,e,n){const s=i.getTimezoneOffset();switch(e){case"x":return tp(s);case"xxxx":case"xx":return ur(s);case"xxxxx":case"xxx":default:return ur(s,":")}},O:function(i,e,n){const s=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ep(s,":");case"OOOO":default:return"GMT"+ur(s,":")}},z:function(i,e,n){const s=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ep(s,":");case"zzzz":default:return"GMT"+ur(s,":")}},t:function(i,e,n){const s=Math.trunc(+i/1e3);return be(s,e.length)},T:function(i,e,n){return be(+i,e.length)}};function ep(i,e=""){const n=i>0?"-":"+",s=Math.abs(i),l=Math.trunc(s/60),u=s%60;return u===0?n+String(l):n+String(l)+e+be(u,2)}function tp(i,e){return i%60===0?(i>0?"-":"+")+be(Math.abs(i)/60,2):ur(i,e)}function ur(i,e=""){const n=i>0?"-":"+",s=Math.abs(i),l=be(Math.trunc(s/60),2),u=be(s%60,2);return n+l+e+u}const np=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},um=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},e0=(i,e)=>{const n=i.match(/(P+)(p+)?/)||[],s=n[1],l=n[2];if(!l)return np(i,e);let u;switch(s){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",np(s,e)).replace("{{time}}",um(l,e))},t0={p:um,P:e0},n0=/^D+$/,r0=/^Y+$/,i0=["D","DD","YY","YYYY"];function s0(i){return n0.test(i)}function o0(i){return r0.test(i)}function l0(i,e,n){const s=a0(i,e,n);if(console.warn(s),i0.includes(i))throw new RangeError(s)}function a0(i,e,n){const s=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const u0=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c0=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,d0=/^'([^]*?)'?$/,f0=/''/g,h0=/[a-zA-Z]/;function Ho(i,e,n){var C,_,w,I,b,D,L,W;const s=ul(),l=(n==null?void 0:n.locale)??s.locale??q_,u=(n==null?void 0:n.firstWeekContainsDate)??((_=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:_.firstWeekContainsDate)??s.firstWeekContainsDate??((I=(w=s.locale)==null?void 0:w.options)==null?void 0:I.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((D=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:D.weekStartsOn)??s.weekStartsOn??((W=(L=s.locale)==null?void 0:L.options)==null?void 0:W.weekStartsOn)??0,h=it(i,n==null?void 0:n.in);if(!h_(h))throw new RangeError("Invalid time value");let m=e.match(c0).map(F=>{const V=F[0];if(V==="p"||V==="P"){const te=t0[V];return te(F,l.formatLong)}return F}).join("").match(u0).map(F=>{if(F==="''")return{isToken:!1,value:"'"};const V=F[0];if(V==="'")return{isToken:!1,value:p0(F)};if(Zh[V])return{isToken:!0,value:F};if(V.match(h0))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");return{isToken:!1,value:F}});l.localize.preprocessor&&(m=l.localize.preprocessor(h,m));const g={firstWeekContainsDate:u,weekStartsOn:d,locale:l};return m.map(F=>{if(!F.isToken)return F.value;const V=F.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&o0(V)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&s0(V))&&l0(V,e,String(i));const te=Zh[V[0]];return te(h,V,l.localize,g)}).join("")}function p0(i){const e=i.match(d0);return e?e[1].replace(f0,"'"):i}function rp(i,e,n){const[s,l]=ys(n==null?void 0:n.in,i,e);return+Gn(s,n)==+Gn(l,n)}function ac(i,e,n){const[s,l]=ys(n==null?void 0:n.in,i,e);return s.getFullYear()===l.getFullYear()&&s.getMonth()===l.getMonth()}function m0(i,e,n){const[s,l]=ys(n==null?void 0:n.in,i,e);return s.getFullYear()===l.getFullYear()}function g0(i,e){const n=()=>Ft(e==null?void 0:e.in,NaN),l=w0(i);let u;if(l.date){const g=C0(l.date,2);u=x0(g.restDateString,g.year)}if(!u||isNaN(+u))return n();const d=+u;let h=0,m;if(l.time&&(h=S0(l.time),isNaN(h)))return n();if(l.timezone){if(m=E0(l.timezone),isNaN(m))return n()}else{const g=new Date(d+h),C=it(0,e==null?void 0:e.in);return C.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),C.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),C}return it(d+h+m,e==null?void 0:e.in)}const Fo={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},y0=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,v0=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_0=/^([+-])(\d{2})(?::?(\d{2}))?$/;function w0(i){const e={},n=i.split(Fo.dateTimeDelimiter);let s;if(n.length>2)return e;if(/:/.test(n[0])?s=n[0]:(e.date=n[0],s=n[1],Fo.timeZoneDelimiter.test(e.date)&&(e.date=i.split(Fo.timeZoneDelimiter)[0],s=i.substr(e.date.length,i.length))),s){const l=Fo.timezone.exec(s);l?(e.time=s.replace(l[1],""),e.timezone=l[1]):e.time=s}return e}function C0(i,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=i.match(n);if(!s)return{year:NaN,restDateString:""};const l=s[1]?parseInt(s[1]):null,u=s[2]?parseInt(s[2]):null;return{year:u===null?l:u*100,restDateString:i.slice((s[1]||s[2]).length)}}function x0(i,e){if(e===null)return new Date(NaN);const n=i.match(y0);if(!n)return new Date(NaN);const s=!!n[4],l=Yi(n[1]),u=Yi(n[2])-1,d=Yi(n[3]),h=Yi(n[4]),m=Yi(n[5])-1;if(s)return b0(e,h,m)?k0(e,h,m):new Date(NaN);{const g=new Date(0);return!T0(e,u,d)||!I0(e,l)?new Date(NaN):(g.setUTCFullYear(e,u,Math.max(l,d)),g)}}function Yi(i){return i?parseInt(i):1}function S0(i){const e=i.match(v0);if(!e)return NaN;const n=Cu(e[1]),s=Cu(e[2]),l=Cu(e[3]);return P0(n,s,l)?n*im+s*rm+l*1e3:NaN}function Cu(i){return i&&parseFloat(i.replace(",","."))||0}function E0(i){if(i==="Z")return 0;const e=i.match(_0);if(!e)return 0;const n=e[1]==="+"?-1:1,s=parseInt(e[2]),l=e[3]&&parseInt(e[3])||0;return R0(s,l)?n*(s*im+l*rm):NaN}function k0(i,e,n){const s=new Date(0);s.setUTCFullYear(i,0,4);const l=s.getUTCDay()||7,u=(e-1)*7+n+1-l;return s.setUTCDate(s.getUTCDate()+u),s}const N0=[31,null,31,30,31,30,31,31,30,31,30,31];function cm(i){return i%400===0||i%4===0&&i%100!==0}function T0(i,e,n){return e>=0&&e<=11&&n>=1&&n<=(N0[e]||(cm(i)?29:28))}function I0(i,e){return e>=1&&e<=(cm(i)?366:365)}function b0(i,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function P0(i,e,n){return i===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&i>=0&&i<25}function R0(i,e){return e>=0&&e<=59}function dm(i,e,n){return lc(i,-e,n)}function Qi(i,e){if(i.one!==void 0&&e===1)return i.one;const n=e%10,s=e%100;return n===1&&s!==11?i.singularNominative.replace("{{count}}",String(e)):n>=2&&n<=4&&(s<10||s>20)?i.singularGenitive.replace("{{count}}",String(e)):i.pluralGenitive.replace("{{count}}",String(e))}function gt(i){return(e,n)=>n!=null&&n.addSuffix?n.comparison&&n.comparison>0?i.future?Qi(i.future,e):"через "+Qi(i.regular,e):i.past?Qi(i.past,e):Qi(i.regular,e)+" назад":Qi(i.regular,e)}const M0={lessThanXSeconds:gt({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:gt({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:(i,e)=>e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"через полминуты":"полминуты назад":"полминуты",lessThanXMinutes:gt({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:gt({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:gt({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:gt({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:gt({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:gt({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:gt({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:gt({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:gt({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:gt({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:gt({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:gt({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:gt({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},D0=(i,e,n)=>M0[i](e,n),O0={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},A0={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},L0={any:"{{date}}, {{time}}"},j0={date:Gr({formats:O0,defaultWidth:"full"}),time:Gr({formats:A0,defaultWidth:"full"}),dateTime:Gr({formats:L0,defaultWidth:"any"})},uc=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function F0(i){const e=uc[i];switch(i){case 0:return"'в прошлое "+e+" в' p";case 1:case 2:case 4:return"'в прошлый "+e+" в' p";case 3:case 5:case 6:return"'в прошлую "+e+" в' p"}}function ip(i){const e=uc[i];return i===2?"'во "+e+" в' p":"'в "+e+" в' p"}function z0(i){const e=uc[i];switch(i){case 0:return"'в следующее "+e+" в' p";case 1:case 2:case 4:return"'в следующий "+e+" в' p";case 3:case 5:case 6:return"'в следующую "+e+" в' p"}}const W0={lastWeek:(i,e,n)=>{const s=i.getDay();return rp(i,e,n)?ip(s):F0(s)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:(i,e,n)=>{const s=i.getDay();return rp(i,e,n)?ip(s):z0(s)},other:"P"},B0=(i,e,n,s)=>{const l=W0[i];return typeof l=="function"?l(e,n,s):l},U0={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},$0={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},H0={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},V0={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},G0={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},Y0={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},Q0={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},q0=(i,e)=>{const n=Number(i),s=e==null?void 0:e.unit;let l;return s==="date"?l="-е":s==="week"||s==="minute"||s==="second"?l="-я":l="-й",n+l},K0={ordinalNumber:q0,era:tn({values:U0,defaultWidth:"wide"}),quarter:tn({values:$0,defaultWidth:"wide",argumentCallback:i=>i-1}),month:tn({values:H0,defaultWidth:"wide",formattingValues:V0,defaultFormattingWidth:"wide"}),day:tn({values:G0,defaultWidth:"wide"}),dayPeriod:tn({values:Y0,defaultWidth:"any",formattingValues:Q0,defaultFormattingWidth:"wide"})},X0=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,J0=/\d+/i,Z0={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},ew={any:[/^д/i,/^н/i]},tw={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},nw={any:[/1/i,/2/i,/3/i,/4/i]},rw={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},iw={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},sw={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},ow={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},lw={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},aw={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},uw={ordinalNumber:lm({matchPattern:X0,parsePattern:J0,valueCallback:i=>parseInt(i,10)}),era:nn({matchPatterns:Z0,defaultMatchWidth:"wide",parsePatterns:ew,defaultParseWidth:"any"}),quarter:nn({matchPatterns:tw,defaultMatchWidth:"wide",parsePatterns:nw,defaultParseWidth:"any",valueCallback:i=>i+1}),month:nn({matchPatterns:rw,defaultMatchWidth:"wide",parsePatterns:iw,defaultParseWidth:"any"}),day:nn({matchPatterns:sw,defaultMatchWidth:"wide",parsePatterns:ow,defaultParseWidth:"any"}),dayPeriod:nn({matchPatterns:lw,defaultMatchWidth:"wide",parsePatterns:aw,defaultParseWidth:"any"})},cc={code:"ru",formatDistance:D0,formatLong:j0,formatRelative:B0,localize:K0,match:uw,options:{weekStartsOn:1,firstWeekContainsDate:1}};function kt({title:i,setModal:e,node:n,subModal:s}){return y.jsx("div",{className:"fixed p-4 bg-black/50 backdrop-blur inset-0 z-10",children:y.jsxs("div",{className:`${s&&"mt-2 mx-2"} bg-white dark:bg-neutral-800 dark:ring-2 dark:ring-neutral-700 dark:text-white p-4 rounded-xl max-w-lg mx-auto`,children:[y.jsxs("div",{className:"flex gap-4 justify-between items-start",children:[y.jsx("h3",{children:i}),y.jsx("button",{className:"btn_1 dark:!bg-black rotate-45",onClick:()=>e(!1),children:"+"})]}),y.jsx("div",{className:"pt-4",children:n})]})})}const sp=["#EA4335","#FFB705","#E65100","#34A853","#4285F4","#000"],cw=["Зарплата","Инвестиции","Подарок","Другое"],dw=["Аптека","Аренда","Дом","Другое","Заправка","Кафе","Одежда","Платежи","Подарки","Продукты","Редкое","Связь","Учеба","Школа"],zu=[{id:"1",title:"грн",exchangeRate:1},{id:"2",title:"pln",exchangeRate:1},{id:"3",title:"€",exchangeRate:1},{id:"4",title:"$",exchangeRate:1}],lt=[];for(let i=0;i<256;++i)lt.push((i+256).toString(16).slice(1));function fw(i,e=0){return(lt[i[e+0]]+lt[i[e+1]]+lt[i[e+2]]+lt[i[e+3]]+"-"+lt[i[e+4]]+lt[i[e+5]]+"-"+lt[i[e+6]]+lt[i[e+7]]+"-"+lt[i[e+8]]+lt[i[e+9]]+"-"+lt[i[e+10]]+lt[i[e+11]]+lt[i[e+12]]+lt[i[e+13]]+lt[i[e+14]]+lt[i[e+15]]).toLowerCase()}let xu;const hw=new Uint8Array(16);function pw(){if(!xu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");xu=crypto.getRandomValues.bind(crypto)}return xu(hw)}const mw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),op={randomUUID:mw};function fm(i,e,n){if(op.randomUUID&&!e&&!i)return op.randomUUID();i=i||{};const s=i.random||(i.rng||pw)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,fw(s)}function Vo({title:i,dascription:e,onClose:n,onConfirm:s}){return y.jsx("div",{className:"fixed flex items-center p-6 bg-black/50 backdrop-blur inset-0 z-10",children:y.jsxs("div",{className:"bg-white dark:bg-neutral-700 dark:text-white p-4 rounded-xl max-w-lg mx-auto",children:[y.jsx("h3",{className:"text-center",children:i}),y.jsx("p",{className:"mt-2 text-neutral-500 dark:text-neutral-200 text-center",children:e}),y.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[y.jsx("button",{className:"btn_2 border border-[#EA4335] text-[#EA4335]",onClick:()=>s(),children:"Подтвердить"}),y.jsx("button",{className:"btn_2",onClick:()=>n(!1),children:"Отменить"})]})]})})}function hm({setModal:i,editMode:e,account:n}){const[s]=Pe("localMainCurrency",""),[l,u]=Pe("localAccounts",[]),[d,h]=K.useState(n?n.title:""),[m,g]=K.useState(n?n.currency:""),[C,_]=K.useState(n?n.initialBalance:""),[w,I]=K.useState(n?n.color:sp[0]),b=()=>{const F={id:e&&n?n.id:fm(),title:d,currency:m,color:w,initialBalance:Number(C)},V=l.findIndex(te=>te.id===F.id);if(V>-1){const te=[...l];te[V]=F,u(te),i(!1)}else u([...l,F]),i(!1)},D=F=>{const V=l.filter(te=>te.id!==F);u(V)},[L,W]=K.useState(!1);return y.jsx(y.Fragment,{children:s?y.jsxs(y.Fragment,{children:[L&&y.jsx(Vo,{title:"Удаление счета",dascription:"Вы действительно хотите удалить счет?",onClose:()=>W(!1),onConfirm:()=>{i(!1),n&&D(n.id)}}),y.jsxs("div",{className:"flex gap-2 items-end",children:[y.jsxs("div",{className:"w-3/4",children:[y.jsx("h3",{children:"Название счета"}),y.jsx("input",{type:"text",placeholder:"Название",className:"input text-lg mt-1",value:d,onChange:F=>h(F.target.value)})]}),y.jsxs("div",{children:[y.jsx("p",{children:"Начальный баланс"}),y.jsx("input",{type:"number",placeholder:"Сумма",className:"input text-lg mt-1",value:C,onChange:F=>_(F.target.value)})]})]}),y.jsx("p",{className:"mt-4",children:"Валюта счета"}),y.jsx("div",{className:"mt-1 grid grid-cols-4 gap-4",children:zu.map(({id:F,title:V})=>y.jsx("button",{className:`${m===V?"ring-2 ring-neutral-500":""} btn_2`,onClick:()=>g(V),children:V},F))}),y.jsx("p",{className:"mt-4",children:"Цвет"}),y.jsx("div",{className:"mt-1 flex justify-between",children:sp.map(F=>y.jsx("button",{style:{backgroundColor:F},className:`${w===F?"scale-[119%]":""} w-10 h-10 aspect-square px-4 rounded-full transition-all`,onClick:()=>I(F)},F))}),y.jsxs("div",{className:"mt-6 flex gap-4 justify-end",children:[e&&y.jsx("button",{className:"btn_2 border border-[#EA4335] text-[#EA4335]",onClick:()=>W(!0),disabled:!d||!m,children:"Удалить"}),y.jsx("button",{className:"btn_2",onClick:b,disabled:!d||!m,children:e?"Изменить":"Сохранить"})]})]}):"Сначала выберите основную валюту в настройках"})}function gw({account:i}){const[e,n]=K.useState(!1),[s]=Pe("localTransactions",[]),[l]=Pe("localExpensesTransactions",[]),u=[...s,...l],h=((m,g)=>m.filter(C=>C.accountId===g).reduce((C,_)=>C+_.amount,0))(u,i.id);return y.jsxs(y.Fragment,{children:[e&&y.jsx(kt,{title:"Счет",setModal:n,node:y.jsx(hm,{editMode:!0,account:i,setModal:n})}),y.jsx("div",{style:{backgroundColor:i.color},onClick:()=>n(!0),className:"rounded-lg p-2 w-full flex justify-between items-start text-white font-aptosSemiBold cursor-pointer",children:y.jsxs("div",{children:[y.jsxs("p",{className:"text-xs",children:[i.title,", ",y.jsx("span",{children:i.currency})]}),y.jsxs("p",{className:"text-lg font-aptosSemiBold",children:[i.initialBalance+h," ",y.jsx("span",{className:"text-xs",children:i.currency})]})]})})]})}function yw(){const[i,e]=K.useState(!1),[n]=Pe("localAccounts",[]);return y.jsxs(y.Fragment,{children:[i&&y.jsx(kt,{title:"Добавить счет",setModal:e,node:y.jsx(hm,{setModal:e})}),y.jsxs("section",{children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsx("h3",{children:"Счета"}),y.jsx("button",{className:"btn_1",onClick:()=>e(!0),children:"+"})]}),n.length>0?y.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2 items-center",children:n.map(s=>y.jsx(gw,{account:s},s.id))}):y.jsx("p",{className:"text-neutral-500",children:"Добавьте первый счет"})]})]})}const vw=()=>{const[i,e]=K.useState(!1),n=()=>{e(s=>!s)};return K.useEffect(()=>{const s=localStorage.getItem("theme");if(s)e(s==="dark");else{const l=window.matchMedia("(prefers-color-scheme: dark)").matches;e(l)}},[]),K.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),l=u=>{e(u.matches)};return s.addEventListener("change",l),()=>{s.removeEventListener("change",l)}},[]),K.useEffect(()=>{i?(document.body.classList.add("dark"),localStorage.setItem("theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("theme","light"))},[i]),{isDarkMode:i,toggleDarkMode:n}};function _w({}){const{isDarkMode:i,toggleDarkMode:e}=vw();return y.jsx("button",{onClick:e,className:"p-2 bg-gray-200 dark:bg-black text-black dark:text-white px-4 h-10 rounded-lg leading-none mt-4",children:i?"Светлая тема":"Темная тема"})}var lp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(i,e){if(!i)throw ti(e)},ti=function(i){return new Error("Firebase Database ("+pm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},ww=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const l=i[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[n++],d=i[n++],h=i[n++],m=((l&7)<<18|(u&63)<<12|(d&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[n++],d=i[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},dc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const u=i[l],d=l+1<i.length,h=d?i[l+1]:0,m=l+2<i.length,g=m?i[l+2]:0,C=u>>2,_=(u&3)<<4|h>>4;let w=(h&15)<<2|g>>6,I=g&63;m||(I=64,d||(w=64)),s.push(n[C],n[_],n[w],n[I])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(mm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):ww(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const u=n[i.charAt(l++)],h=l<i.length?n[i.charAt(l)]:0;++l;const g=l<i.length?n[i.charAt(l)]:64;++l;const _=l<i.length?n[i.charAt(l)]:64;if(++l,u==null||h==null||g==null||_==null)throw new Cw;const w=u<<2|h>>4;if(s.push(w),g!==64){const I=h<<4&240|g>>2;if(s.push(I),_!==64){const b=g<<6&192|_;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Cw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gm=function(i){const e=mm(i);return dc.encodeByteArray(e,!0)},Go=function(i){return gm(i).replace(/\./g,"")},Wu=function(i){try{return dc.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(i){return ym(void 0,i)}function ym(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Sw(n)||(i[n]=ym(i[n],e[n]));return i}function Sw(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=()=>Ew().__FIREBASE_DEFAULTS__,Nw=()=>{if(typeof process>"u"||typeof lp>"u")return;const i=lp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Tw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Wu(i[1]);return e&&JSON.parse(e)},vm=()=>{try{return kw()||Nw()||Tw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Iw=i=>{var e,n;return(n=(e=vm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},bw=i=>{const e=Iw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},_m=()=>{var i;return(i=vm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Go(JSON.stringify(n)),Go(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rw())}function Mw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Cm(){return pm.NODE_ADMIN===!0}function Dw(){try{return typeof indexedDB=="object"}catch{return!1}}function Ow(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="FirebaseError";class vs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Aw,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xm.prototype.create)}}class xm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?Lw(u,s):"Error",h=`${this.serviceName}: ${d} (${l}).`;return new vs(l,h,s)}}function Lw(i,e){return i.replace(jw,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const jw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(i){return JSON.parse(i)}function Ke(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=function(i){let e={},n={},s={},l="";try{const u=i.split(".");e=os(Wu(u[0])||""),n=os(Wu(u[1])||""),l=u[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:l}},Fw=function(i){const e=Sm(i),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},zw=function(i){const e=Sm(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Xr(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function ap(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Yo(i,e,n){const s={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=e.call(n,i[l],l,i));return s}function Bu(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=i[l],d=e[l];if(up(u)&&up(d)){if(!Bu(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function up(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)s[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)s[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){const w=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(w<<1|w>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],d=this.chain_[2],h=this.chain_[3],m=this.chain_[4],g,C;for(let _=0;_<80;_++){_<40?_<20?(g=h^u&(d^h),C=1518500249):(g=u^d^h,C=1859775393):_<60?(g=u&d|h&(u|d),C=2400959708):(g=u^d^h,C=3395469782);const w=(l<<5|l>>>27)+g+m+C+s[_]&4294967295;m=h,h=d,d=(u<<30|u>>>2)&4294967295,u=l,l=w}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let l=0;const u=this.buf_;let d=this.inbuf_;for(;l<n;){if(d===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<n;)if(u[d]=e.charCodeAt(l),++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}else for(;l<n;)if(u[d]=e[l],++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}this.inbuf_=d,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function fc(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,j(s<i.length,"Surrogate pair missing trail surrogate.");const d=i.charCodeAt(s)-56320;l=65536+(u<<10)+d}l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):l<65536?(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},dl=function(i){let e=0;for(let n=0;n<i.length;n++){const s=i.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(i){return i&&i._delegate?i._delegate:i}class ls{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new cl;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vw(e))try{this.getOrInitializeService({instanceIdentifier:cr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cr){return this.instances.has(e)}getOptions(e=cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&d.resolve(l)}return l}onInit(e,n){var s;const l=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&e(d,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Hw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=cr){return this.component?this.component.multipleInstances?e:cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hw(i){return i===cr?void 0:i}function Vw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $w(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(De||(De={}));const Yw={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},Qw=De.INFO,qw={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},Kw=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),l=qw[e];if(l)console[l](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=Qw,this._logHandler=Kw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const Xw=(i,e)=>e.some(n=>i instanceof n);let cp,dp;function Jw(){return cp||(cp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zw(){return dp||(dp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const km=new WeakMap,Uu=new WeakMap,Nm=new WeakMap,Su=new WeakMap,hc=new WeakMap;function e1(i){const e=new Promise((n,s)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(Un(i.result)),l()},d=()=>{s(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&km.set(n,i)}).catch(()=>{}),hc.set(e,i),e}function t1(i){if(Uu.has(i))return;const e=new Promise((n,s)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});Uu.set(i,e)}let $u={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Uu.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Nm.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Un(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function n1(i){$u=i($u)}function r1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Eu(this),e,...n);return Nm.set(s,e.sort?e.sort():[e]),Un(s)}:Zw().includes(i)?function(...e){return i.apply(Eu(this),e),Un(km.get(this))}:function(...e){return Un(i.apply(Eu(this),e))}}function i1(i){return typeof i=="function"?r1(i):(i instanceof IDBTransaction&&t1(i),Xw(i,Jw())?new Proxy(i,$u):i)}function Un(i){if(i instanceof IDBRequest)return e1(i);if(Su.has(i))return Su.get(i);const e=i1(i);return e!==i&&(Su.set(i,e),hc.set(e,i)),e}const Eu=i=>hc.get(i);function s1(i,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(i,e),h=Un(d);return s&&d.addEventListener("upgradeneeded",m=>{s(Un(d.result),m.oldVersion,m.newVersion,Un(d.transaction),m)}),n&&d.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{u&&m.addEventListener("close",()=>u()),l&&m.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const o1=["get","getKey","getAll","getAllKeys","count"],l1=["put","add","delete","clear"],ku=new Map;function fp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(ku.get(e))return ku.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=l1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||o1.includes(n)))return;const u=async function(d,...h){const m=this.transaction(d,l?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),l&&m.done]))[0]};return ku.set(e,u),u}n1(i=>({...i,get:(e,n,s)=>fp(e,n)||i.get(e,n,s),has:(e,n)=>!!fp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function u1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hu="@firebase/app",hp="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn=new Em("@firebase/app"),c1="@firebase/app-compat",d1="@firebase/analytics-compat",f1="@firebase/analytics",h1="@firebase/app-check-compat",p1="@firebase/app-check",m1="@firebase/auth",g1="@firebase/auth-compat",y1="@firebase/database",v1="@firebase/data-connect",_1="@firebase/database-compat",w1="@firebase/functions",C1="@firebase/functions-compat",x1="@firebase/installations",S1="@firebase/installations-compat",E1="@firebase/messaging",k1="@firebase/messaging-compat",N1="@firebase/performance",T1="@firebase/performance-compat",I1="@firebase/remote-config",b1="@firebase/remote-config-compat",P1="@firebase/storage",R1="@firebase/storage-compat",M1="@firebase/firestore",D1="@firebase/vertexai",O1="@firebase/firestore-compat",A1="firebase",L1="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu="[DEFAULT]",j1={[Hu]:"fire-core",[c1]:"fire-core-compat",[f1]:"fire-analytics",[d1]:"fire-analytics-compat",[p1]:"fire-app-check",[h1]:"fire-app-check-compat",[m1]:"fire-auth",[g1]:"fire-auth-compat",[y1]:"fire-rtdb",[v1]:"fire-data-connect",[_1]:"fire-rtdb-compat",[w1]:"fire-fn",[C1]:"fire-fn-compat",[x1]:"fire-iid",[S1]:"fire-iid-compat",[E1]:"fire-fcm",[k1]:"fire-fcm-compat",[N1]:"fire-perf",[T1]:"fire-perf-compat",[I1]:"fire-rc",[b1]:"fire-rc-compat",[P1]:"fire-gcs",[R1]:"fire-gcs-compat",[M1]:"fire-fst",[O1]:"fire-fst-compat",[D1]:"fire-vertex","fire-js":"fire-js",[A1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new Map,F1=new Map,Gu=new Map;function pp(i,e){try{i.container.addComponent(e)}catch(n){gn.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function qo(i){const e=i.name;if(Gu.has(e))return gn.debug(`There were multiple attempts to register component ${e}.`),!1;Gu.set(e,i);for(const n of Qo.values())pp(n,i);for(const n of F1.values())pp(n,i);return!0}function z1(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$n=new xm("app","Firebase",W1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=L1;function Tm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Vu,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw $n.create("bad-app-name",{appName:String(l)});if(n||(n=_m()),!n)throw $n.create("no-options");const u=Qo.get(l);if(u){if(Bu(n,u.options)&&Bu(s,u.config))return u;throw $n.create("duplicate-app",{appName:l})}const d=new Gw(l);for(const m of Gu.values())d.addComponent(m);const h=new B1(n,s,d);return Qo.set(l,h),h}function $1(i=Vu){const e=Qo.get(i);if(!e&&i===Vu&&_m())return Tm();if(!e)throw $n.create("no-app",{appName:i});return e}function Yr(i,e,n){var s;let l=(s=j1[i])!==null&&s!==void 0?s:i;n&&(l+=`-${n}`);const u=l.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const h=[`Unable to register library "${l}" with version "${e}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&h.push("and"),d&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gn.warn(h.join(" "));return}qo(new ls(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firebase-heartbeat-database",V1=1,as="firebase-heartbeat-store";let Nu=null;function Im(){return Nu||(Nu=s1(H1,V1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(as)}catch(n){console.warn(n)}}}}).catch(i=>{throw $n.create("idb-open",{originalErrorMessage:i.message})})),Nu}async function G1(i){try{const n=(await Im()).transaction(as),s=await n.objectStore(as).get(bm(i));return await n.done,s}catch(e){if(e instanceof vs)gn.warn(e.message);else{const n=$n.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gn.warn(n.message)}}}async function mp(i,e){try{const s=(await Im()).transaction(as,"readwrite");await s.objectStore(as).put(e,bm(i)),await s.done}catch(n){if(n instanceof vs)gn.warn(n.message);else{const s=$n.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gn.warn(s.message)}}}function bm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=1024,Q1=30*24*60*60*1e3;class q1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=gp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const h=new Date(d.date).valueOf();return Date.now()-h<=Q1}),this._storage.overwrite(this._heartbeatsCache))}catch(s){gn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gp(),{heartbeatsToSend:s,unsentEntries:l}=K1(this._heartbeatsCache.heartbeats),u=Go(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return gn.warn(n),""}}}function gp(){return new Date().toISOString().substring(0,10)}function K1(i,e=Y1){const n=[];let s=i.slice();for(const l of i){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),yp(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),yp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class X1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dw()?Ow().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await G1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return mp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return mp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function yp(i){return Go(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(i){qo(new ls("platform-logger",e=>new a1(e),"PRIVATE")),qo(new ls("heartbeat",e=>new q1(e),"PRIVATE")),Yr(Hu,hp,i),Yr(Hu,hp,"esm2017"),Yr("fire-js","")}J1("");var vp={};const _p="@firebase/database",wp="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm="";function Z1(i){Pm=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ke(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:os(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return vn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new eC(e)}}catch{}return new tC},fr=Rm("localStorage"),nC=Rm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new Em("@firebase/database"),rC=function(){let i=1;return function(){return i++}}(),Mm=function(i){const e=Uw(i),n=new Bw;n.update(e);const s=n.digest();return dc.encodeByteArray(s)},_s=function(...i){let e="";for(let n=0;n<i.length;n++){const s=i[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=_s.apply(null,s):typeof s=="object"?e+=Ke(s):e+=s,e+=" "}return e};let ts=null,Cp=!0;const iC=function(i,e){j(!e,"Can't turn on custom loggers persistently."),Qr.logLevel=De.VERBOSE,ts=Qr.log.bind(Qr)},ht=function(...i){if(Cp===!0&&(Cp=!1,ts===null&&nC.get("logging_enabled")===!0&&iC()),ts){const e=_s.apply(null,i);ts(e)}},ws=function(i){return function(...e){ht(i,...e)}},Yu=function(...i){const e="FIREBASE INTERNAL ERROR: "+_s(...i);Qr.error(e)},yn=function(...i){const e=`FIREBASE FATAL ERROR: ${_s(...i)}`;throw Qr.error(e),new Error(e)},Nt=function(...i){const e="FIREBASE WARNING: "+_s(...i);Qr.warn(e)},sC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Dm=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},oC=function(i){if(document.readyState==="complete")i();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Jr="[MIN_NAME]",pr="[MAX_NAME]",ri=function(i,e){if(i===e)return 0;if(i===Jr||e===pr)return-1;if(e===Jr||i===pr)return 1;{const n=xp(i),s=xp(e);return n!==null?s!==null?n-s===0?i.length-e.length:n-s:-1:s!==null?1:i<e?-1:1}},lC=function(i,e){return i===e?0:i<e?-1:1},qi=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+Ke(e))},pc=function(i){if(typeof i!="object"||i===null)return Ke(i);const e=[];for(const s in i)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Ke(e[s]),n+=":",n+=pc(i[e[s]]);return n+="}",n},Om=function(i,e){const n=i.length;if(n<=e)return[i];const s=[];for(let l=0;l<n;l+=e)l+e>n?s.push(i.substring(l,n)):s.push(i.substring(l,l+e));return s};function Tt(i,e){for(const n in i)i.hasOwnProperty(n)&&e(n,i[n])}const Am=function(i){j(!Dm(i),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let l,u,d,h,m;i===0?(u=0,d=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),s),u=h+s,d=Math.round(i*Math.pow(2,n-h)-Math.pow(2,n))):(u=0,d=Math.round(i/Math.pow(2,1-s-n))));const g=[];for(m=n;m;m-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(m=e;m;m-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(l?1:0),g.reverse();const C=g.join("");let _="";for(m=0;m<64;m+=8){let w=parseInt(C.substr(m,8),2).toString(16);w.length===1&&(w="0"+w),_=_+w}return _.toLowerCase()},aC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},uC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function cC(i,e){let n="Unknown Error";i==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?n="Client doesn't have permission to access the desired data.":i==="unavailable"&&(n="The service is unavailable");const s=new Error(i+" at "+e._path.toString()+": "+n);return s.code=i.toUpperCase(),s}const dC=new RegExp("^-?(0*)\\d{1,10}$"),fC=-2147483648,hC=2147483647,xp=function(i){if(dC.test(i)){const e=Number(i);if(e>=fC&&e<=hC)return e}return null},ii=function(i){try{i()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Nt("Exception was thrown by user callback.",n),e},Math.floor(0))}},pC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ns=function(i,e){const n=setTimeout(i,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Nt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ht("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Nt(e)}}class Bo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Bo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="5",Lm="v",jm="s",Fm="r",zm="f",Wm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Bm="ls",Um="p",Qu="ac",$m="websocket",Hm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n,s,l,u=!1,d="",h=!1,m=!1){this.secure=n,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function yC(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Gm(i,e,n){j(typeof e=="string","typeof type must == string"),j(typeof n=="object","typeof params must == object");let s;if(e===$m)s=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===Hm)s=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);yC(i)&&(n.ns=i.namespace);const l=[];return Tt(n,(u,d)=>{l.push(u+"="+d)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.counters_={}}incrementCounter(e,n=1){vn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return xw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu={},Iu={};function gc(i){const e=i.toString();return Tu[e]||(Tu[e]=new vC),Tu[e]}function _C(i,e){const n=i.toString();return Iu[n]||(Iu[n]=e()),Iu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&ii(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="start",CC="close",xC="pLPCommand",SC="pRTLPCB",Ym="id",Qm="pw",qm="ser",EC="cb",kC="seg",NC="ts",TC="d",IC="dframe",Km=1870,Xm=30,bC=Km-Xm,PC=25e3,RC=3e4;class Vr{constructor(e,n,s,l,u,d,h){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ws(e),this.stats_=gc(n),this.urlFn=m=>(this.appCheckToken&&(m[Qu]=this.appCheckToken),Gm(n,Hm,m))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new wC(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(RC)),oC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yc((...u)=>{const[d,h,m,g,C]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Sp)this.id=h,this.password=m;else if(d===CC)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...u)=>{const[d,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[Sp]="t",s[qm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[EC]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Lm]=mc,this.transportSessionId&&(s[jm]=this.transportSessionId),this.lastSessionId&&(s[Bm]=this.lastSessionId),this.applicationId&&(s[Um]=this.applicationId),this.appCheckToken&&(s[Qu]=this.appCheckToken),typeof location<"u"&&location.hostname&&Wm.test(location.hostname)&&(s[Fm]=zm);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vr.forceAllow_=!0}static forceDisallow(){Vr.forceDisallow_=!0}static isAvailable(){return Vr.forceAllow_?!0:!Vr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!aC()&&!uC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=gm(n),l=Om(s,bC);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[IC]="t",s[Ym]=e,s[Qm]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ke(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class yc{constructor(e,n,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=rC(),window[xC+this.uniqueCallbackIdentifier]=e,window[SC+this.uniqueCallbackIdentifier]=n,this.myIFrame=yc.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){ht("frame writing exception"),h.stack&&ht(h.stack),ht(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ht("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Ym]=this.myID,e[Qm]=this.myPW,e[qm]=this.currentSerial;let n=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Xm+s.length<=Km;){const d=this.pendingSegs.shift();s=s+"&"+kC+l+"="+d.seg+"&"+NC+l+"="+d.ts+"&"+TC+l+"="+d.d,l++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(s,Math.floor(PC)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{ht("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=16384,DC=45e3;let Ko=null;typeof MozWebSocket<"u"?Ko=MozWebSocket:typeof WebSocket<"u"&&(Ko=WebSocket);class Gt{constructor(e,n,s,l,u,d,h){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ws(this.connId),this.stats_=gc(n),this.connURL=Gt.connectionURL_(n,d,h,l,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,l,u){const d={};return d[Lm]=mc,typeof location<"u"&&location.hostname&&Wm.test(location.hostname)&&(d[Fm]=zm),n&&(d[jm]=n),s&&(d[Bm]=s),l&&(d[Qu]=l),u&&(d[Um]=u),Gm(e,$m,d)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fr.set("previous_websocket_failure",!0);try{let s;Cm(),this.mySock=new Ko(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Gt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Ko!==null&&!Gt.forceDisallow_}static previouslyFailed(){return fr.isInMemoryStorage||fr.get("previous_websocket_failure")===!0}markConnectionHealthy(){fr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=os(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(j(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Om(n,MC);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(DC))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Gt.responsesRequiredToBeHealthy=2;Gt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{static get ALL_TRANSPORTS(){return[Vr,Gt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Gt&&Gt.isAvailable();let s=n&&!Gt.previouslyFailed();if(e.webSocketOnly&&(n||Nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Gt];else{const l=this.transports_=[];for(const u of us.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);us.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}us.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=6e4,AC=5e3,LC=10*1024,jC=100*1024,bu="t",Ep="d",FC="s",kp="r",zC="e",Np="o",Tp="a",Ip="n",bp="p",WC="h";class BC{constructor(e,n,s,l,u,d,h,m,g,C){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ws("c:"+this.id+":"),this.transportManager_=new us(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=ns(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>jC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>LC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(bu in e){const n=e[bu];n===Tp?this.upgradeIfSecondaryHealthy_():n===kp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Np&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=qi("t",e),s=qi("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:bp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Tp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ip,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=qi("t",e),s=qi("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=qi(bu,e);if(Ep in e){const s=e[Ep];if(n===WC){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===Ip){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===FC?this.onConnectionShutdown_(s):n===kp?this.onReset_(s):n===zC?Yu("Server Error: "+s):n===Np?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Yu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),mc!==s&&Nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),ns(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(OC))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ns(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(AC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:bp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{put(e,n,s,l){}merge(e,n,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this.allowedEvents_=e,this.listeners_={},j(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const l=this.getInitialEvent(e);l&&n.apply(s,l)}off(e,n,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===n&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){j(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends Zm{static getInstance(){return new Xo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!wm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return j(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=32,Rp=768;class Re{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ke(){return new Re("")}function ye(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Yn(i){return i.pieces_.length-i.pieceNum_}function Oe(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new Re(i.pieces_,e)}function eg(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function UC(i){let e="";for(let n=i.pieceNum_;n<i.pieces_.length;n++)i.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[n])));return e||"/"}function tg(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function ng(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let n=i.pieceNum_;n<i.pieces_.length-1;n++)e.push(i.pieces_[n]);return new Re(e,0)}function Xe(i,e){const n=[];for(let s=i.pieceNum_;s<i.pieces_.length;s++)n.push(i.pieces_[s]);if(e instanceof Re)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&n.push(s[l])}return new Re(n,0)}function pe(i){return i.pieceNum_>=i.pieces_.length}function yt(i,e){const n=ye(i),s=ye(e);if(n===null)return e;if(n===s)return yt(Oe(i),Oe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function rg(i,e){if(Yn(i)!==Yn(e))return!1;for(let n=i.pieceNum_,s=e.pieceNum_;n<=i.pieces_.length;n++,s++)if(i.pieces_[n]!==e.pieces_[s])return!1;return!0}function Yt(i,e){let n=i.pieceNum_,s=e.pieceNum_;if(Yn(i)>Yn(e))return!1;for(;n<i.pieces_.length;){if(i.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class $C{constructor(e,n){this.errorPrefix_=n,this.parts_=tg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=dl(this.parts_[s]);ig(this)}}function HC(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=dl(e),ig(i)}function VC(i){const e=i.parts_.pop();i.byteLength_-=dl(e),i.parts_.length>0&&(i.byteLength_-=1)}function ig(i){if(i.byteLength_>Rp)throw new Error(i.errorPrefix_+"has a key path longer than "+Rp+" bytes ("+i.byteLength_+").");if(i.parts_.length>Pp)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Pp+") or object contains a cycle "+dr(i))}function dr(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends Zm{static getInstance(){return new vc}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return j(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=1e3,GC=60*5*1e3,Mp=30*1e3,YC=1.3,QC=3e4,qC="server_kill",Dp=3;class mn extends Jm{constructor(e,n,s,l,u,d,h,m){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=mn.nextPersistentConnectionId_++,this.log_=ws("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ki,this.maxReconnectDelay_=GC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m&&!Cm())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Xo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const l=++this.requestNumber_,u={r:l,a:e,b:n};this.log_(Ke(u)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const n=new cl,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,s,l){this.initConnection_();const u=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+u),this.listens.has(d)||this.listens.set(d,new Map),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(d).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:n,query:e,tag:s};this.listens.get(d).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},d="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(d,u,h=>{const m=h.d,g=h.s;mn.warnOnListenWarnings_(m,n),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(g,m))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&vn(e,"w")){const s=Xr(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();Nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||zw(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Mp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Fw(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,l=>{const u=l.s,d=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,n)}sendUnlisten_(e,n,s,l){this.log_("Unlisten on "+e+" for "+n);const u={p:e},d="n";l&&(u.q=s,u.t=l),this.sendRequest(d,u)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,l){const u={p:n,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,d=>{l&&setTimeout(()=>{l(d.s,d.d)},Math.floor(0))})}put(e,n,s,l){this.putInternal("p",e,n,s,l)}merge(e,n,s,l){this.putInternal("m",e,n,s,l)}putInternal(e,n,s,l,u){this.initConnection_();const d={p:n,d:s};u!==void 0&&(d.h=u),this.outstandingPuts_.push({action:e,request:d,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ke(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Yu("Unrecognized action received from server: "+Ke(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ki,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ki,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>QC&&(this.reconnectDelay_=Ki),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*YC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+mn.nextConnectionId_++,u=this.lastSessionId;let d=!1,h=null;const m=function(){h?h.close():(d=!0,s())},g=function(_){j(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:m,sendRequest:g};const C=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,w]=await Promise.all([this.authTokenProvider_.getToken(C),this.appCheckTokenProvider_.getToken(C)]);d?ht("getToken() completed but was canceled"):(ht("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=w&&w.token,h=new BC(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,I=>{Nt(I+" ("+this.repoInfo_.toString()+")"),this.interrupt(qC)},u))}catch(_){this.log_("Failed to get token: "+_),d||(this.repoInfo_.nodeAdmin&&Nt(_),m())}}}interrupt(e){ht("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ht("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ap(this.interruptReasons_)&&(this.reconnectDelay_=Ki,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(u=>pc(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,n){const s=new Re(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(n),u.delete(n),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,n){ht("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Dp&&(this.reconnectDelay_=Mp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ht("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Dp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Pm.replace(/\./g,"-")]=1,wm()?e["framework.cordova"]=1:Mw()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Xo.getInstance().currentlyOnline();return ap(this.interruptReasons_)&&e}}mn.nextPersistentConnectionId_=0;mn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new he(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new he(Jr,e),l=new he(Jr,n);return this.compare(s,l)!==0}minPost(){return he.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo;class sg extends fl{static get __EMPTY_NODE(){return zo}static set __EMPTY_NODE(e){zo=e}compare(e,n){return ri(e.name,n.name)}isDefinedOn(e){throw ti("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return he.MIN}maxPost(){return new he(pr,zo)}makePost(e,n){return j(typeof e=="string","KeyIndex indexValue must always be a string."),new he(e,zo)}toString(){return".key"}}const qr=new sg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(e=e,d=n?s(e.key,n):1,l&&(d*=-1),d<0)this.isReverse_?e=e.left:e=e.right;else if(d===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class nt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??nt.RED,this.left=l??Et.EMPTY_NODE,this.right=u??Et.EMPTY_NODE}copy(e,n,s,l,u){return new nt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Et.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,l;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Et.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}nt.RED=!0;nt.BLACK=!1;class KC{copy(e,n,s,l,u){return this}insert(e,n,s){return new nt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Et{constructor(e,n=Et.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Et(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,nt.BLACK,null,null))}remove(e){return new Et(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,nt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,l=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Wo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Wo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Wo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Wo(this.root_,null,this.comparator_,!0,e)}}Et.EMPTY_NODE=new KC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(i,e){return ri(i.name,e.name)}function _c(i,e){return ri(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu;function JC(i){qu=i}const og=function(i){return typeof i=="number"?"number:"+Am(i):"string:"+i},lg=function(i){if(i.isLeafNode()){const e=i.val();j(typeof e=="string"||typeof e=="number"||typeof e=="object"&&vn(e,".sv"),"Priority must be a string or number.")}else j(i===qu||i.isEmpty(),"priority of unexpected type.");j(i===qu||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op;class tt{static set __childrenNodeConstructor(e){Op=e}static get __childrenNodeConstructor(){return Op}constructor(e,n=tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),lg(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pe(e)?this:ye(e)===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=ye(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(j(s!==".priority"||Yn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+og(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Am(this.value_):e+=this.value_,this.lazyHash_=Mm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof tt.__childrenNodeConstructor?-1:(j(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,l=tt.VALUE_TYPE_ORDER.indexOf(n),u=tt.VALUE_TYPE_ORDER.indexOf(s);return j(l>=0,"Unknown leaf type: "+n),j(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ag,ug;function ZC(i){ag=i}function ex(i){ug=i}class tx extends fl{compare(e,n){const s=e.node.getPriority(),l=n.node.getPriority(),u=s.compareTo(l);return u===0?ri(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return he.MIN}maxPost(){return new he(pr,new tt("[PRIORITY-POST]",ug))}makePost(e,n){const s=ag(e);return new he(n,new tt("[PRIORITY-POST]",s))}toString(){return".priority"}}const He=new tx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=Math.log(2);class rx{constructor(e){const n=u=>parseInt(Math.log(u)/nx,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Jo=function(i,e,n,s){i.sort(e);const l=function(m,g){const C=g-m;let _,w;if(C===0)return null;if(C===1)return _=i[m],w=n?n(_):_,new nt(w,_.node,nt.BLACK,null,null);{const I=parseInt(C/2,10)+m,b=l(m,I),D=l(I+1,g);return _=i[I],w=n?n(_):_,new nt(w,_.node,nt.BLACK,b,D)}},u=function(m){let g=null,C=null,_=i.length;const w=function(b,D){const L=_-b,W=_;_-=b;const F=l(L+1,W),V=i[L],te=n?n(V):V;I(new nt(te,V.node,D,null,F))},I=function(b){g?(g.left=b,g=b):(C=b,g=b)};for(let b=0;b<m.count;++b){const D=m.nextBitIsOne(),L=Math.pow(2,m.count-(b+1));D?w(L,nt.BLACK):(w(L,nt.BLACK),w(L,nt.RED))}return C},d=new rx(i.length),h=u(d);return new Et(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu;const Hr={};class pn{static get Default(){return j(Hr&&He,"ChildrenNode.ts has not been loaded"),Pu=Pu||new pn({".priority":Hr},{".priority":He}),Pu}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Xr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Et?n:null}hasIndex(e){return vn(this.indexSet_,e.toString())}addIndex(e,n){j(e!==qr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=n.getIterator(he.Wrap);let d=u.getNext();for(;d;)l=l||e.isDefinedOn(d.node),s.push(d),d=u.getNext();let h;l?h=Jo(s,e.getCompare()):h=Hr;const m=e.toString(),g=Object.assign({},this.indexSet_);g[m]=e;const C=Object.assign({},this.indexes_);return C[m]=h,new pn(C,g)}addToIndexes(e,n){const s=Yo(this.indexes_,(l,u)=>{const d=Xr(this.indexSet_,u);if(j(d,"Missing index implementation for "+u),l===Hr)if(d.isDefinedOn(e.node)){const h=[],m=n.getIterator(he.Wrap);let g=m.getNext();for(;g;)g.name!==e.name&&h.push(g),g=m.getNext();return h.push(e),Jo(h,d.getCompare())}else return Hr;else{const h=n.get(e.name);let m=l;return h&&(m=m.remove(new he(e.name,h))),m.insert(e,e.node)}});return new pn(s,this.indexSet_)}removeFromIndexes(e,n){const s=Yo(this.indexes_,l=>{if(l===Hr)return l;{const u=n.get(e.name);return u?l.remove(new he(e.name,u)):l}});return new pn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xi;class ne{static get EMPTY_NODE(){return Xi||(Xi=new ne(new Et(_c),null,pn.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&lg(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xi}updatePriority(e){return this.children_.isEmpty()?this:new ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Xi:n}}getChild(e){const n=ye(e);return n===null?this:this.getImmediateChild(n).getChild(Oe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(j(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new he(e,n);let l,u;n.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(s,this.children_));const d=l.isEmpty()?Xi:this.priorityNode_;return new ne(l,d,u)}}updateChild(e,n){const s=ye(e);if(s===null)return n;{j(ye(e)!==".priority"||Yn(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Oe(e),n);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,l=0,u=!0;if(this.forEachChild(He,(d,h)=>{n[d]=h.val(e),s++,u&&ne.INTEGER_REGEXP_.test(d)?l=Math.max(l,Number(d)):u=!1}),!e&&u&&l<2*s){const d=[];for(const h in n)d[h]=n[h];return d}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+og(this.getPriority().val())+":"),this.forEachChild(He,(n,s)=>{const l=s.hash();l!==""&&(e+=":"+n+":"+l)}),this.lazyHash_=e===""?"":Mm(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new he(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new he(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new he(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,he.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,he.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Cs?-1:0}withIndex(e){if(e===qr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ne(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===qr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(He),l=n.getIterator(He);let u=s.getNext(),d=l.getNext();for(;u&&d;){if(u.name!==d.name||!u.node.equals(d.node))return!1;u=s.getNext(),d=l.getNext()}return u===null&&d===null}else return!1;else return!1}}resolveIndex_(e){return e===qr?null:this.indexMap_.get(e.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ix extends ne{constructor(){super(new Et(_c),ne.EMPTY_NODE,pn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ne.EMPTY_NODE}isEmpty(){return!1}}const Cs=new ix;Object.defineProperties(he,{MIN:{value:new he(Jr,ne.EMPTY_NODE)},MAX:{value:new he(pr,Cs)}});sg.__EMPTY_NODE=ne.EMPTY_NODE;tt.__childrenNodeConstructor=ne;JC(Cs);ex(Cs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=!0;function rt(i,e=null){if(i===null)return ne.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),j(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const n=i;return new tt(n,rt(e))}if(!(i instanceof Array)&&sx){const n=[];let s=!1;if(Tt(i,(d,h)=>{if(d.substring(0,1)!=="."){const m=rt(h);m.isEmpty()||(s=s||!m.getPriority().isEmpty(),n.push(new he(d,m)))}}),n.length===0)return ne.EMPTY_NODE;const u=Jo(n,XC,d=>d.name,_c);if(s){const d=Jo(n,He.getCompare());return new ne(u,rt(e),new pn({".priority":d},{".priority":He}))}else return new ne(u,rt(e),pn.Default)}else{let n=ne.EMPTY_NODE;return Tt(i,(s,l)=>{if(vn(i,s)&&s.substring(0,1)!=="."){const u=rt(l);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(s,u))}}),n.updatePriority(rt(e))}}ZC(rt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox extends fl{constructor(e){super(),this.indexPath_=e,j(!pe(e)&&ye(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),l=this.extractChild(n.node),u=s.compareTo(l);return u===0?ri(e.name,n.name):u}makePost(e,n){const s=rt(e),l=ne.EMPTY_NODE.updateChild(this.indexPath_,s);return new he(n,l)}maxPost(){const e=ne.EMPTY_NODE.updateChild(this.indexPath_,Cs);return new he(pr,e)}toString(){return tg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx extends fl{compare(e,n){const s=e.node.compareTo(n.node);return s===0?ri(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(e,n){const s=rt(e);return new he(n,s)}toString(){return".value"}}const ax=new lx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(i){return{type:"value",snapshotNode:i}}function Zr(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function cs(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function ds(i,e,n){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:n}}function ux(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this.index_=e}updateChild(e,n,s,l,u,d){j(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(d!=null&&(s.isEmpty()?e.hasChild(n)?d.trackChildChange(cs(n,h)):j(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange(Zr(n,s)):d.trackChildChange(ds(n,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(He,(l,u)=>{n.hasChild(l)||s.trackChildChange(cs(l,u))}),n.isLeafNode()||n.forEachChild(He,(l,u)=>{if(e.hasChild(l)){const d=e.getImmediateChild(l);d.equals(u)||s.trackChildChange(ds(l,u,d))}else s.trackChildChange(Zr(l,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.indexedFilter_=new wc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=fs.getStartPost_(e),this.endPost_=fs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,l,u,d){return this.matches(new he(n,s))||(s=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,l,u,d)}updateFullNode(e,n,s){n.isLeafNode()&&(n=ne.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(ne.EMPTY_NODE);const u=this;return n.forEachChild(He,(d,h)=>{u.matches(new he(d,h))||(l=l.updateImmediateChild(d,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new fs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,l,u,d){return this.rangedFilter_.matches(new he(n,s))||(s=ne.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,l,u,d):this.fullLimitUpdateChild_(e,n,s,u,d)}updateFullNode(e,n,s){let l;if(n.isLeafNode()||n.isEmpty())l=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=ne.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;u.hasNext()&&d<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(ne.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let d=0;for(;u.hasNext();){const h=u.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:l=l.updateImmediateChild(h.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,l,u){let d;if(this.reverse_){const _=this.index_.getCompare();d=(w,I)=>_(I,w)}else d=this.index_.getCompare();const h=e;j(h.numChildren()===this.limit_,"");const m=new he(n,s),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),C=this.rangedFilter_.matches(m);if(h.hasChild(n)){const _=h.getImmediateChild(n);let w=l.getChildAfterChild(this.index_,g,this.reverse_);for(;w!=null&&(w.name===n||h.hasChild(w.name));)w=l.getChildAfterChild(this.index_,w,this.reverse_);const I=w==null?1:d(w,m);if(C&&!s.isEmpty()&&I>=0)return u!=null&&u.trackChildChange(ds(n,s,_)),h.updateImmediateChild(n,s);{u!=null&&u.trackChildChange(cs(n,_));const D=h.updateImmediateChild(n,ne.EMPTY_NODE);return w!=null&&this.rangedFilter_.matches(w)?(u!=null&&u.trackChildChange(Zr(w.name,w.node)),D.updateImmediateChild(w.name,w.node)):D}}else return s.isEmpty()?e:C&&d(g,m)>=0?(u!=null&&(u.trackChildChange(cs(g.name,g.node)),u.trackChildChange(Zr(n,s))),h.updateImmediateChild(n,s).updateImmediateChild(g.name,ne.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jr}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new Cc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function dx(i){return i.loadsAllData()?new wc(i.getIndex()):i.hasLimit()?new cx(i):new fs(i)}function Ap(i){const e={};if(i.isDefault())return e;let n;if(i.index_===He?n="$priority":i.index_===ax?n="$value":i.index_===qr?n="$key":(j(i.index_ instanceof ox,"Unrecognized index type!"),n=i.index_.toString()),e.orderBy=Ke(n),i.startSet_){const s=i.startAfterSet_?"startAfter":"startAt";e[s]=Ke(i.indexStartValue_),i.startNameSet_&&(e[s]+=","+Ke(i.indexStartName_))}if(i.endSet_){const s=i.endBeforeSet_?"endBefore":"endAt";e[s]=Ke(i.indexEndValue_),i.endNameSet_&&(e[s]+=","+Ke(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function Lp(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let n=i.viewFrom_;n===""&&(i.isViewFromLeft()?n="l":n="r"),e.vf=n}return i.index_!==He&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Jm{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(j(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=ws("p:rest:"),this.listens_={}}listen(e,n,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const d=Zo.getListenId_(e,s),h={};this.listens_[d]=h;const m=Ap(e._queryParams);this.restRequest_(u+".json",m,(g,C)=>{let _=C;if(g===404&&(_=null,g=null),g===null&&this.onDataUpdate_(u,_,!1,s),Xr(this.listens_,d)===h){let w;g?g===401?w="permission_denied":w="rest_error:"+g:w="ok",l(w,null)}})}unlisten(e,n){const s=Zo.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Ap(e._queryParams),s=e._path.toString(),l=new cl;return this.restRequest_(s+".json",n,(u,d)=>{let h=d;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(n.auth=l.accessToken),u&&u.token&&(n.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ww(n);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=os(h.responseText)}catch{Nt("Failed to parse JSON response for "+d+": "+h.responseText)}s(null,m)}else h.status!==401&&h.status!==404&&Nt("Got unsuccessful REST response for "+d+" Status: "+h.status),s(h.status);s=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(){return{value:null,children:new Map}}function dg(i,e,n){if(pe(e))i.value=n,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,n);else{const s=ye(e);i.children.has(s)||i.children.set(s,el());const l=i.children.get(s);e=Oe(e),dg(l,e,n)}}function Ku(i,e,n){i.value!==null?n(e,i.value):hx(i,(s,l)=>{const u=new Re(e.toString()+"/"+s);Ku(l,u,n)})}function hx(i,e){i.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Tt(this.last_,(s,l)=>{n[s]=n[s]-l}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=10*1e3,mx=30*1e3,gx=5*60*1e3;class yx{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new px(e);const s=jp+(mx-jp)*Math.random();ns(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Tt(e,(l,u)=>{u>0&&vn(this.statsToReport_,l)&&(n[l]=u,s=!0)}),s&&this.server_.reportStats(n),ns(this.reportStats_.bind(this),Math.floor(Math.random()*2*gx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Qt||(Qt={}));function fg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Sc(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Qt.ACK_USER_WRITE,this.source=fg()}operationForChild(e){if(pe(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Re(e));return new tl(ke(),n,this.revert)}}else return j(ye(this.path)===e,"operationForChild called for unrelated child."),new tl(Oe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n){this.source=e,this.path=n,this.type=Qt.LISTEN_COMPLETE}operationForChild(e){return pe(this.path)?new hs(this.source,ke()):new hs(this.source,Oe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Qt.OVERWRITE}operationForChild(e){return pe(this.path)?new mr(this.source,ke(),this.snap.getImmediateChild(e)):new mr(this.source,Oe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Qt.MERGE}operationForChild(e){if(pe(this.path)){const n=this.children.subtree(new Re(e));return n.isEmpty()?null:n.value?new mr(this.source,ke(),n.value):new ps(this.source,ke(),n)}else return j(ye(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ps(this.source,Oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pe(e))return this.isFullyInitialized()&&!this.filtered_;const n=ye(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function _x(i,e,n,s){const l=[],u=[];return e.forEach(d=>{d.type==="child_changed"&&i.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(ux(d.childName,d.snapshotNode))}),Ji(i,l,"child_removed",e,s,n),Ji(i,l,"child_added",e,s,n),Ji(i,l,"child_moved",u,s,n),Ji(i,l,"child_changed",e,s,n),Ji(i,l,"value",e,s,n),l}function Ji(i,e,n,s,l,u){const d=s.filter(h=>h.type===n);d.sort((h,m)=>Cx(i,h,m)),d.forEach(h=>{const m=wx(i,h,u);l.forEach(g=>{g.respondsTo(h.type)&&e.push(g.createEvent(m,i.query_))})})}function wx(i,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function Cx(i,e,n){if(e.childName==null||n.childName==null)throw ti("Should only compare child_ events.");const s=new he(e.childName,e.snapshotNode),l=new he(n.childName,n.snapshotNode);return i.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(i,e){return{eventCache:i,serverCache:e}}function rs(i,e,n,s){return hl(new Qn(e,n,s),i.serverCache)}function hg(i,e,n,s){return hl(i.eventCache,new Qn(e,n,s))}function nl(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function gr(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru;const xx=()=>(Ru||(Ru=new Et(lC)),Ru);class Fe{static fromObject(e){let n=new Fe(null);return Tt(e,(s,l)=>{n=n.set(new Re(s),l)}),n}constructor(e,n=xx()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ke(),value:this.value};if(pe(e))return null;{const s=ye(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Oe(e),n);return u!=null?{path:Xe(new Re(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pe(e))return this;{const n=ye(e),s=this.children.get(n);return s!==null?s.subtree(Oe(e)):new Fe(null)}}set(e,n){if(pe(e))return new Fe(n,this.children);{const s=ye(e),u=(this.children.get(s)||new Fe(null)).set(Oe(e),n),d=this.children.insert(s,u);return new Fe(this.value,d)}}remove(e){if(pe(e))return this.children.isEmpty()?new Fe(null):new Fe(null,this.children);{const n=ye(e),s=this.children.get(n);if(s){const l=s.remove(Oe(e));let u;return l.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,l),this.value===null&&u.isEmpty()?new Fe(null):new Fe(this.value,u)}else return this}}get(e){if(pe(e))return this.value;{const n=ye(e),s=this.children.get(n);return s?s.get(Oe(e)):null}}setTree(e,n){if(pe(e))return n;{const s=ye(e),u=(this.children.get(s)||new Fe(null)).setTree(Oe(e),n);let d;return u.isEmpty()?d=this.children.remove(s):d=this.children.insert(s,u),new Fe(this.value,d)}}fold(e){return this.fold_(ke(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(Xe(e,l),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,ke(),n)}findOnPath_(e,n,s){const l=this.value?s(n,this.value):!1;if(l)return l;if(pe(e))return null;{const u=ye(e),d=this.children.get(u);return d?d.findOnPath_(Oe(e),Xe(n,u),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ke(),n)}foreachOnPath_(e,n,s){if(pe(e))return this;{this.value&&s(n,this.value);const l=ye(e),u=this.children.get(l);return u?u.foreachOnPath_(Oe(e),Xe(n,l),s):new Fe(null)}}foreach(e){this.foreach_(ke(),e)}foreach_(e,n){this.children.inorderTraversal((s,l)=>{l.foreach_(Xe(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.writeTree_=e}static empty(){return new qt(new Fe(null))}}function is(i,e,n){if(pe(e))return new qt(new Fe(n));{const s=i.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const d=yt(l,e);return u=u.updateChild(d,n),new qt(i.writeTree_.set(l,u))}else{const l=new Fe(n),u=i.writeTree_.setTree(e,l);return new qt(u)}}}function Fp(i,e,n){let s=i;return Tt(n,(l,u)=>{s=is(s,Xe(e,l),u)}),s}function zp(i,e){if(pe(e))return qt.empty();{const n=i.writeTree_.setTree(e,new Fe(null));return new qt(n)}}function Xu(i,e){return yr(i,e)!=null}function yr(i,e){const n=i.writeTree_.findRootMostValueAndPath(e);return n!=null?i.writeTree_.get(n.path).getChild(yt(n.path,e)):null}function Wp(i){const e=[],n=i.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(He,(s,l)=>{e.push(new he(s,l))}):i.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new he(s,l.value))}),e}function Hn(i,e){if(pe(e))return i;{const n=yr(i,e);return n!=null?new qt(new Fe(n)):new qt(i.writeTree_.subtree(e))}}function Ju(i){return i.writeTree_.isEmpty()}function ei(i,e){return pg(ke(),i.writeTree_,e)}function pg(i,e,n){if(e.value!=null)return n.updateChild(i,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(j(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):n=pg(Xe(i,l),u,n)}),!n.getChild(i).isEmpty()&&s!==null&&(n=n.updateChild(Xe(i,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(i,e){return vg(e,i)}function Sx(i,e,n,s,l){j(s>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:e,snap:n,writeId:s,visible:l}),l&&(i.visibleWrites=is(i.visibleWrites,e,n)),i.lastWriteId=s}function Ex(i,e){for(let n=0;n<i.allWrites.length;n++){const s=i.allWrites[n];if(s.writeId===e)return s}return null}function kx(i,e){const n=i.allWrites.findIndex(h=>h.writeId===e);j(n>=0,"removeWrite called with nonexistent writeId.");const s=i.allWrites[n];i.allWrites.splice(n,1);let l=s.visible,u=!1,d=i.allWrites.length-1;for(;l&&d>=0;){const h=i.allWrites[d];h.visible&&(d>=n&&Nx(h,s.path)?l=!1:Yt(s.path,h.path)&&(u=!0)),d--}if(l){if(u)return Tx(i),!0;if(s.snap)i.visibleWrites=zp(i.visibleWrites,s.path);else{const h=s.children;Tt(h,m=>{i.visibleWrites=zp(i.visibleWrites,Xe(s.path,m))})}return!0}else return!1}function Nx(i,e){if(i.snap)return Yt(i.path,e);for(const n in i.children)if(i.children.hasOwnProperty(n)&&Yt(Xe(i.path,n),e))return!0;return!1}function Tx(i){i.visibleWrites=mg(i.allWrites,Ix,ke()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function Ix(i){return i.visible}function mg(i,e,n){let s=qt.empty();for(let l=0;l<i.length;++l){const u=i[l];if(e(u)){const d=u.path;let h;if(u.snap)Yt(n,d)?(h=yt(n,d),s=is(s,h,u.snap)):Yt(d,n)&&(h=yt(d,n),s=is(s,ke(),u.snap.getChild(h)));else if(u.children){if(Yt(n,d))h=yt(n,d),s=Fp(s,h,u.children);else if(Yt(d,n))if(h=yt(d,n),pe(h))s=Fp(s,ke(),u.children);else{const m=Xr(u.children,ye(h));if(m){const g=m.getChild(Oe(h));s=is(s,ke(),g)}}}else throw ti("WriteRecord should have .snap or .children")}}return s}function gg(i,e,n,s,l){if(!s&&!l){const u=yr(i.visibleWrites,e);if(u!=null)return u;{const d=Hn(i.visibleWrites,e);if(Ju(d))return n;if(n==null&&!Xu(d,ke()))return null;{const h=n||ne.EMPTY_NODE;return ei(d,h)}}}else{const u=Hn(i.visibleWrites,e);if(!l&&Ju(u))return n;if(!l&&n==null&&!Xu(u,ke()))return null;{const d=function(g){return(g.visible||l)&&(!s||!~s.indexOf(g.writeId))&&(Yt(g.path,e)||Yt(e,g.path))},h=mg(i.allWrites,d,e),m=n||ne.EMPTY_NODE;return ei(h,m)}}}function bx(i,e,n){let s=ne.EMPTY_NODE;const l=yr(i.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(He,(u,d)=>{s=s.updateImmediateChild(u,d)}),s;if(n){const u=Hn(i.visibleWrites,e);return n.forEachChild(He,(d,h)=>{const m=ei(Hn(u,new Re(d)),h);s=s.updateImmediateChild(d,m)}),Wp(u).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}else{const u=Hn(i.visibleWrites,e);return Wp(u).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}}function Px(i,e,n,s,l){j(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=Xe(e,n);if(Xu(i.visibleWrites,u))return null;{const d=Hn(i.visibleWrites,u);return Ju(d)?l.getChild(n):ei(d,l.getChild(n))}}function Rx(i,e,n,s){const l=Xe(e,n),u=yr(i.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(n)){const d=Hn(i.visibleWrites,l);return ei(d,s.getNode().getImmediateChild(n))}else return null}function Mx(i,e){return yr(i.visibleWrites,e)}function Dx(i,e,n,s,l,u,d){let h;const m=Hn(i.visibleWrites,e),g=yr(m,ke());if(g!=null)h=g;else if(n!=null)h=ei(m,n);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const C=[],_=d.getCompare(),w=u?h.getReverseIteratorFrom(s,d):h.getIteratorFrom(s,d);let I=w.getNext();for(;I&&C.length<l;)_(I,s)!==0&&C.push(I),I=w.getNext();return C}else return[]}function Ox(){return{visibleWrites:qt.empty(),allWrites:[],lastWriteId:-1}}function rl(i,e,n,s){return gg(i.writeTree,i.treePath,e,n,s)}function Ec(i,e){return bx(i.writeTree,i.treePath,e)}function Bp(i,e,n,s){return Px(i.writeTree,i.treePath,e,n,s)}function il(i,e){return Mx(i.writeTree,Xe(i.treePath,e))}function Ax(i,e,n,s,l,u){return Dx(i.writeTree,i.treePath,e,n,s,l,u)}function kc(i,e,n){return Rx(i.writeTree,i.treePath,e,n)}function yg(i,e){return vg(Xe(i.treePath,e),i.writeTree)}function vg(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;j(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),j(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(s,ds(s,e.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(s,cs(s,l.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(s,Zr(s,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(s,ds(s,e.snapshotNode,l.oldSnap));else throw ti("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const _g=new jx;class Nc{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Qn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kc(this.writes_,e,s)}}getChildAfterChild(e,n,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:gr(this.viewCache_),u=Ax(this.writes_,l,n,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(i){return{filter:i}}function zx(i,e){j(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),j(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function Wx(i,e,n,s,l){const u=new Lx;let d,h;if(n.type===Qt.OVERWRITE){const g=n;g.source.fromUser?d=Zu(i,e,g.path,g.snap,s,l,u):(j(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered()&&!pe(g.path),d=sl(i,e,g.path,g.snap,s,l,h,u))}else if(n.type===Qt.MERGE){const g=n;g.source.fromUser?d=Ux(i,e,g.path,g.children,s,l,u):(j(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered(),d=ec(i,e,g.path,g.children,s,l,h,u))}else if(n.type===Qt.ACK_USER_WRITE){const g=n;g.revert?d=Vx(i,e,g.path,s,l,u):d=$x(i,e,g.path,g.affectedTree,s,l,u)}else if(n.type===Qt.LISTEN_COMPLETE)d=Hx(i,e,n.path,s,u);else throw ti("Unknown operation type: "+n.type);const m=u.getChanges();return Bx(e,d,m),{viewCache:d,changes:m}}function Bx(i,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=nl(i);(n.length>0||!i.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&n.push(cg(nl(e)))}}function wg(i,e,n,s,l,u){const d=e.eventCache;if(il(s,n)!=null)return e;{let h,m;if(pe(n))if(j(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=gr(e),C=g instanceof ne?g:ne.EMPTY_NODE,_=Ec(s,C);h=i.filter.updateFullNode(e.eventCache.getNode(),_,u)}else{const g=rl(s,gr(e));h=i.filter.updateFullNode(e.eventCache.getNode(),g,u)}else{const g=ye(n);if(g===".priority"){j(Yn(n)===1,"Can't have a priority with additional path components");const C=d.getNode();m=e.serverCache.getNode();const _=Bp(s,n,C,m);_!=null?h=i.filter.updatePriority(C,_):h=d.getNode()}else{const C=Oe(n);let _;if(d.isCompleteForChild(g)){m=e.serverCache.getNode();const w=Bp(s,n,d.getNode(),m);w!=null?_=d.getNode().getImmediateChild(g).updateChild(C,w):_=d.getNode().getImmediateChild(g)}else _=kc(s,g,e.serverCache);_!=null?h=i.filter.updateChild(d.getNode(),g,_,C,l,u):h=d.getNode()}}return rs(e,h,d.isFullyInitialized()||pe(n),i.filter.filtersNodes())}}function sl(i,e,n,s,l,u,d,h){const m=e.serverCache;let g;const C=d?i.filter:i.filter.getIndexedFilter();if(pe(n))g=C.updateFullNode(m.getNode(),s,null);else if(C.filtersNodes()&&!m.isFiltered()){const I=m.getNode().updateChild(n,s);g=C.updateFullNode(m.getNode(),I,null)}else{const I=ye(n);if(!m.isCompleteForPath(n)&&Yn(n)>1)return e;const b=Oe(n),L=m.getNode().getImmediateChild(I).updateChild(b,s);I===".priority"?g=C.updatePriority(m.getNode(),L):g=C.updateChild(m.getNode(),I,L,b,_g,null)}const _=hg(e,g,m.isFullyInitialized()||pe(n),C.filtersNodes()),w=new Nc(l,_,u);return wg(i,_,n,l,w,h)}function Zu(i,e,n,s,l,u,d){const h=e.eventCache;let m,g;const C=new Nc(l,e,u);if(pe(n))g=i.filter.updateFullNode(e.eventCache.getNode(),s,d),m=rs(e,g,!0,i.filter.filtersNodes());else{const _=ye(n);if(_===".priority")g=i.filter.updatePriority(e.eventCache.getNode(),s),m=rs(e,g,h.isFullyInitialized(),h.isFiltered());else{const w=Oe(n),I=h.getNode().getImmediateChild(_);let b;if(pe(w))b=s;else{const D=C.getCompleteChild(_);D!=null?eg(w)===".priority"&&D.getChild(ng(w)).isEmpty()?b=D:b=D.updateChild(w,s):b=ne.EMPTY_NODE}if(I.equals(b))m=e;else{const D=i.filter.updateChild(h.getNode(),_,b,w,C,d);m=rs(e,D,h.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function Up(i,e){return i.eventCache.isCompleteForChild(e)}function Ux(i,e,n,s,l,u,d){let h=e;return s.foreach((m,g)=>{const C=Xe(n,m);Up(e,ye(C))&&(h=Zu(i,h,C,g,l,u,d))}),s.foreach((m,g)=>{const C=Xe(n,m);Up(e,ye(C))||(h=Zu(i,h,C,g,l,u,d))}),h}function $p(i,e,n){return n.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function ec(i,e,n,s,l,u,d,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,g;pe(n)?g=s:g=new Fe(null).setTree(n,s);const C=e.serverCache.getNode();return g.children.inorderTraversal((_,w)=>{if(C.hasChild(_)){const I=e.serverCache.getNode().getImmediateChild(_),b=$p(i,I,w);m=sl(i,m,new Re(_),b,l,u,d,h)}}),g.children.inorderTraversal((_,w)=>{const I=!e.serverCache.isCompleteForChild(_)&&w.value===null;if(!C.hasChild(_)&&!I){const b=e.serverCache.getNode().getImmediateChild(_),D=$p(i,b,w);m=sl(i,m,new Re(_),D,l,u,d,h)}}),m}function $x(i,e,n,s,l,u,d){if(il(l,n)!=null)return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(s.value!=null){if(pe(n)&&m.isFullyInitialized()||m.isCompleteForPath(n))return sl(i,e,n,m.getNode().getChild(n),l,u,h,d);if(pe(n)){let g=new Fe(null);return m.getNode().forEachChild(qr,(C,_)=>{g=g.set(new Re(C),_)}),ec(i,e,n,g,l,u,h,d)}else return e}else{let g=new Fe(null);return s.foreach((C,_)=>{const w=Xe(n,C);m.isCompleteForPath(w)&&(g=g.set(C,m.getNode().getChild(w)))}),ec(i,e,n,g,l,u,h,d)}}function Hx(i,e,n,s,l){const u=e.serverCache,d=hg(e,u.getNode(),u.isFullyInitialized()||pe(n),u.isFiltered());return wg(i,d,n,s,_g,l)}function Vx(i,e,n,s,l,u){let d;if(il(s,n)!=null)return e;{const h=new Nc(s,e,l),m=e.eventCache.getNode();let g;if(pe(n)||ye(n)===".priority"){let C;if(e.serverCache.isFullyInitialized())C=rl(s,gr(e));else{const _=e.serverCache.getNode();j(_ instanceof ne,"serverChildren would be complete if leaf node"),C=Ec(s,_)}C=C,g=i.filter.updateFullNode(m,C,u)}else{const C=ye(n);let _=kc(s,C,e.serverCache);_==null&&e.serverCache.isCompleteForChild(C)&&(_=m.getImmediateChild(C)),_!=null?g=i.filter.updateChild(m,C,_,Oe(n),h,u):e.eventCache.getNode().hasChild(C)?g=i.filter.updateChild(m,C,ne.EMPTY_NODE,Oe(n),h,u):g=m,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=rl(s,gr(e)),d.isLeafNode()&&(g=i.filter.updateFullNode(g,d,u)))}return d=e.serverCache.isFullyInitialized()||il(s,ke())!=null,rs(e,g,d,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new wc(s.getIndex()),u=dx(s);this.processor_=Fx(u);const d=n.serverCache,h=n.eventCache,m=l.updateFullNode(ne.EMPTY_NODE,d.getNode(),null),g=u.updateFullNode(ne.EMPTY_NODE,h.getNode(),null),C=new Qn(m,d.isFullyInitialized(),l.filtersNodes()),_=new Qn(g,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=hl(_,C),this.eventGenerator_=new vx(this.query_)}get query(){return this.query_}}function Yx(i){return i.viewCache_.serverCache.getNode()}function Qx(i){return nl(i.viewCache_)}function qx(i,e){const n=gr(i.viewCache_);return n&&(i.query._queryParams.loadsAllData()||!pe(e)&&!n.getImmediateChild(ye(e)).isEmpty())?n.getChild(e):null}function Hp(i){return i.eventRegistrations_.length===0}function Kx(i,e){i.eventRegistrations_.push(e)}function Vp(i,e,n){const s=[];if(n){j(e==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(u=>{const d=u.createCancelEvent(n,l);d&&s.push(d)})}if(e){let l=[];for(let u=0;u<i.eventRegistrations_.length;++u){const d=i.eventRegistrations_[u];if(!d.matches(e))l.push(d);else if(e.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return s}function Gp(i,e,n,s){e.type===Qt.MERGE&&e.source.queryId!==null&&(j(gr(i.viewCache_),"We should always have a full cache before handling merges"),j(nl(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,u=Wx(i.processor_,l,e,n,s);return zx(i.processor_,u.viewCache),j(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,Cg(i,u.changes,u.viewCache.eventCache.getNode(),null)}function Xx(i,e){const n=i.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(He,(u,d)=>{s.push(Zr(u,d))}),n.isFullyInitialized()&&s.push(cg(n.getNode())),Cg(i,s,n.getNode(),e)}function Cg(i,e,n,s){const l=s?[s]:i.eventRegistrations_;return _x(i.eventGenerator_,e,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol;class xg{constructor(){this.views=new Map}}function Jx(i){j(!ol,"__referenceConstructor has already been defined"),ol=i}function Zx(){return j(ol,"Reference.ts has not been loaded"),ol}function eS(i){return i.views.size===0}function Tc(i,e,n,s){const l=e.source.queryId;if(l!==null){const u=i.views.get(l);return j(u!=null,"SyncTree gave us an op for an invalid query."),Gp(u,e,n,s)}else{let u=[];for(const d of i.views.values())u=u.concat(Gp(d,e,n,s));return u}}function Sg(i,e,n,s,l){const u=e._queryIdentifier,d=i.views.get(u);if(!d){let h=rl(n,l?s:null),m=!1;h?m=!0:s instanceof ne?(h=Ec(n,s),m=!1):(h=ne.EMPTY_NODE,m=!1);const g=hl(new Qn(h,m,!1),new Qn(s,l,!1));return new Gx(e,g)}return d}function tS(i,e,n,s,l,u){const d=Sg(i,e,s,l,u);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,d),Kx(d,n),Xx(d,n)}function nS(i,e,n,s){const l=e._queryIdentifier,u=[];let d=[];const h=qn(i);if(l==="default")for(const[m,g]of i.views.entries())d=d.concat(Vp(g,n,s)),Hp(g)&&(i.views.delete(m),g.query._queryParams.loadsAllData()||u.push(g.query));else{const m=i.views.get(l);m&&(d=d.concat(Vp(m,n,s)),Hp(m)&&(i.views.delete(l),m.query._queryParams.loadsAllData()||u.push(m.query)))}return h&&!qn(i)&&u.push(new(Zx())(e._repo,e._path)),{removed:u,events:d}}function Eg(i){const e=[];for(const n of i.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Vn(i,e){let n=null;for(const s of i.views.values())n=n||qx(s,e);return n}function kg(i,e){if(e._queryParams.loadsAllData())return ml(i);{const s=e._queryIdentifier;return i.views.get(s)}}function Ng(i,e){return kg(i,e)!=null}function qn(i){return ml(i)!=null}function ml(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll;function rS(i){j(!ll,"__referenceConstructor has already been defined"),ll=i}function iS(){return j(ll,"Reference.ts has not been loaded"),ll}let sS=1;class Yp{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Fe(null),this.pendingWriteTree_=Ox(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Tg(i,e,n,s,l){return Sx(i.pendingWriteTree_,e,n,s,l),l?Ss(i,new mr(fg(),e,n)):[]}function hr(i,e,n=!1){const s=Ex(i.pendingWriteTree_,e);if(kx(i.pendingWriteTree_,e)){let u=new Fe(null);return s.snap!=null?u=u.set(ke(),!0):Tt(s.children,d=>{u=u.set(new Re(d),!0)}),Ss(i,new tl(s.path,u,n))}else return[]}function xs(i,e,n){return Ss(i,new mr(xc(),e,n))}function oS(i,e,n){const s=Fe.fromObject(n);return Ss(i,new ps(xc(),e,s))}function lS(i,e){return Ss(i,new hs(xc(),e))}function aS(i,e,n){const s=bc(i,n);if(s){const l=Pc(s),u=l.path,d=l.queryId,h=yt(u,e),m=new hs(Sc(d),h);return Rc(i,u,m)}else return[]}function Ig(i,e,n,s,l=!1){const u=e._path,d=i.syncPointTree_.get(u);let h=[];if(d&&(e._queryIdentifier==="default"||Ng(d,e))){const m=nS(d,e,n,s);eS(d)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const g=m.removed;if(h=m.events,!l){const C=g.findIndex(w=>w._queryParams.loadsAllData())!==-1,_=i.syncPointTree_.findOnPath(u,(w,I)=>qn(I));if(C&&!_){const w=i.syncPointTree_.subtree(u);if(!w.isEmpty()){const I=fS(w);for(let b=0;b<I.length;++b){const D=I[b],L=D.query,W=Mg(i,D);i.listenProvider_.startListening(ss(L),ms(i,L),W.hashFn,W.onComplete)}}}!_&&g.length>0&&!s&&(C?i.listenProvider_.stopListening(ss(e),null):g.forEach(w=>{const I=i.queryToTagMap.get(gl(w));i.listenProvider_.stopListening(ss(w),I)}))}hS(i,g)}return h}function bg(i,e,n,s){const l=bc(i,s);if(l!=null){const u=Pc(l),d=u.path,h=u.queryId,m=yt(d,e),g=new mr(Sc(h),m,n);return Rc(i,d,g)}else return[]}function uS(i,e,n,s){const l=bc(i,s);if(l){const u=Pc(l),d=u.path,h=u.queryId,m=yt(d,e),g=Fe.fromObject(n),C=new ps(Sc(h),m,g);return Rc(i,d,C)}else return[]}function cS(i,e,n,s=!1){const l=e._path;let u=null,d=!1;i.syncPointTree_.foreachOnPath(l,(w,I)=>{const b=yt(w,l);u=u||Vn(I,b),d=d||qn(I)});let h=i.syncPointTree_.get(l);h?(d=d||qn(h),u=u||Vn(h,ke())):(h=new xg,i.syncPointTree_=i.syncPointTree_.set(l,h));let m;u!=null?m=!0:(m=!1,u=ne.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((I,b)=>{const D=Vn(b,ke());D&&(u=u.updateImmediateChild(I,D))}));const g=Ng(h,e);if(!g&&!e._queryParams.loadsAllData()){const w=gl(e);j(!i.queryToTagMap.has(w),"View does not exist, but we have a tag");const I=pS();i.queryToTagMap.set(w,I),i.tagToQueryMap.set(I,w)}const C=pl(i.pendingWriteTree_,l);let _=tS(h,e,n,C,u,m);if(!g&&!d&&!s){const w=kg(h,e);_=_.concat(mS(i,e,w))}return _}function Ic(i,e,n){const l=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(e,(d,h)=>{const m=yt(d,e),g=Vn(h,m);if(g)return g});return gg(l,e,u,n,!0)}function dS(i,e){const n=e._path;let s=null;i.syncPointTree_.foreachOnPath(n,(g,C)=>{const _=yt(g,n);s=s||Vn(C,_)});let l=i.syncPointTree_.get(n);l?s=s||Vn(l,ke()):(l=new xg,i.syncPointTree_=i.syncPointTree_.set(n,l));const u=s!=null,d=u?new Qn(s,!0,!1):null,h=pl(i.pendingWriteTree_,e._path),m=Sg(l,e,h,u?d.getNode():ne.EMPTY_NODE,u);return Qx(m)}function Ss(i,e){return Pg(e,i.syncPointTree_,null,pl(i.pendingWriteTree_,ke()))}function Pg(i,e,n,s){if(pe(i.path))return Rg(i,e,n,s);{const l=e.get(ke());n==null&&l!=null&&(n=Vn(l,ke()));let u=[];const d=ye(i.path),h=i.operationForChild(d),m=e.children.get(d);if(m&&h){const g=n?n.getImmediateChild(d):null,C=yg(s,d);u=u.concat(Pg(h,m,g,C))}return l&&(u=u.concat(Tc(l,i,s,n))),u}}function Rg(i,e,n,s){const l=e.get(ke());n==null&&l!=null&&(n=Vn(l,ke()));let u=[];return e.children.inorderTraversal((d,h)=>{const m=n?n.getImmediateChild(d):null,g=yg(s,d),C=i.operationForChild(d);C&&(u=u.concat(Rg(C,h,m,g)))}),l&&(u=u.concat(Tc(l,i,s,n))),u}function Mg(i,e){const n=e.query,s=ms(i,n);return{hashFn:()=>(Yx(e)||ne.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?aS(i,n._path,s):lS(i,n._path);{const u=cC(l,n);return Ig(i,n,null,u)}}}}function ms(i,e){const n=gl(e);return i.queryToTagMap.get(n)}function gl(i){return i._path.toString()+"$"+i._queryIdentifier}function bc(i,e){return i.tagToQueryMap.get(e)}function Pc(i){const e=i.indexOf("$");return j(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new Re(i.substr(0,e))}}function Rc(i,e,n){const s=i.syncPointTree_.get(e);j(s,"Missing sync point for query tag that we're tracking");const l=pl(i.pendingWriteTree_,e);return Tc(s,n,l,null)}function fS(i){return i.fold((e,n,s)=>{if(n&&qn(n))return[ml(n)];{let l=[];return n&&(l=Eg(n)),Tt(s,(u,d)=>{l=l.concat(d)}),l}})}function ss(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(iS())(i._repo,i._path):i}function hS(i,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const l=gl(s),u=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(u)}}}function pS(){return sS++}function mS(i,e,n){const s=e._path,l=ms(i,e),u=Mg(i,n),d=i.listenProvider_.startListening(ss(e),l,u.hashFn,u.onComplete),h=i.syncPointTree_.subtree(s);if(l)j(!qn(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((g,C,_)=>{if(!pe(g)&&C&&qn(C))return[ml(C).query];{let w=[];return C&&(w=w.concat(Eg(C).map(I=>I.query))),Tt(_,(I,b)=>{w=w.concat(b)}),w}});for(let g=0;g<m.length;++g){const C=m[g];i.listenProvider_.stopListening(ss(C),ms(i,C))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Mc(n)}node(){return this.node_}}class Dc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Xe(this.path_,e);return new Dc(this.syncTree_,n)}node(){return Ic(this.syncTree_,this.path_)}}const gS=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Qp=function(i,e,n){if(!i||typeof i!="object")return i;if(j(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return yS(i[".sv"],e,n);if(typeof i[".sv"]=="object")return vS(i[".sv"],e);j(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},yS=function(i,e,n){switch(i){case"timestamp":return n.timestamp;default:j(!1,"Unexpected server value: "+i)}},vS=function(i,e,n){i.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const s=i.increment;typeof s!="number"&&j(!1,"Unexpected increment value: "+s);const l=e.node();if(j(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const d=l.getValue();return typeof d!="number"?s:d+s},_S=function(i,e,n,s){return Oc(e,new Dc(n,i),s)},Dg=function(i,e,n){return Oc(i,new Mc(e),n)};function Oc(i,e,n){const s=i.getPriority().val(),l=Qp(s,e.getImmediateChild(".priority"),n);let u;if(i.isLeafNode()){const d=i,h=Qp(d.getValue(),e,n);return h!==d.getValue()||l!==d.getPriority().val()?new tt(h,rt(l)):i}else{const d=i;return u=d,l!==d.getPriority().val()&&(u=u.updatePriority(new tt(l))),d.forEachChild(He,(h,m)=>{const g=Oc(m,e.getImmediateChild(h),n);g!==m&&(u=u.updateImmediateChild(h,g))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Lc(i,e){let n=e instanceof Re?e:new Re(e),s=i,l=ye(n);for(;l!==null;){const u=Xr(s.node.children,l)||{children:{},childCount:0};s=new Ac(l,s,u),n=Oe(n),l=ye(n)}return s}function si(i){return i.node.value}function Og(i,e){i.node.value=e,tc(i)}function Ag(i){return i.node.childCount>0}function wS(i){return si(i)===void 0&&!Ag(i)}function yl(i,e){Tt(i.node.children,(n,s)=>{e(new Ac(n,i,s))})}function Lg(i,e,n,s){n&&!s&&e(i),yl(i,l=>{Lg(l,e,!0,s)}),n&&s&&e(i)}function CS(i,e,n){let s=i.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Es(i){return new Re(i.parent===null?i.name:Es(i.parent)+"/"+i.name)}function tc(i){i.parent!==null&&xS(i.parent,i.name,i)}function xS(i,e,n){const s=wS(n),l=vn(i.node.children,e);s&&l?(delete i.node.children[e],i.node.childCount--,tc(i)):!s&&!l&&(i.node.children[e]=n.node,i.node.childCount++,tc(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=/[\[\].#$\/\u0000-\u001F\u007F]/,ES=/[\[\].#$\u0000-\u001F\u007F]/,Mu=10*1024*1024,jg=function(i){return typeof i=="string"&&i.length!==0&&!SS.test(i)},Fg=function(i){return typeof i=="string"&&i.length!==0&&!ES.test(i)},kS=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Fg(i)},NS=function(i,e,n,s){jc(fc(i,"value"),e,n)},jc=function(i,e,n){const s=n instanceof Re?new $C(n,i):n;if(e===void 0)throw new Error(i+"contains undefined "+dr(s));if(typeof e=="function")throw new Error(i+"contains a function "+dr(s)+" with contents = "+e.toString());if(Dm(e))throw new Error(i+"contains "+e.toString()+" "+dr(s));if(typeof e=="string"&&e.length>Mu/3&&dl(e)>Mu)throw new Error(i+"contains a string greater than "+Mu+" utf8 bytes "+dr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(Tt(e,(d,h)=>{if(d===".value")l=!0;else if(d!==".priority"&&d!==".sv"&&(u=!0,!jg(d)))throw new Error(i+" contains an invalid key ("+d+") "+dr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);HC(s,d),jc(i,h,s),VC(s)}),l&&u)throw new Error(i+' contains ".value" child '+dr(s)+" in addition to actual children.")}},zg=function(i,e,n,s){if(!Fg(n))throw new Error(fc(i,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},TS=function(i,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),zg(i,e,n)},Wg=function(i,e){if(ye(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},IS=function(i,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!jg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!kS(n))throw new Error(fc(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Bg(i,e){let n=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();n!==null&&!rg(u,n.path)&&(i.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(l)}n&&i.eventLists_.push(n)}function rn(i,e,n){Bg(i,n),PS(i,s=>Yt(s,e)||Yt(e,s))}function PS(i,e){i.recursionDepth_++;let n=!0;for(let s=0;s<i.eventLists_.length;s++){const l=i.eventLists_[s];if(l){const u=l.path;e(u)?(RS(i.eventLists_[s]),i.eventLists_[s]=null):n=!1}}n&&(i.eventLists_=[]),i.recursionDepth_--}function RS(i){for(let e=0;e<i.events.length;e++){const n=i.events[e];if(n!==null){i.events[e]=null;const s=n.getEventRunner();ts&&ht("event: "+n.toString()),ii(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="repo_interrupt",DS=25;class OS{constructor(e,n,s,l){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=el(),this.transactionQueueTree_=new Ac,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function AS(i,e,n){if(i.stats_=gc(i.repoInfo_),i.forceRestClient_||pC())i.server_=new Zo(i.repoInfo_,(s,l,u,d)=>{qp(i,s,l,u,d)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Kp(i,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}i.persistentConnection_=new mn(i.repoInfo_,e,(s,l,u,d)=>{qp(i,s,l,u,d)},s=>{Kp(i,s)},s=>{jS(i,s)},i.authTokenProvider_,i.appCheckProvider_,n),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(s=>{i.server_.refreshAuthToken(s)}),i.appCheckProvider_.addTokenChangeListener(s=>{i.server_.refreshAppCheckToken(s.token)}),i.statsReporter_=_C(i.repoInfo_,()=>new yx(i.stats_,i.server_)),i.infoData_=new fx,i.infoSyncTree_=new Yp({startListening:(s,l,u,d)=>{let h=[];const m=i.infoData_.getNode(s._path);return m.isEmpty()||(h=xs(i.infoSyncTree_,s._path,m),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),zc(i,"connected",!1),i.serverSyncTree_=new Yp({startListening:(s,l,u,d)=>(i.server_.listen(s,u,l,(h,m)=>{const g=d(h,m);rn(i.eventQueue_,s._path,g)}),[]),stopListening:(s,l)=>{i.server_.unlisten(s,l)}})}function LS(i){const n=i.infoData_.getNode(new Re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Fc(i){return gS({timestamp:LS(i)})}function qp(i,e,n,s,l){i.dataUpdateCount++;const u=new Re(e);n=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,n):n;let d=[];if(l)if(s){const m=Yo(n,g=>rt(g));d=uS(i.serverSyncTree_,u,m,l)}else{const m=rt(n);d=bg(i.serverSyncTree_,u,m,l)}else if(s){const m=Yo(n,g=>rt(g));d=oS(i.serverSyncTree_,u,m)}else{const m=rt(n);d=xs(i.serverSyncTree_,u,m)}let h=u;d.length>0&&(h=_l(i,u)),rn(i.eventQueue_,h,d)}function Kp(i,e){zc(i,"connected",e),e===!1&&WS(i)}function jS(i,e){Tt(e,(n,s)=>{zc(i,n,s)})}function zc(i,e,n){const s=new Re("/.info/"+e),l=rt(n);i.infoData_.updateSnapshot(s,l);const u=xs(i.infoSyncTree_,s,l);rn(i.eventQueue_,s,u)}function Ug(i){return i.nextWriteId_++}function FS(i,e,n){const s=dS(i.serverSyncTree_,e);return s!=null?Promise.resolve(s):i.server_.get(e).then(l=>{const u=rt(l).withIndex(e._queryParams.getIndex());cS(i.serverSyncTree_,e,n,!0);let d;if(e._queryParams.loadsAllData())d=xs(i.serverSyncTree_,e._path,u);else{const h=ms(i.serverSyncTree_,e);d=bg(i.serverSyncTree_,e._path,u,h)}return rn(i.eventQueue_,e._path,d),Ig(i.serverSyncTree_,e,n,null,!0),u},l=>(vl(i,"get for query "+Ke(e)+" failed: "+l),Promise.reject(new Error(l))))}function zS(i,e,n,s,l){vl(i,"set",{path:e.toString(),value:n,priority:s});const u=Fc(i),d=rt(n,s),h=Ic(i.serverSyncTree_,e),m=Dg(d,h,u),g=Ug(i),C=Tg(i.serverSyncTree_,e,m,g,!0);Bg(i.eventQueue_,C),i.server_.put(e.toString(),d.val(!0),(w,I)=>{const b=w==="ok";b||Nt("set at "+e+" failed: "+w);const D=hr(i.serverSyncTree_,g,!b);rn(i.eventQueue_,e,D),US(i,l,w,I)});const _=Yg(i,e);_l(i,_),rn(i.eventQueue_,_,[])}function WS(i){vl(i,"onDisconnectEvents");const e=Fc(i),n=el();Ku(i.onDisconnect_,ke(),(l,u)=>{const d=_S(l,u,i.serverSyncTree_,e);dg(n,l,d)});let s=[];Ku(n,ke(),(l,u)=>{s=s.concat(xs(i.serverSyncTree_,l,u));const d=Yg(i,l);_l(i,d)}),i.onDisconnect_=el(),rn(i.eventQueue_,ke(),s)}function BS(i){i.persistentConnection_&&i.persistentConnection_.interrupt(MS)}function vl(i,...e){let n="";i.persistentConnection_&&(n=i.persistentConnection_.id+":"),ht(n,...e)}function US(i,e,n,s){e&&ii(()=>{if(n==="ok")e(null);else{const l=(n||"error").toUpperCase();let u=l;s&&(u+=": "+s);const d=new Error(u);d.code=l,e(d)}})}function $g(i,e,n){return Ic(i.serverSyncTree_,e,n)||ne.EMPTY_NODE}function Wc(i,e=i.transactionQueueTree_){if(e||wl(i,e),si(e)){const n=Vg(i,e);j(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&$S(i,Es(e),n)}else Ag(e)&&yl(e,n=>{Wc(i,n)})}function $S(i,e,n){const s=n.map(g=>g.currentWriteId),l=$g(i,e,s);let u=l;const d=l.hash();for(let g=0;g<n.length;g++){const C=n[g];j(C.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const _=yt(e,C.path);u=u.updateChild(_,C.currentOutputSnapshotRaw)}const h=u.val(!0),m=e;i.server_.put(m.toString(),h,g=>{vl(i,"transaction put response",{path:m.toString(),status:g});let C=[];if(g==="ok"){const _=[];for(let w=0;w<n.length;w++)n[w].status=2,C=C.concat(hr(i.serverSyncTree_,n[w].currentWriteId)),n[w].onComplete&&_.push(()=>n[w].onComplete(null,!0,n[w].currentOutputSnapshotResolved)),n[w].unwatcher();wl(i,Lc(i.transactionQueueTree_,e)),Wc(i,i.transactionQueueTree_),rn(i.eventQueue_,e,C);for(let w=0;w<_.length;w++)ii(_[w])}else{if(g==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{Nt("transaction at "+m.toString()+" failed: "+g);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=g}_l(i,e)}},d)}function _l(i,e){const n=Hg(i,e),s=Es(n),l=Vg(i,n);return HS(i,l,s),s}function HS(i,e,n){if(e.length===0)return;const s=[];let l=[];const d=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],g=yt(n,m.path);let C=!1,_;if(j(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)C=!0,_=m.abortReason,l=l.concat(hr(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=DS)C=!0,_="maxretry",l=l.concat(hr(i.serverSyncTree_,m.currentWriteId,!0));else{const w=$g(i,m.path,d);m.currentInputSnapshot=w;const I=e[h].update(w.val());if(I!==void 0){jc("transaction failed: Data returned ",I,m.path);let b=rt(I);typeof I=="object"&&I!=null&&vn(I,".priority")||(b=b.updatePriority(w.getPriority()));const L=m.currentWriteId,W=Fc(i),F=Dg(b,w,W);m.currentOutputSnapshotRaw=b,m.currentOutputSnapshotResolved=F,m.currentWriteId=Ug(i),d.splice(d.indexOf(L),1),l=l.concat(Tg(i.serverSyncTree_,m.path,F,m.currentWriteId,m.applyLocally)),l=l.concat(hr(i.serverSyncTree_,L,!0))}else C=!0,_="nodata",l=l.concat(hr(i.serverSyncTree_,m.currentWriteId,!0))}rn(i.eventQueue_,n,l),l=[],C&&(e[h].status=2,function(w){setTimeout(w,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(_==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(_),!1,null))))}wl(i,i.transactionQueueTree_);for(let h=0;h<s.length;h++)ii(s[h]);Wc(i,i.transactionQueueTree_)}function Hg(i,e){let n,s=i.transactionQueueTree_;for(n=ye(e);n!==null&&si(s)===void 0;)s=Lc(s,n),e=Oe(e),n=ye(e);return s}function Vg(i,e){const n=[];return Gg(i,e,n),n.sort((s,l)=>s.order-l.order),n}function Gg(i,e,n){const s=si(e);if(s)for(let l=0;l<s.length;l++)n.push(s[l]);yl(e,l=>{Gg(i,l,n)})}function wl(i,e){const n=si(e);if(n){let s=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[s]=n[l],s++);n.length=s,Og(e,n.length>0?n:void 0)}yl(e,s=>{wl(i,s)})}function Yg(i,e){const n=Es(Hg(i,e)),s=Lc(i.transactionQueueTree_,e);return CS(s,l=>{Du(i,l)}),Du(i,s),Lg(s,l=>{Du(i,l)}),n}function Du(i,e){const n=si(e);if(n){const s=[];let l=[],u=-1;for(let d=0;d<n.length;d++)n[d].status===3||(n[d].status===1?(j(u===d-1,"All SENT items should be at beginning of queue."),u=d,n[d].status=3,n[d].abortReason="set"):(j(n[d].status===0,"Unexpected transaction status in abort"),n[d].unwatcher(),l=l.concat(hr(i.serverSyncTree_,n[d].currentWriteId,!0)),n[d].onComplete&&s.push(n[d].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Og(e,void 0):n.length=u+1,rn(i.eventQueue_,Es(e),l);for(let d=0;d<s.length;d++)ii(s[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(i){let e="";const n=i.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let l=n[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function GS(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const n of i.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Nt(`Invalid query segment '${n}' in query '${i}'`)}return e}const Xp=function(i,e){const n=YS(i),s=n.namespace;n.domain==="firebase.com"&&yn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&yn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||sC();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Vm(n.host,n.secure,s,l,e,"",s!==n.subdomain),path:new Re(n.pathString)}},YS=function(i){let e="",n="",s="",l="",u="",d=!0,h="https",m=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(h=i.substring(0,g-1),i=i.substring(g+2));let C=i.indexOf("/");C===-1&&(C=i.length);let _=i.indexOf("?");_===-1&&(_=i.length),e=i.substring(0,Math.min(C,_)),C<_&&(l=VS(i.substring(C,_)));const w=GS(i.substring(Math.min(i.length,_)));g=e.indexOf(":"),g>=0?(d=h==="https"||h==="wss",m=parseInt(e.substring(g+1),10)):g=e.length;const I=e.slice(0,g);if(I.toLowerCase()==="localhost")n="localhost";else if(I.split(".").length<=2)n=I;else{const b=e.indexOf(".");s=e.substring(0,b).toLowerCase(),n=e.substring(b+1),u=s}"ns"in w&&(u=w.ns)}return{host:e,port:m,domain:n,subdomain:s,secure:d,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n,s,l){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}}class qS{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,s,l){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=l}get key(){return pe(this._path)?null:eg(this._path)}get ref(){return new _n(this._repo,this._path)}get _queryIdentifier(){const e=Lp(this._queryParams),n=pc(e);return n==="{}"?"default":n}get _queryObject(){return Lp(this._queryParams)}isEqual(e){if(e=ni(e),!(e instanceof Bc))return!1;const n=this._repo===e._repo,s=rg(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return n&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+UC(this._path)}}class _n extends Bc{constructor(e,n){super(e,n,new Cc,!1)}get parent(){const e=ng(this._path);return e===null?null:new _n(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class gs{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Re(e),s=al(this.ref,e);return new gs(this._node.getChild(n),s,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new gs(l,al(this.ref,s),He)))}hasChild(e){const n=new Re(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ou(i,e){return i=ni(i),i._checkNotDeleted("ref"),e!==void 0?al(i._root,e):i._root}function al(i,e){return i=ni(i),ye(i._path)===null?TS("child","path",e):zg("child","path",e),new _n(i._repo,Xe(i._path,e))}function XS(i){return Wg("remove",i._path),Qg(i,null)}function Qg(i,e){i=ni(i),Wg("set",i._path),NS("set",e,i._path);const n=new cl;return zS(i._repo,i._path,e,null,n.wrapCallback(()=>{})),n.promise}function JS(i){i=ni(i);const e=new KS(()=>{}),n=new Uc(e);return FS(i._repo,i,n).then(s=>new gs(s,new _n(i._repo,i._path),i._queryParams.getIndex()))}class Uc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new QS("value",this,new gs(e.snapshotNode,new _n(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new qS(this,e,n):null}matches(e){return e instanceof Uc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}Jx(_n);rS(_n);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="FIREBASE_DATABASE_EMULATOR_HOST",nc={};let eE=!1;function tE(i,e,n,s){i.repoInfo_=new Vm(`${e}:${n}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),s&&(i.authTokenProvider_=s)}function nE(i,e,n,s,l){let u=s||i.options.databaseURL;u===void 0&&(i.options.projectId||yn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ht("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let d=Xp(u,l),h=d.repoInfo,m;typeof process<"u"&&vp&&(m=vp[ZS]),m?(u=`http://${m}?ns=${h.namespace}`,d=Xp(u,l),h=d.repoInfo):d.repoInfo.secure;const g=new gC(i.name,i.options,e);IS("Invalid Firebase Database URL",d),pe(d.path)||yn("Database URL must point to the root of a Firebase Database (not including a child path).");const C=iE(h,i,g,new mC(i.name,n));return new sE(C,i)}function rE(i,e){const n=nc[e];(!n||n[i.key]!==i)&&yn(`Database ${e}(${i.repoInfo_}) has already been deleted.`),BS(i),delete n[i.key]}function iE(i,e,n,s){let l=nc[e.name];l||(l={},nc[e.name]=l);let u=l[i.toURLString()];return u&&yn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new OS(i,eE,n,s),l[i.toURLString()]=u,u}class sE{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(AS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _n(this._repo,ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&(rE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&yn("Cannot call "+e+" on a deleted database.")}}function oE(i=$1(),e){const n=z1(i,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=bw("database");s&&lE(n,...s)}return n}function lE(i,e,n,s={}){i=ni(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&yn("Cannot call useEmulator() after instance has already been initialized.");const l=i._repoInternal;let u;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&yn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Bo(Bo.OWNER);else if(s.mockUserToken){const d=typeof s.mockUserToken=="string"?s.mockUserToken:Pw(s.mockUserToken,i.app.options.projectId);u=new Bo(d)}tE(l,e,n,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(i){Z1(U1),qo(new ls("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return nE(s,l,u,n)},"PUBLIC").setMultipleInstances(!0)),Yr(_p,wp,i),Yr(_p,wp,"esm2017")}mn.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};mn.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};aE();var uE="firebase",cE="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr(uE,cE,"app");const dE={apiKey:"AIzaSyCO0jRb1uLoeaTLo7NE0BdRKVERp2anC-A",authDomain:"bodik-75ffc.firebaseapp.com",databaseURL:"https://bodik-75ffc-default-rtdb.europe-west1.firebasedatabase.app",projectId:"bodik-75ffc",storageBucket:"bodik-75ffc.appspot.com",messagingSenderId:"904451021821",appId:"1:904451021821:web:b1b6606a4d38a6c1941794"},fE=Tm(dE),Au=oE(fE),Lu="/app_budget/items/";function hE(){const[i,e]=K.useState(!1),[n,s]=K.useState(""),[l,u]=K.useState(""),[d,h]=Pe("localMainCurrency",""),[m,g]=Pe("localAccounts",[]),[C,_]=Pe("localCurrency",[]),[w,I]=Pe("localTransactions",[]),b=()=>{s(""),u(""),e(!0);try{Qg(Ou(Au,Lu+"bodik"),{localMainCurrency:d,localAccounts:m,localCurrency:C,localTransactions:w}).then(()=>{s("Выгружено"),e(!1)})}catch(W){console.log(W),u("Error. Try later")}},D=()=>{if(confirm("Восстановить? Текущие данные будут удалены!")===!0){s(""),u(""),e(!0);try{const W=Ou(Au);JS(al(W,`${Lu}/bodik`)).then(F=>{if(F.exists()){const V=F.val();V.localMainCurrency&&h(V.localMainCurrency),V.localAccounts&&g(V.localAccounts),V.localCurrency&&_(V.localCurrency),V.localTransactions&&I(V.localTransactions),s("Загружено"),window.location.reload()}else u("No data available");e(!1)}).catch(F=>{console.error(F),u(F)})}catch(W){console.log(W),u("Error. Try later")}}},L=()=>{s(""),u(""),e(!0),confirm("Удалить?")===!0?XS(Ou(Au,Lu+"bodik")).then(()=>{e(!1),s("Данные на сервере удалены")}).catch(W=>{console.error("Error removing item:",W),e(!1),u(W)}):e(!1)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mt-4 flex gap-2 ",children:[y.jsx("button",{onClick:L,className:"btn_2",children:"Удалить все"}),y.jsx("button",{onClick:D,className:"btn_2",children:"Восстановить"})]}),y.jsx("button",{onClick:b,className:"mt-4 py-2 w-full border-[#E64A19] border-[1.5px] font-medium text-[#E64A19] dark:text-white dark:border-white rounded-lg",children:"Сделать резервную копию"}),l&&y.jsx("p",{className:"mt-2",children:l}),i&&y.jsx("p",{className:"mt-2",children:i}),n&&y.jsx("p",{className:"mt-2",children:n})]})}function pE({setModal:i}){const[e,n]=Pe("localMainCurrency",""),[s,l]=Pe("localCurrency",[]),[u,d]=K.useState(e||""),h=$=>{d($),n($),l(zu)},[m,g]=K.useState({}),C=($,ae)=>{g(ue=>({...ue,[$]:ae})),isNaN(Number(ae))||l(ue=>ue.map(ve=>ve.id===$?{...ve,exchangeRate:Number(ae)}:ve))},[_,w]=K.useState(!1),[I,b]=K.useState(!1),[D,L]=K.useState(""),[W,F]=K.useState(!1),[V,te]=K.useState(!1),[X,se]=K.useState(""),_e=$=>{$==="1206"&&(se(""),F(!1),te(!0))};return y.jsxs(y.Fragment,{children:[V&&y.jsx(kt,{title:"Синхронизация",setModal:te,node:y.jsx(hE,{})}),_&&y.jsx(Vo,{title:"Удалить всё",dascription:"Вы действительно хотите удалить всё?",onClose:()=>w(!1),onConfirm:()=>{localStorage.clear(),location.reload()}}),W&&y.jsx(kt,{title:"Введите пароль",setModal:F,node:y.jsxs("div",{children:[y.jsx("input",{type:"password",className:"input",value:X,autoFocus:!0,placeholder:"Ввести пароль",onChange:$=>se($.target.value)}),y.jsx("button",{className:"btn_2 mt-4",onClick:()=>_e(X),children:"Подтвердить"})]}),subModal:!0}),I&&y.jsx(Vo,{title:"Изменение основной валюты",dascription:"Вы действительно хотите изменить основную валюту? Курсы оставшихся валют нужно будет настроить заново!",onClose:()=>b(!1),onConfirm:()=>{h(D),b(!1)}}),y.jsx("h3",{children:u?`Основная валюта ${u}`:"Выберите основную валюту"}),y.jsx("div",{className:"mt-1 grid grid-cols-4 gap-4",children:zu.map(({id:$,title:ae})=>y.jsx("button",{className:`${u===ae?"ring-2 ring-neutral-500":""} btn_2`,onClick:()=>{e?(b(!0),L(ae)):h(ae)},children:ae},$))}),u&&y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"mt-4 font-aptosSemiBold",children:"Актуальный курс"}),y.jsx("div",{className:"mt-1 grid grid-cols-3 gap-4",children:s.filter($=>$.title!==u).map(({id:$,title:ae,exchangeRate:ue})=>y.jsxs("div",{className:"flex items-center",children:[y.jsx("p",{className:"w-1/2",children:ae}),y.jsx("input",{type:"number",className:"input",value:m[$]??ue.toString(),onChange:ve=>C($,ve.target.value)})]},$))})]}),y.jsx("h3",{className:"mt-4",children:"Данные приложения"}),y.jsxs("div",{className:"mt-1 grid grid-cols-2 gap-4",children:[y.jsx("button",{className:"btn_2 border border-[#EA4335] text-[#EA4335]",onClick:()=>w(!0),children:"Удалить все"}),y.jsx("button",{className:"btn_2",onClick:()=>F(!0),children:"Синхронизация"})]}),y.jsx(_w,{}),u&&y.jsx("button",{className:"mt-4 ml-auto block bg-black/5 aspect-square px-4 h-10 rounded-lg leading-none transition-colors hover:bg-black/10 disabled:hidden dark:bg-black dark:text-white",onClick:()=>i(!1),disabled:!u,children:"Сохранить"})]})}function mE({setModal:i}){const[e,n]=Pe("localBudget",0),s=l=>{n(l===""?"":parseFloat(l)||0)};return y.jsxs(y.Fragment,{children:[y.jsx("h3",{children:"Сумма расходов на месяц"}),y.jsx("input",{type:"number",placeholder:"Введите планируемую сумму",className:"w-full dark:bg-transparent dark:text-white",value:e===0?"":e,onChange:l=>s(l.target.value)}),y.jsx("button",{className:"mt-4 ml-auto block bg-black/5 aspect-square px-4 h-10 rounded-lg leading-none transition-colors hover:bg-black/10 disabled:hidden",onClick:()=>i(!1),disabled:!e,children:"Сохранить"})]})}function gE({mainCurrency:i,balance:e,localCurrency:n}){const l=((u,d,h)=>{const m=h.find(C=>C.title===d);if(!m||m.exchangeRate===0)throw new Error("Invalid base currency or exchange rate is zero");const g=m.exchangeRate;return h.map(({title:C,exchangeRate:_})=>{if(_===0)return{title:C,amount:0};const w=u/g*_;return{title:C,amount:Number(w.toFixed(2))}})})(e,i,n);return y.jsx(y.Fragment,{children:l.length>0?y.jsx(y.Fragment,{children:l.map(u=>y.jsxs("p",{children:[u.amount," ",u.title]},u.title))}):y.jsx("p",{children:"Сначала выберите валюту и добавьте счета"})})}const rc=(i,e)=>e.map(s=>{const l=i.reduce((u,d)=>{const h=e.find(g=>g.title===d.currency);if(!h)return u;const m=Number(d.amount)/h.exchangeRate*s.exchangeRate;return u+m},0);return{currency:s.title,total:l}}),qg=i=>{const n=om(i,new Date);let s="";if(n===0)s="Сегодня";else if(n===1)s="Завтра";else if(n===2)s="Послезавтра";else if(n===-1)s="Вчера";else if(n===-2)s="Позавчера";else{const l=Ho(i,"dd.MM.yy",{locale:cc});s=l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()}return s};function yE(){var X,se,_e;const[i,e]=K.useState(!1),[n,s]=K.useState(!1),[l,u]=K.useState(!1),[d]=Pe("localBudget",0),[h]=Pe("localMainCurrency",""),[m]=Pe("localAccounts",[]),[g]=Pe("localCurrency",[]),[C]=Pe("localTransactions",[]),_=g.map($=>{const ae=m.reduce((ue,ve)=>{const q=g.find(xe=>xe.title===ve.currency);return q?ue+ve.initialBalance/q.exchangeRate*$.exchangeRate:ue},0);return{currency:$.title,total:ae}}),w=g.map($=>{const ae=C.filter(ue=>ue.transactionType==="income").reduce((ue,ve)=>{const q=g.find(xe=>xe.title===ve.currency);return q?ue+ve.amount/q.exchangeRate*$.exchangeRate:ue},0);return{currency:$.title,total:ae}}),I=g.map($=>{const ae=C.filter(ue=>ue.transactionType==="expense").reduce((ue,ve)=>{const q=g.find(xe=>xe.title===ve.currency);return q?ue+ve.amount/q.exchangeRate*$.exchangeRate:ue},0);return{currency:$.title,total:ae}}),b=((X=_.find($=>$.currency===h))==null?void 0:X.total)||0,D=((se=w.find($=>$.currency===h))==null?void 0:se.total)||0,L=((_e=I.find($=>$.currency===h))==null?void 0:_e.total)||0,W=b+D+L,F=rc(C.filter($=>$.transactionType==="expense"),g),V=d?Math.round(F.filter($=>$.currency===h)[0].total/d*100):0,te=F.length>0?F.filter($=>$.currency===h)[0].total*-1:0;return y.jsxs(y.Fragment,{children:[i&&y.jsx(kt,{title:"Настройки",setModal:e,node:y.jsx(pE,{setModal:e})}),n&&y.jsx(kt,{title:"Бюджет",setModal:s,node:y.jsx(mE,{setModal:s})}),l&&y.jsx(kt,{title:"Баланс",setModal:u,node:y.jsx(gE,{mainCurrency:h,balance:W,localCurrency:g})}),y.jsxs("section",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex gap-4 items-center",children:[y.jsx("button",{onClick:()=>e(!0),className:"rounded-full bg-black text-white dark:bg-neutral-600 font-aptosSemiBold aspect-square w-10 h-10 flex items-center justify-center",children:"BS"}),y.jsxs("div",{onClick:()=>u(!0),className:"cursor-pointer",children:[y.jsx("p",{className:"font-aptosSemiBold text-neutral-500",children:"Баланс"}),y.jsxs("p",{className:"text-xl font-aptosBold leading-none",children:[m.length>0?W.toFixed(1):0," ",h||""]})]})]}),y.jsxs("div",{className:"flex flex-col items-end cursor-pointer",onClick:()=>s(!0),children:[y.jsxs("p",{className:"font-aptosSemiBold text-neutral-500",children:["Бюджет ",d?`${V*-1}%`:""]}),d&&y.jsxs("p",{className:"text-xl font-aptosBold leading-none",children:[te.toFixed(0)," / ",d," ",h]})]})]})]})}function Jp({title:i,color:e,amount:n,setModal:s}){const[l]=Pe("localMainCurrency","");return y.jsxs("div",{style:{backgroundColor:e},className:"rounded-lg p-3 pb-2 w-full flex justify-between items-start relative dark:text-black dark:saturate-[900%]",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-aptosSemiBold text-sm",children:i}),y.jsxs("p",{className:"mt-4 text-xl font-aptosBold",children:[n.toFixed(1)," ",y.jsx("span",{className:"font-aptosSemiBold text-lg",children:l})]})]}),y.jsx("button",{className:"btn_1 absolute top-2 right-2",onClick:()=>s(!0),children:"+"})]})}function vE({setModal:i}){const[e]=Pe("localAccounts",[]);return y.jsx(y.Fragment,{children:y.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.map(n=>y.jsxs("button",{style:{backgroundColor:n.color,color:"white"},className:"btn_2",onClick:()=>i(n),children:[n.title,", ",n.currency]},n.id))})})}function _E({categories:i,setModal:e,onClose:n}){return y.jsx(y.Fragment,{children:y.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.map(s=>y.jsx("button",{className:"btn_2",onClick:()=>{e&&e(s),n&&n(!1)},children:s},s))})})}function Kg(i){var e,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var l=i.length;for(e=0;e<l;e++)i[e]&&(n=Kg(i[e]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function wE(){for(var i,e,n=0,s="",l=arguments.length;n<l;n++)(i=arguments[n])&&(e=Kg(i))&&(s&&(s+=" "),s+=e);return s}const $c="-",CE=i=>{const e=SE(i),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=i;return{getClassGroupId:d=>{const h=d.split($c);return h[0]===""&&h.length!==1&&h.shift(),Xg(h,e)||xE(d)},getConflictingClassGroupIds:(d,h)=>{const m=n[d]||[];return h&&s[d]?[...m,...s[d]]:m}}},Xg=(i,e)=>{var d;if(i.length===0)return e.classGroupId;const n=i[0],s=e.nextPart.get(n),l=s?Xg(i.slice(1),s):void 0;if(l)return l;if(e.validators.length===0)return;const u=i.join($c);return(d=e.validators.find(({validator:h})=>h(u)))==null?void 0:d.classGroupId},Zp=/^\[(.+)\]$/,xE=i=>{if(Zp.test(i)){const e=Zp.exec(i)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},SE=i=>{const{theme:e,prefix:n}=i,s={nextPart:new Map,validators:[]};return kE(Object.entries(i.classGroups),n).forEach(([u,d])=>{ic(d,s,u,e)}),s},ic=(i,e,n,s)=>{i.forEach(l=>{if(typeof l=="string"){const u=l===""?e:em(e,l);u.classGroupId=n;return}if(typeof l=="function"){if(EE(l)){ic(l(s),e,n,s);return}e.validators.push({validator:l,classGroupId:n});return}Object.entries(l).forEach(([u,d])=>{ic(d,em(e,u),n,s)})})},em=(i,e)=>{let n=i;return e.split($c).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},EE=i=>i.isThemeGetter,kE=(i,e)=>e?i.map(([n,s])=>{const l=s.map(u=>typeof u=="string"?e+u:typeof u=="object"?Object.fromEntries(Object.entries(u).map(([d,h])=>[e+d,h])):u);return[n,l]}):i,NE=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const l=(u,d)=>{n.set(u,d),e++,e>i&&(e=0,s=n,n=new Map)};return{get(u){let d=n.get(u);if(d!==void 0)return d;if((d=s.get(u))!==void 0)return l(u,d),d},set(u,d){n.has(u)?n.set(u,d):l(u,d)}}},Jg="!",TE=i=>{const{separator:e,experimentalParseClassName:n}=i,s=e.length===1,l=e[0],u=e.length,d=h=>{const m=[];let g=0,C=0,_;for(let L=0;L<h.length;L++){let W=h[L];if(g===0){if(W===l&&(s||h.slice(L,L+u)===e)){m.push(h.slice(C,L)),C=L+u;continue}if(W==="/"){_=L;continue}}W==="["?g++:W==="]"&&g--}const w=m.length===0?h:h.substring(C),I=w.startsWith(Jg),b=I?w.substring(1):w,D=_&&_>C?_-C:void 0;return{modifiers:m,hasImportantModifier:I,baseClassName:b,maybePostfixModifierPosition:D}};return n?h=>n({className:h,parseClassName:d}):d},IE=i=>{if(i.length<=1)return i;const e=[];let n=[];return i.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},bE=i=>({cache:NE(i.cacheSize),parseClassName:TE(i),...CE(i)}),PE=/\s+/,RE=(i,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:l}=e,u=[],d=i.trim().split(PE);let h="";for(let m=d.length-1;m>=0;m-=1){const g=d[m],{modifiers:C,hasImportantModifier:_,baseClassName:w,maybePostfixModifierPosition:I}=n(g);let b=!!I,D=s(b?w.substring(0,I):w);if(!D){if(!b){h=g+(h.length>0?" "+h:h);continue}if(D=s(w),!D){h=g+(h.length>0?" "+h:h);continue}b=!1}const L=IE(C).join(":"),W=_?L+Jg:L,F=W+D;if(u.includes(F))continue;u.push(F);const V=l(D,b);for(let te=0;te<V.length;++te){const X=V[te];u.push(W+X)}h=g+(h.length>0?" "+h:h)}return h};function ME(){let i=0,e,n,s="";for(;i<arguments.length;)(e=arguments[i++])&&(n=Zg(e))&&(s&&(s+=" "),s+=n);return s}const Zg=i=>{if(typeof i=="string")return i;let e,n="";for(let s=0;s<i.length;s++)i[s]&&(e=Zg(i[s]))&&(n&&(n+=" "),n+=e);return n};function DE(i,...e){let n,s,l,u=d;function d(m){const g=e.reduce((C,_)=>_(C),i());return n=bE(g),s=n.cache.get,l=n.cache.set,u=h,h(m)}function h(m){const g=s(m);if(g)return g;const C=RE(m,n);return l(m,C),C}return function(){return u(ME.apply(null,arguments))}}const je=i=>{const e=n=>n[i]||[];return e.isThemeGetter=!0,e},ey=/^\[(?:([a-z-]+):)?(.+)\]$/i,OE=/^\d+\/\d+$/,AE=new Set(["px","full","screen"]),LE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hn=i=>Kr(i)||AE.has(i)||OE.test(i),Wn=i=>oi(i,"length",QE),Kr=i=>!!i&&!Number.isNaN(Number(i)),ju=i=>oi(i,"number",Kr),Zi=i=>!!i&&Number.isInteger(Number(i)),BE=i=>i.endsWith("%")&&Kr(i.slice(0,-1)),le=i=>ey.test(i),Bn=i=>LE.test(i),UE=new Set(["length","size","percentage"]),$E=i=>oi(i,UE,ty),HE=i=>oi(i,"position",ty),VE=new Set(["image","url"]),GE=i=>oi(i,VE,KE),YE=i=>oi(i,"",qE),es=()=>!0,oi=(i,e,n)=>{const s=ey.exec(i);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},QE=i=>jE.test(i)&&!FE.test(i),ty=()=>!1,qE=i=>zE.test(i),KE=i=>WE.test(i),XE=()=>{const i=je("colors"),e=je("spacing"),n=je("blur"),s=je("brightness"),l=je("borderColor"),u=je("borderRadius"),d=je("borderSpacing"),h=je("borderWidth"),m=je("contrast"),g=je("grayscale"),C=je("hueRotate"),_=je("invert"),w=je("gap"),I=je("gradientColorStops"),b=je("gradientColorStopPositions"),D=je("inset"),L=je("margin"),W=je("opacity"),F=je("padding"),V=je("saturate"),te=je("scale"),X=je("sepia"),se=je("skew"),_e=je("space"),$=je("translate"),ae=()=>["auto","contain","none"],ue=()=>["auto","hidden","clip","visible","scroll"],ve=()=>["auto",le,e],q=()=>[le,e],xe=()=>["",hn,Wn],ze=()=>["auto",Kr,le],we=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ne=()=>["solid","dashed","dotted","double","none"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",le],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>[Kr,le];return{cacheSize:500,separator:":",theme:{colors:[es],spacing:[hn,Wn],blur:["none","",Bn,le],brightness:E(),borderColor:[i],borderRadius:["none","","full",Bn,le],borderSpacing:q(),borderWidth:xe(),contrast:E(),grayscale:J(),hueRotate:E(),invert:J(),gap:q(),gradientColorStops:[i],gradientColorStopPositions:[BE,Wn],inset:ve(),margin:ve(),opacity:E(),padding:q(),saturate:E(),scale:E(),sepia:J(),skew:E(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",le]}],container:["container"],columns:[{columns:[Bn]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...we(),le]}],overflow:[{overflow:ue()}],"overflow-x":[{"overflow-x":ue()}],"overflow-y":[{"overflow-y":ue()}],overscroll:[{overscroll:ae()}],"overscroll-x":[{"overscroll-x":ae()}],"overscroll-y":[{"overscroll-y":ae()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[D]}],"inset-x":[{"inset-x":[D]}],"inset-y":[{"inset-y":[D]}],start:[{start:[D]}],end:[{end:[D]}],top:[{top:[D]}],right:[{right:[D]}],bottom:[{bottom:[D]}],left:[{left:[D]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zi,le]}],basis:[{basis:ve()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",le]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Zi,le]}],"grid-cols":[{"grid-cols":[es]}],"col-start-end":[{col:["auto",{span:["full",Zi,le]},le]}],"col-start":[{"col-start":ze()}],"col-end":[{"col-end":ze()}],"grid-rows":[{"grid-rows":[es]}],"row-start-end":[{row:["auto",{span:[Zi,le]},le]}],"row-start":[{"row-start":ze()}],"row-end":[{"row-end":ze()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",le]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[F]}],px:[{px:[F]}],py:[{py:[F]}],ps:[{ps:[F]}],pe:[{pe:[F]}],pt:[{pt:[F]}],pr:[{pr:[F]}],pb:[{pb:[F]}],pl:[{pl:[F]}],m:[{m:[L]}],mx:[{mx:[L]}],my:[{my:[L]}],ms:[{ms:[L]}],me:[{me:[L]}],mt:[{mt:[L]}],mr:[{mr:[L]}],mb:[{mb:[L]}],ml:[{ml:[L]}],"space-x":[{"space-x":[_e]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_e]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",le,e]}],"min-w":[{"min-w":[le,e,"min","max","fit"]}],"max-w":[{"max-w":[le,e,"none","full","min","max","fit","prose",{screen:[Bn]},Bn]}],h:[{h:[le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Bn,Wn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ju]}],"font-family":[{font:[es]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",le]}],"line-clamp":[{"line-clamp":["none",Kr,ju]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hn,le]}],"list-image":[{"list-image":["none",le]}],"list-style-type":[{list:["none","disc","decimal",le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[W]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[W]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hn,Wn]}],"underline-offset":[{"underline-offset":["auto",hn,le]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[W]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...we(),HE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$E]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},GE]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[I]}],"gradient-via":[{via:[I]}],"gradient-to":[{to:[I]}],rounded:[{rounded:[u]}],"rounded-s":[{"rounded-s":[u]}],"rounded-e":[{"rounded-e":[u]}],"rounded-t":[{"rounded-t":[u]}],"rounded-r":[{"rounded-r":[u]}],"rounded-b":[{"rounded-b":[u]}],"rounded-l":[{"rounded-l":[u]}],"rounded-ss":[{"rounded-ss":[u]}],"rounded-se":[{"rounded-se":[u]}],"rounded-ee":[{"rounded-ee":[u]}],"rounded-es":[{"rounded-es":[u]}],"rounded-tl":[{"rounded-tl":[u]}],"rounded-tr":[{"rounded-tr":[u]}],"rounded-br":[{"rounded-br":[u]}],"rounded-bl":[{"rounded-bl":[u]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[W]}],"border-style":[{border:[...Ne(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[W]}],"divide-style":[{divide:Ne()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-s":[{"border-s":[l]}],"border-color-e":[{"border-e":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:["",...Ne()]}],"outline-offset":[{"outline-offset":[hn,le]}],"outline-w":[{outline:[hn,Wn]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[W]}],"ring-offset-w":[{"ring-offset":[hn,Wn]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",Bn,YE]}],"shadow-color":[{shadow:[es]}],opacity:[{opacity:[W]}],"mix-blend":[{"mix-blend":[...me(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":me()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",Bn,le]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[C]}],invert:[{invert:[_]}],saturate:[{saturate:[V]}],sepia:[{sepia:[X]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[C]}],"backdrop-invert":[{"backdrop-invert":[_]}],"backdrop-opacity":[{"backdrop-opacity":[W]}],"backdrop-saturate":[{"backdrop-saturate":[V]}],"backdrop-sepia":[{"backdrop-sepia":[X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",le]}],duration:[{duration:E()}],ease:[{ease:["linear","in","out","in-out",le]}],delay:[{delay:E()}],animate:[{animate:["none","spin","ping","pulse","bounce",le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[te]}],"scale-x":[{"scale-x":[te]}],"scale-y":[{"scale-y":[te]}],rotate:[{rotate:[Zi,le]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[se]}],"skew-y":[{"skew-y":[se]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",le]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[hn,Wn,ju]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},JE=DE(XE);function ZE(...i){return JE(wE(i))}function ek({selected:i,onDateSelect:e,setModal:n}){const[s,l]=K.useState(new Date),u=new Date,d=()=>y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("button",{onClick:()=>l(dm(s,1)),className:"text-gray-500",children:y.jsx(tk,{})}),y.jsx("div",{className:"font-aptosSemiBold capitalize text-lg",children:Ho(s,"LLLL yyyy",{locale:cc})}),y.jsx("button",{onClick:()=>l(lc(s,1)),className:"text-gray-500",children:y.jsx(nk,{})})]}),h=()=>{const _=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"];return y.jsx("div",{className:"grid grid-cols-7 text-center mb-2 font-aptosSemiBold",children:_.map((w,I)=>y.jsx("div",{children:w},I))})},m=()=>{const _=m_(s),w=p_(s),I=Gn(_,{weekStartsOn:1}),b=y_(w,{weekStartsOn:1}),D=[];let L=[],W=I;for(;W<=b;){for(let F=0;F<7;F++){const V=W;L.push(y.jsx("div",{className:`${Fu(W,u)&&"text-lg bg-neutral-100"} rounded-full shrink-0 aspect-square flex items-center justify-center cursor-pointer leading-none m-px ${Fu(W,i??new Date)?ZE("ring-2 ring-[#EA4335]/80 bg-[#EA4335]/20"):!ac(W,_)&&"text-gray-400"}`,onClick:()=>g(V),children:Ho(W,"d")},W.toString())),W=u_(W,1)}D.push(y.jsx("div",{className:"grid grid-cols-7",children:L},W.toString())),L=[]}return y.jsx("div",{children:D})},g=_=>{e(_),n(!1)},C=()=>{const _=new Date;l(_),e(_),n(!1)};return y.jsxs("div",{className:"w-full max-w-md mx-auto",children:[d(),h(),m(),y.jsxs("div",{className:"mt-4 flex gap-2",children:[y.jsx("button",{className:"btn_2",onClick:C,children:"Сегодня"}),y.jsx("button",{disabled:!i,className:"btn_2",onClick:()=>{i&&n(!1)},children:"Установить"})]})]})}function tk(){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-left",children:y.jsx("path",{d:"m15 18-6-6 6-6"})})}function nk(){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right",children:y.jsx("path",{d:"m9 18 6-6-6-6"})})}function sc({transactionType:i,setModal:e,editMode:n,transaction:s}){const[l,u]=K.useState(!1),[d,h]=K.useState(!1),[m,g]=K.useState(!1),[C]=Pe("localAccounts",[]),_=C.filter(we=>we.id===(s==null?void 0:s.accountId))[0],[w,I]=K.useState(n?_:null),[b,D]=K.useState(s?s.category:""),[L,W]=K.useState(s?s.description:""),[F,V]=K.useState(s?s.date:new Date),[te,X]=K.useState(s?s.transactionType==="income"?s.amount:-1*s.amount:""),se=we=>{I(we),u(!1)},_e=we=>{D(we),h(!1)},[$,ae]=Pe("localTransactions",[]),ue=()=>{if(w&&b){const we={id:n&&s?s.id:fm(),category:b,accountId:w.id,currency:w.currency,description:L,amount:i==="income"?Number(te):-1*Number(te),transactionType:i,date:F},Ne=$.findIndex(me=>me.id===we.id);if(Ne>-1){const me=[...$];me[Ne]=we,ae(me),e(!1)}else ae([...$,we]),e(!1)}},ve=we=>{const Ne=$.filter(me=>me.id!==we);ae(Ne)},[q,xe]=K.useState(!1),ze=qg(F);return y.jsxs(y.Fragment,{children:[q&&y.jsx(Vo,{title:"Удаление транзакции",dascription:"Вы действительно хотите удалить транзакцию?",onClose:()=>xe(!1),onConfirm:()=>{e(!1),s&&ve(s.id)}}),m&&y.jsx(kt,{title:"Счета",setModal:g,node:y.jsx(ek,{selected:F,onDateSelect:V,setModal:g})}),l&&y.jsx(kt,{title:"Счета",setModal:u,node:y.jsx(vE,{setModal:se})}),d&&y.jsx(kt,{title:`Категории ${i==="income"?"доходов":"расходов"}`,setModal:h,node:y.jsx(_E,{categories:i==="income"?cw:dw,setModal:_e})}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("button",{style:{backgroundColor:w?C.filter(we=>we.id===w.id)[0].color:"#F2F2F2",color:w?"white":"black"},className:"btn_2 !w-2/3",onClick:()=>u(!0),children:w?`${w.title}, ${w.currency}`:"Выберите счет"}),y.jsx("input",{type:"number",value:te,autoFocus:!0,placeholder:"Сумма",className:"input text-lg !w-1/3",onChange:we=>X(we.target.value)})]}),y.jsxs("div",{className:"mt-4 flex gap-4",children:[y.jsx("div",{className:"w-full",children:y.jsx("button",{className:"btn_2",onClick:()=>h(!0),children:b||"Категория"})}),y.jsx("button",{className:"btn_2",onClick:()=>g(!0),children:ze})]}),y.jsx("input",{type:"text",value:L,placeholder:"Описание (опционально)",className:"mt-4 p-4 bg-yellow-50 dark:bg-yellow-300/10 dark:placeholder:text-neutral-200 w-full rounded-lg placeholder:text-neutral-500",onChange:we=>W(we.target.value)}),y.jsx("div",{className:"mt-4 flex gap-4 justify-end",children:y.jsxs("div",{className:"flex gap-4 justify-end",children:[n&&y.jsx("button",{className:"btn_2 border border-[#EA4335] text-[#EA4335]",onClick:()=>xe(!0),children:"Удалить"}),y.jsx("button",{className:"btn_2",onClick:()=>{e(!1),ue()},disabled:!w||!b||!te,children:n?"Изменить":"Сохранить"})]})})]})}function rk({transactions:i}){const[e,n]=K.useState(!1),[s,l]=K.useState(!1),[u]=Pe("localCurrency",[]),[d]=Pe("localMainCurrency",""),h=rc(i.filter(g=>g.transactionType==="income"),u),m=rc(i.filter(g=>g.transactionType==="expense"),u);return y.jsxs(y.Fragment,{children:[e&&y.jsx(kt,{title:"Добавить доход",setModal:n,node:y.jsx(sc,{transactionType:"income",setModal:n})}),s&&y.jsx(kt,{title:"Внести расход",setModal:l,node:y.jsx(sc,{transactionType:"expense",setModal:l})}),y.jsxs("section",{className:"bg-white dark:bg-neutral-800 dark:text-white shadow-lg p-2 rounded-xl flex gap-2",children:[y.jsx(Jp,{title:"Доходы",color:"#dcfce7",amount:h.filter(g=>g.currency===d)[0].total,setModal:n}),y.jsx(Jp,{title:"Расходы",color:"#fee2e2",amount:m.filter(g=>g.currency===d)[0].total,setModal:l})]})]})}function ik(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M3 6h18"}),y.jsx("path",{d:"M7 12h10"}),y.jsx("path",{d:"M10 18h4"})]})}function sk(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m3 16 4 4 4-4"}),y.jsx("path",{d:"M7 20V4"}),y.jsx("path",{d:"M20 8h-5"}),y.jsx("path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10"}),y.jsx("path",{d:"M15 14h5l-5 6h5"})]})}function ok(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m3 16 4 4 4-4"}),y.jsx("path",{d:"M7 4v16"}),y.jsx("path",{d:"M15 4h5l-5 6h5"}),y.jsx("path",{d:"M15 20v-3.5a2.5 2.5 0 0 1 5 0V20"}),y.jsx("path",{d:"M20 18h-5"})]})}function lk(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m14 18 4 4 4-4"}),y.jsx("path",{d:"M16 2v4"}),y.jsx("path",{d:"M18 14v8"}),y.jsx("path",{d:"M21 11.354V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.343"}),y.jsx("path",{d:"M3 10h18"}),y.jsx("path",{d:"M8 2v4"})]})}function ak(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M12 5v14"}),y.jsx("path",{d:"m19 12-7 7-7-7"})]})}function uk(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m5 12 7-7 7 7"}),y.jsx("path",{d:"M12 19V5"})]})}function ck({transaction:i}){const[e,n]=K.useState(!1),s=qg(i.date),[l]=Pe("localAccounts",[]),u=l.filter(d=>d.id===(i==null?void 0:i.accountId))[0];return y.jsxs(y.Fragment,{children:[e&&y.jsx(kt,{title:"Транзакция",setModal:n,node:y.jsx(sc,{transactionType:i.transactionType,transaction:i,setModal:n,editMode:!0})}),y.jsxs("div",{onClick:()=>n(!0),className:"flex items-center p-3 overflow-hidden border-b border-neutral-200 dark:border-black last:border-none cursor-pointer",children:[y.jsx("div",{className:`${i.transactionType==="income"?"bg-[#dcfce7] dark:bg-[#34A853]":"bg-[#fee2e2] dark:bg-[#EA4335]"} aspect-square  w-10 h-10 rounded-full text-3xl leading-none flex justify-center items-center `,children:i.transactionType==="income"?y.jsx(ak,{}):y.jsx(uk,{})}),y.jsxs("div",{className:"w-full ml-4 flex flex-col justify-center",children:[y.jsxs("div",{className:"flex gap-4 justify-between items-center",children:[y.jsxs("p",{children:[i.description,i.description?`, ${s.toLocaleLowerCase()}`:s]}),y.jsxs("p",{className:`whitespace-nowrap text-right ${i.amount>0?"text-[#34A853]":"text-[#EA4335]"}  text-xl font-aptosBold`,children:[i.amount," ",y.jsx("span",{className:"text-xs",children:i.currency})]})]}),y.jsxs("div",{className:"flex gap-4 justify-between text-sm text-neutral-500 dark:text-neutral-400",children:[y.jsx("p",{children:i.category}),y.jsx("p",{style:{backgroundColor:u.color},className:"whitespace-nowrap text-white dark:text-neutral-100 px-1.5 rounded-md",children:u.title})]})]})]})]})}function dk({transactions:i}){const[e,n]=K.useState(!1),[s,l]=K.useState("month"),[u,d]=K.useState("all"),[h,m]=K.useState("none"),g=new Date,w=[...i.filter(b=>s==="day"?Fu(b.date,g):s==="month"?ac(b.date,g):s==="year"?m0(b.date,g):!0).filter(b=>u==="expense"?b.transactionType==="expense":u==="income"?b.transactionType==="income":!0)].sort((b,D)=>h==="asc"?b.amount-D.amount:h==="desc"?D.amount-b.amount:new Date(D.date).getTime()-new Date(b.date).getTime()),I=()=>{m(h==="none"?"desc":h==="desc"?"asc":"none")};return y.jsxs(y.Fragment,{children:[e&&y.jsx(kt,{title:"Фильтр",setModal:n,node:y.jsxs(y.Fragment,{children:[y.jsx("p",{children:"По дате"}),y.jsxs("div",{className:"mt-1 flex gap-2",children:[y.jsx("button",{onClick:()=>l("all"),className:`btn_2 ${s==="all"?"ring-2 ring-neutral-500":""}`,children:"Все"}),y.jsx("button",{onClick:()=>l("day"),className:`btn_2 ${s==="day"?"ring-2 ring-neutral-500":""}`,children:"Сегодня"}),y.jsx("button",{onClick:()=>l("month"),className:`btn_2 ${s==="month"?"ring-2 ring-neutral-500":""}`,children:"Месяц"}),y.jsx("button",{onClick:()=>l("year"),className:`btn_2 ${s==="year"?"ring-2 ring-neutral-500":""}`,children:"Год"})]}),y.jsx("p",{className:"mt-4",children:"По типу транзакции"}),y.jsxs("div",{className:"mt-1 flex gap-2",children:[y.jsx("button",{onClick:()=>{d("all")},className:`btn_2 ${u==="all"?"ring-2 ring-neutral-400":""}`,children:"Все"}),y.jsx("button",{onClick:()=>{d("expense")},className:`btn_2 ${u==="expense"?"ring-2 ring-neutral-400":""}`,children:"Расходы"}),y.jsx("button",{onClick:()=>{d("income")},className:`btn_2 ${u==="income"?"ring-2 ring-neutral-400":""}`,children:"Доходы"})]})]})}),y.jsxs("section",{className:"w-full",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h3",{children:"Транзакции"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("button",{className:"btn_1 flex justify-center items-center",onClick:I,children:[h==="none"&&y.jsx(lk,{}),h==="asc"&&y.jsx(ok,{}),h==="desc"&&y.jsx(sk,{})]}),y.jsx("button",{className:"btn_1 flex justify-center items-center",onClick:()=>n(!0),children:y.jsx(ik,{})})]})]}),i.length>0?y.jsx("div",{className:"mt-2 bg-white dark:bg-neutral-800 shadow-lg rounded-lg",children:w.map(b=>y.jsx(ck,{transaction:b},b.id))}):y.jsx("p",{className:"text-neutral-500",children:"Транзакции отсутствуют"})]})]})}function fk(){const[i,e]=K.useState(navigator.onLine),[n]=K.useState(!1);return K.useEffect(()=>{const s=()=>e(!0),l=()=>e(!1);return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[n]),i}function hk(){const[i]=Pe("localMainCurrency",""),[e]=Pe("localTransactions",[]),[n]=Pe("localAccounts",[]),s=fk(),[l,u]=K.useState(new Date),d=()=>{u(g=>dm(g,1))},h=()=>{u(g=>lc(g,1))},m=e.filter(g=>ac(g0(g.date.toString()),l));return y.jsxs(y.Fragment,{children:[!s&&y.jsx("p",{className:"fixed left-4 top-0 text-xs",children:"Нет сети"}),y.jsxs("main",{className:"max-w-lg md:max-w-7xl mx-auto p-4 md:px-10 flex flex-col md:flex-row gap-5 md:gap-10 select-none",children:[y.jsxs("div",{className:"w-full flex flex-col gap-5",children:[y.jsx(yE,{}),y.jsx(yw,{}),i&&n.length>0&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex items-center justify-between gap-4 text-lg font-aptosSemiBold",children:[y.jsx("button",{className:"btn_1 flex justify-center items-center",onClick:d,children:y.jsx(pk,{})}),y.jsx("span",{className:"capitalize",children:Ho(l,"LLLL, yyyy",{locale:cc})}),y.jsx("button",{className:"btn_1 flex justify-center items-center",onClick:h,children:y.jsx(mk,{})})]}),y.jsx(rk,{transactions:m})]})]}),e.length>0?y.jsx("div",{className:"w-full flex flex-col gap-4",children:y.jsx(dk,{transactions:m})}):y.jsx("p",{className:"w-full text-neutral-500",children:"Транзакции отсутствуют"})]})]})}function pk(){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-left",children:y.jsx("path",{d:"m15 18-6-6 6-6"})})}function mk(){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right",children:y.jsx("path",{d:"m9 18 6-6-6-6"})})}o_.createRoot(document.getElementById("root")).render(y.jsx(hk,{}));

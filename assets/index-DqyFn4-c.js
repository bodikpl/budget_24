(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Eu={exports:{}},Qi={},ku={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function m_(){if(Xh)return he;Xh=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),_=Symbol.iterator;function C(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,b={};function A(E,M,ue){this.props=E,this.context=M,this.refs=b,this.updater=ue||I}A.prototype.isReactComponent={},A.prototype.setState=function(E,M){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,M,"setState")},A.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function J(){}J.prototype=A.prototype;function X(E,M,ue){this.props=E,this.context=M,this.refs=b,this.updater=ue||I}var W=X.prototype=new J;W.constructor=X,P(W,A.prototype),W.isPureReactComponent=!0;var H=Array.isArray,L=Object.prototype.hasOwnProperty,re={current:null},ge={key:!0,ref:!0,__self:!0,__source:!0};function ke(E,M,ue){var de,_e={},ye=null,oe=null;if(M!=null)for(de in M.ref!==void 0&&(oe=M.ref),M.key!==void 0&&(ye=""+M.key),M)L.call(M,de)&&!ge.hasOwnProperty(de)&&(_e[de]=M[de]);var fe=arguments.length-2;if(fe===1)_e.children=ue;else if(1<fe){for(var Ne=Array(fe),dt=0;dt<fe;dt++)Ne[dt]=arguments[dt+2];_e.children=Ne}if(E&&E.defaultProps)for(de in fe=E.defaultProps,fe)_e[de]===void 0&&(_e[de]=fe[de]);return{$$typeof:i,type:E,key:ye,ref:oe,props:_e,_owner:re.current}}function Oe(E,M){return{$$typeof:i,type:E.type,key:M,ref:E.ref,props:E.props,_owner:E._owner}}function ae(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function Z(E){var M={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ue){return M[ue]})}var Q=/\/+/g;function le(E,M){return typeof E=="object"&&E!==null&&E.key!=null?Z(""+E.key):M.toString(36)}function we(E,M,ue,de,_e){var ye=typeof E;(ye==="undefined"||ye==="boolean")&&(E=null);var oe=!1;if(E===null)oe=!0;else switch(ye){case"string":case"number":oe=!0;break;case"object":switch(E.$$typeof){case i:case e:oe=!0}}if(oe)return oe=E,_e=_e(oe),E=de===""?"."+le(oe,0):de,H(_e)?(ue="",E!=null&&(ue=E.replace(Q,"$&/")+"/"),we(_e,M,ue,"",function(dt){return dt})):_e!=null&&(ae(_e)&&(_e=Oe(_e,ue+(!_e.key||oe&&oe.key===_e.key?"":(""+_e.key).replace(Q,"$&/")+"/")+E)),M.push(_e)),1;if(oe=0,de=de===""?".":de+":",H(E))for(var fe=0;fe<E.length;fe++){ye=E[fe];var Ne=de+le(ye,fe);oe+=we(ye,M,ue,Ne,_e)}else if(Ne=C(E),typeof Ne=="function")for(E=Ne.call(E),fe=0;!(ye=E.next()).done;)ye=ye.value,Ne=de+le(ye,fe++),oe+=we(ye,M,ue,Ne,_e);else if(ye==="object")throw M=String(E),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return oe}function Pe(E,M,ue){if(E==null)return E;var de=[],_e=0;return we(E,de,"","",function(ye){return M.call(ue,ye,_e++)}),de}function Ce(E){if(E._status===-1){var M=E._result;M=M(),M.then(function(ue){(E._status===0||E._status===-1)&&(E._status=1,E._result=ue)},function(ue){(E._status===0||E._status===-1)&&(E._status=2,E._result=ue)}),E._status===-1&&(E._status=0,E._result=M)}if(E._status===1)return E._result.default;throw E._result}var ie={current:null},F={transition:null},G={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:F,ReactCurrentOwner:re};function B(){throw Error("act(...) is not supported in production builds of React.")}return he.Children={map:Pe,forEach:function(E,M,ue){Pe(E,function(){M.apply(this,arguments)},ue)},count:function(E){var M=0;return Pe(E,function(){M++}),M},toArray:function(E){return Pe(E,function(M){return M})||[]},only:function(E){if(!ae(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},he.Component=A,he.Fragment=n,he.Profiler=l,he.PureComponent=X,he.StrictMode=s,he.Suspense=m,he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,he.act=B,he.cloneElement=function(E,M,ue){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var de=P({},E.props),_e=E.key,ye=E.ref,oe=E._owner;if(M!=null){if(M.ref!==void 0&&(ye=M.ref,oe=re.current),M.key!==void 0&&(_e=""+M.key),E.type&&E.type.defaultProps)var fe=E.type.defaultProps;for(Ne in M)L.call(M,Ne)&&!ge.hasOwnProperty(Ne)&&(de[Ne]=M[Ne]===void 0&&fe!==void 0?fe[Ne]:M[Ne])}var Ne=arguments.length-2;if(Ne===1)de.children=ue;else if(1<Ne){fe=Array(Ne);for(var dt=0;dt<Ne;dt++)fe[dt]=arguments[dt+2];de.children=fe}return{$$typeof:i,type:E.type,key:_e,ref:ye,props:de,_owner:oe}},he.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:u,_context:E},E.Consumer=E},he.createElement=ke,he.createFactory=function(E){var M=ke.bind(null,E);return M.type=E,M},he.createRef=function(){return{current:null}},he.forwardRef=function(E){return{$$typeof:h,render:E}},he.isValidElement=ae,he.lazy=function(E){return{$$typeof:w,_payload:{_status:-1,_result:E},_init:Ce}},he.memo=function(E,M){return{$$typeof:g,type:E,compare:M===void 0?null:M}},he.startTransition=function(E){var M=F.transition;F.transition={};try{E()}finally{F.transition=M}},he.unstable_act=B,he.useCallback=function(E,M){return ie.current.useCallback(E,M)},he.useContext=function(E){return ie.current.useContext(E)},he.useDebugValue=function(){},he.useDeferredValue=function(E){return ie.current.useDeferredValue(E)},he.useEffect=function(E,M){return ie.current.useEffect(E,M)},he.useId=function(){return ie.current.useId()},he.useImperativeHandle=function(E,M,ue){return ie.current.useImperativeHandle(E,M,ue)},he.useInsertionEffect=function(E,M){return ie.current.useInsertionEffect(E,M)},he.useLayoutEffect=function(E,M){return ie.current.useLayoutEffect(E,M)},he.useMemo=function(E,M){return ie.current.useMemo(E,M)},he.useReducer=function(E,M,ue){return ie.current.useReducer(E,M,ue)},he.useRef=function(E){return ie.current.useRef(E)},he.useState=function(E){return ie.current.useState(E)},he.useSyncExternalStore=function(E,M,ue){return ie.current.useSyncExternalStore(E,M,ue)},he.useTransition=function(){return ie.current.useTransition()},he.version="18.3.1",he}var Jh;function yc(){return Jh||(Jh=1,ku.exports=m_()),ku.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function g_(){if(Zh)return Qi;Zh=1;var i=yc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(h,m,g){var w,_={},C=null,I=null;g!==void 0&&(C=""+g),m.key!==void 0&&(C=""+m.key),m.ref!==void 0&&(I=m.ref);for(w in m)s.call(m,w)&&!u.hasOwnProperty(w)&&(_[w]=m[w]);if(h&&h.defaultProps)for(w in m=h.defaultProps,m)_[w]===void 0&&(_[w]=m[w]);return{$$typeof:e,type:h,key:C,ref:I,props:_,_owner:l.current}}return Qi.Fragment=n,Qi.jsx=d,Qi.jsxs=d,Qi}var ep;function y_(){return ep||(ep=1,Eu.exports=g_()),Eu.exports}var y=y_(),Vo={},Nu={exports:{}},Tt={},Tu={exports:{}},Iu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function v_(){return tp||(tp=1,function(i){function e(F,G){var B=F.length;F.push(G);e:for(;0<B;){var E=B-1>>>1,M=F[E];if(0<l(M,G))F[E]=G,F[B]=M,B=E;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var G=F[0],B=F.pop();if(B!==G){F[0]=B;e:for(var E=0,M=F.length,ue=M>>>1;E<ue;){var de=2*(E+1)-1,_e=F[de],ye=de+1,oe=F[ye];if(0>l(_e,B))ye<M&&0>l(oe,_e)?(F[E]=oe,F[ye]=B,E=ye):(F[E]=_e,F[de]=B,E=de);else if(ye<M&&0>l(oe,B))F[E]=oe,F[ye]=B,E=ye;else break e}}return G}function l(F,G){var B=F.sortIndex-G.sortIndex;return B!==0?B:F.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var m=[],g=[],w=1,_=null,C=3,I=!1,P=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(F){for(var G=n(g);G!==null;){if(G.callback===null)s(g);else if(G.startTime<=F)s(g),G.sortIndex=G.expirationTime,e(m,G);else break;G=n(g)}}function H(F){if(b=!1,W(F),!P)if(n(m)!==null)P=!0,Ce(L);else{var G=n(g);G!==null&&ie(H,G.startTime-F)}}function L(F,G){P=!1,b&&(b=!1,J(ke),ke=-1),I=!0;var B=C;try{for(W(G),_=n(m);_!==null&&(!(_.expirationTime>G)||F&&!Z());){var E=_.callback;if(typeof E=="function"){_.callback=null,C=_.priorityLevel;var M=E(_.expirationTime<=G);G=i.unstable_now(),typeof M=="function"?_.callback=M:_===n(m)&&s(m),W(G)}else s(m);_=n(m)}if(_!==null)var ue=!0;else{var de=n(g);de!==null&&ie(H,de.startTime-G),ue=!1}return ue}finally{_=null,C=B,I=!1}}var re=!1,ge=null,ke=-1,Oe=5,ae=-1;function Z(){return!(i.unstable_now()-ae<Oe)}function Q(){if(ge!==null){var F=i.unstable_now();ae=F;var G=!0;try{G=ge(!0,F)}finally{G?le():(re=!1,ge=null)}}else re=!1}var le;if(typeof X=="function")le=function(){X(Q)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Pe=we.port2;we.port1.onmessage=Q,le=function(){Pe.postMessage(null)}}else le=function(){A(Q,0)};function Ce(F){ge=F,re||(re=!0,le())}function ie(F,G){ke=A(function(){F(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_continueExecution=function(){P||I||(P=!0,Ce(L))},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Oe=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_getFirstCallbackNode=function(){return n(m)},i.unstable_next=function(F){switch(C){case 1:case 2:case 3:var G=3;break;default:G=C}var B=C;C=G;try{return F()}finally{C=B}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var B=C;C=F;try{return G()}finally{C=B}},i.unstable_scheduleCallback=function(F,G,B){var E=i.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?E+B:E):B=E,F){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=B+M,F={id:w++,callback:G,priorityLevel:F,startTime:B,expirationTime:M,sortIndex:-1},B>E?(F.sortIndex=B,e(g,F),n(m)===null&&F===n(g)&&(b?(J(ke),ke=-1):b=!0,ie(H,B-E))):(F.sortIndex=M,e(m,F),P||I||(P=!0,Ce(L))),F},i.unstable_shouldYield=Z,i.unstable_wrapCallback=function(F){var G=C;return function(){var B=C;C=G;try{return F.apply(this,arguments)}finally{C=B}}}}(Iu)),Iu}var np;function __(){return np||(np=1,Tu.exports=v_()),Tu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function w_(){if(rp)return Tt;rp=1;var i=yc(),e=__();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function u(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(l[t]=r,t=0;t<r.length;t++)s.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},_={};function C(t){return m.call(_,t)?!0:m.call(w,t)?!1:g.test(t)?_[t]=!0:(w[t]=!0,!1)}function I(t,r,o,a){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function P(t,r,o,a){if(r===null||typeof r>"u"||I(t,r,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function b(t,r,o,a,c,f,p){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=f,this.removeEmptyString=p}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){A[t]=new b(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];A[r]=new b(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){A[t]=new b(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){A[t]=new b(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){A[t]=new b(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){A[t]=new b(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){A[t]=new b(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){A[t]=new b(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){A[t]=new b(t,5,!1,t.toLowerCase(),null,!1,!1)});var J=/[\-:]([a-z])/g;function X(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(J,X);A[r]=new b(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(J,X);A[r]=new b(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(J,X);A[r]=new b(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){A[t]=new b(t,1,!1,t.toLowerCase(),null,!1,!1)}),A.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){A[t]=new b(t,1,!1,t.toLowerCase(),null,!0,!0)});function W(t,r,o,a){var c=A.hasOwnProperty(r)?A[r]:null;(c!==null?c.type!==0:a||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(P(r,o,c,a)&&(o=null),a||c===null?C(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):c.mustUseProperty?t[c.propertyName]=o===null?c.type===3?!1:"":o:(r=c.attributeName,a=c.attributeNamespace,o===null?t.removeAttribute(r):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,a?t.setAttributeNS(a,r,o):t.setAttribute(r,o))))}var H=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),re=Symbol.for("react.portal"),ge=Symbol.for("react.fragment"),ke=Symbol.for("react.strict_mode"),Oe=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),Z=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),F=Symbol.iterator;function G(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var B=Object.assign,E;function M(t){if(E===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);E=r&&r[1]||""}return`
`+E+t}var ue=!1;function de(t,r){if(!t||ue)return"";ue=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(T){var a=T}Reflect.construct(t,[],r)}else{try{r.call()}catch(T){a=T}t.call(r.prototype)}else{try{throw Error()}catch(T){a=T}t()}}catch(T){if(T&&a&&typeof T.stack=="string"){for(var c=T.stack.split(`
`),f=a.stack.split(`
`),p=c.length-1,v=f.length-1;1<=p&&0<=v&&c[p]!==f[v];)v--;for(;1<=p&&0<=v;p--,v--)if(c[p]!==f[v]){if(p!==1||v!==1)do if(p--,v--,0>v||c[p]!==f[v]){var S=`
`+c[p].replace(" at new "," at ");return t.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",t.displayName)),S}while(1<=p&&0<=v);break}}}finally{ue=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?M(t):""}function _e(t){switch(t.tag){case 5:return M(t.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return t=de(t.type,!1),t;case 11:return t=de(t.type.render,!1),t;case 1:return t=de(t.type,!0),t;default:return""}}function ye(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ge:return"Fragment";case re:return"Portal";case Oe:return"Profiler";case ke:return"StrictMode";case le:return"Suspense";case we:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z:return(t.displayName||"Context")+".Consumer";case ae:return(t._context.displayName||"Context")+".Provider";case Q:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pe:return r=t.displayName||null,r!==null?r:ye(t.type)||"Memo";case Ce:r=t._payload,t=t._init;try{return ye(t(r))}catch{}}return null}function oe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(r);case 8:return r===ke?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ne(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function dt(t){var r=Ne(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),a=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ds(t){t._valueTracker||(t._valueTracker=dt(t))}function nd(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),a="";return t&&(a=Ne(t)?t.checked?"true":"false":t.value),t=a,t!==o?(r.setValue(t),!0):!1}function As(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ml(t,r){var o=r.checked;return B({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function rd(t,r){var o=r.defaultValue==null?"":r.defaultValue,a=r.checked!=null?r.checked:r.defaultChecked;o=fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:a,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function id(t,r){r=r.checked,r!=null&&W(t,"checked",r,!1)}function Rl(t,r){id(t,r);var o=fe(r.value),a=r.type;if(o!=null)a==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Dl(t,r.type,o):r.hasOwnProperty("defaultValue")&&Dl(t,r.type,fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function sd(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var a=r.type;if(!(a!=="submit"&&a!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Dl(t,r,o){(r!=="number"||As(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var ui=Array.isArray;function Cr(t,r,o,a){if(t=t.options,r){r={};for(var c=0;c<o.length;c++)r["$"+o[c]]=!0;for(o=0;o<t.length;o++)c=r.hasOwnProperty("$"+t[o].value),t[o].selected!==c&&(t[o].selected=c),c&&a&&(t[o].defaultSelected=!0)}else{for(o=""+fe(o),r=null,c=0;c<t.length;c++){if(t[c].value===o){t[c].selected=!0,a&&(t[c].defaultSelected=!0);return}r!==null||t[c].disabled||(r=t[c])}r!==null&&(r.selected=!0)}}function Al(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function od(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(ui(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:fe(o)}}function ld(t,r){var o=fe(r.value),a=fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),a!=null&&(t.defaultValue=""+a)}function ad(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ud(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ol(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ud(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Os,cd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,a,c){MSApp.execUnsafeLocalFunction(function(){return t(r,o,a,c)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Os=Os||document.createElement("div"),Os.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Os.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function ci(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_y=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(t){_y.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),di[r]=di[t]})});function dd(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||di.hasOwnProperty(t)&&di[t]?(""+r).trim():r+"px"}function fd(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var a=o.indexOf("--")===0,c=dd(o,r[o],a);o==="float"&&(o="cssFloat"),a?t.setProperty(o,c):t[o]=c}}var wy=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jl(t,r){if(r){if(wy[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Fl(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ll=null;function zl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wl=null,Sr=null,xr=null;function hd(t){if(t=Di(t)){if(typeof Wl!="function")throw Error(n(280));var r=t.stateNode;r&&(r=io(r),Wl(t.stateNode,t.type,r))}}function pd(t){Sr?xr?xr.push(t):xr=[t]:Sr=t}function md(){if(Sr){var t=Sr,r=xr;if(xr=Sr=null,hd(t),r)for(t=0;t<r.length;t++)hd(r[t])}}function gd(t,r){return t(r)}function yd(){}var Bl=!1;function vd(t,r,o){if(Bl)return t(r,o);Bl=!0;try{return gd(t,r,o)}finally{Bl=!1,(Sr!==null||xr!==null)&&(yd(),md())}}function fi(t,r){var o=t.stateNode;if(o===null)return null;var a=io(o);if(a===null)return null;o=a[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var $l=!1;if(h)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){$l=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{$l=!1}function Cy(t,r,o,a,c,f,p,v,S){var T=Array.prototype.slice.call(arguments,3);try{r.apply(o,T)}catch(D){this.onError(D)}}var pi=!1,js=null,Fs=!1,Ul=null,Sy={onError:function(t){pi=!0,js=t}};function xy(t,r,o,a,c,f,p,v,S){pi=!1,js=null,Cy.apply(Sy,arguments)}function Ey(t,r,o,a,c,f,p,v,S){if(xy.apply(this,arguments),pi){if(pi){var T=js;pi=!1,js=null}else throw Error(n(198));Fs||(Fs=!0,Ul=T)}}function Zn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function _d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function wd(t){if(Zn(t)!==t)throw Error(n(188))}function ky(t){var r=t.alternate;if(!r){if(r=Zn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,a=r;;){var c=o.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){o=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===o)return wd(c),t;if(f===a)return wd(c),r;f=f.sibling}throw Error(n(188))}if(o.return!==a.return)o=c,a=f;else{for(var p=!1,v=c.child;v;){if(v===o){p=!0,o=c,a=f;break}if(v===a){p=!0,a=c,o=f;break}v=v.sibling}if(!p){for(v=f.child;v;){if(v===o){p=!0,o=f,a=c;break}if(v===a){p=!0,a=f,o=c;break}v=v.sibling}if(!p)throw Error(n(189))}}if(o.alternate!==a)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function Cd(t){return t=ky(t),t!==null?Sd(t):null}function Sd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Sd(t);if(r!==null)return r;t=t.sibling}return null}var xd=e.unstable_scheduleCallback,Ed=e.unstable_cancelCallback,Ny=e.unstable_shouldYield,Ty=e.unstable_requestPaint,He=e.unstable_now,Iy=e.unstable_getCurrentPriorityLevel,Gl=e.unstable_ImmediatePriority,kd=e.unstable_UserBlockingPriority,Ls=e.unstable_NormalPriority,by=e.unstable_LowPriority,Nd=e.unstable_IdlePriority,zs=null,tn=null;function Py(t){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(zs,t,void 0,(t.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Dy,My=Math.log,Ry=Math.LN2;function Dy(t){return t>>>=0,t===0?32:31-(My(t)/Ry|0)|0}var Ws=64,Bs=4194304;function mi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $s(t,r){var o=t.pendingLanes;if(o===0)return 0;var a=0,c=t.suspendedLanes,f=t.pingedLanes,p=o&268435455;if(p!==0){var v=p&~c;v!==0?a=mi(v):(f&=p,f!==0&&(a=mi(f)))}else p=o&~c,p!==0?a=mi(p):f!==0&&(a=mi(f));if(a===0)return 0;if(r!==0&&r!==a&&!(r&c)&&(c=a&-a,f=r&-r,c>=f||c===16&&(f&4194240)!==0))return r;if(a&4&&(a|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=a;0<r;)o=31-Gt(r),c=1<<o,a|=t[o],r&=~c;return a}function Ay(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oy(t,r){for(var o=t.suspendedLanes,a=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes;0<f;){var p=31-Gt(f),v=1<<p,S=c[p];S===-1?(!(v&o)||v&a)&&(c[p]=Ay(v,r)):S<=r&&(t.expiredLanes|=v),f&=~v}}function Vl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Td(){var t=Ws;return Ws<<=1,!(Ws&4194240)&&(Ws=64),t}function Hl(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function gi(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Gt(r),t[r]=o}function jy(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<o;){var c=31-Gt(o),f=1<<c;r[c]=0,a[c]=-1,t[c]=-1,o&=~f}}function Yl(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var a=31-Gt(o),c=1<<a;c&r|t[a]&r&&(t[a]|=r),o&=~c}}var Te=0;function Id(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bd,Ql,Pd,Md,Rd,ql=!1,Us=[],xn=null,En=null,kn=null,yi=new Map,vi=new Map,Nn=[],Fy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dd(t,r){switch(t){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":yi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":vi.delete(r.pointerId)}}function _i(t,r,o,a,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:o,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},r!==null&&(r=Di(r),r!==null&&Ql(r)),t):(t.eventSystemFlags|=a,r=t.targetContainers,c!==null&&r.indexOf(c)===-1&&r.push(c),t)}function Ly(t,r,o,a,c){switch(r){case"focusin":return xn=_i(xn,t,r,o,a,c),!0;case"dragenter":return En=_i(En,t,r,o,a,c),!0;case"mouseover":return kn=_i(kn,t,r,o,a,c),!0;case"pointerover":var f=c.pointerId;return yi.set(f,_i(yi.get(f)||null,t,r,o,a,c)),!0;case"gotpointercapture":return f=c.pointerId,vi.set(f,_i(vi.get(f)||null,t,r,o,a,c)),!0}return!1}function Ad(t){var r=er(t.target);if(r!==null){var o=Zn(r);if(o!==null){if(r=o.tag,r===13){if(r=_d(o),r!==null){t.blockedOn=r,Rd(t.priority,function(){Pd(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gs(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Xl(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var a=new o.constructor(o.type,o);Ll=a,o.target.dispatchEvent(a),Ll=null}else return r=Di(o),r!==null&&Ql(r),t.blockedOn=o,!1;r.shift()}return!0}function Od(t,r,o){Gs(t)&&o.delete(r)}function zy(){ql=!1,xn!==null&&Gs(xn)&&(xn=null),En!==null&&Gs(En)&&(En=null),kn!==null&&Gs(kn)&&(kn=null),yi.forEach(Od),vi.forEach(Od)}function wi(t,r){t.blockedOn===r&&(t.blockedOn=null,ql||(ql=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zy)))}function Ci(t){function r(c){return wi(c,t)}if(0<Us.length){wi(Us[0],t);for(var o=1;o<Us.length;o++){var a=Us[o];a.blockedOn===t&&(a.blockedOn=null)}}for(xn!==null&&wi(xn,t),En!==null&&wi(En,t),kn!==null&&wi(kn,t),yi.forEach(r),vi.forEach(r),o=0;o<Nn.length;o++)a=Nn[o],a.blockedOn===t&&(a.blockedOn=null);for(;0<Nn.length&&(o=Nn[0],o.blockedOn===null);)Ad(o),o.blockedOn===null&&Nn.shift()}var Er=H.ReactCurrentBatchConfig,Vs=!0;function Wy(t,r,o,a){var c=Te,f=Er.transition;Er.transition=null;try{Te=1,Kl(t,r,o,a)}finally{Te=c,Er.transition=f}}function By(t,r,o,a){var c=Te,f=Er.transition;Er.transition=null;try{Te=4,Kl(t,r,o,a)}finally{Te=c,Er.transition=f}}function Kl(t,r,o,a){if(Vs){var c=Xl(t,r,o,a);if(c===null)pa(t,r,a,Hs,o),Dd(t,a);else if(Ly(c,t,r,o,a))a.stopPropagation();else if(Dd(t,a),r&4&&-1<Fy.indexOf(t)){for(;c!==null;){var f=Di(c);if(f!==null&&bd(f),f=Xl(t,r,o,a),f===null&&pa(t,r,a,Hs,o),f===c)break;c=f}c!==null&&a.stopPropagation()}else pa(t,r,a,null,o)}}var Hs=null;function Xl(t,r,o,a){if(Hs=null,t=zl(a),t=er(t),t!==null)if(r=Zn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=_d(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Hs=t,null}function jd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iy()){case Gl:return 1;case kd:return 4;case Ls:case by:return 16;case Nd:return 536870912;default:return 16}default:return 16}}var Tn=null,Jl=null,Ys=null;function Fd(){if(Ys)return Ys;var t,r=Jl,o=r.length,a,c="value"in Tn?Tn.value:Tn.textContent,f=c.length;for(t=0;t<o&&r[t]===c[t];t++);var p=o-t;for(a=1;a<=p&&r[o-a]===c[f-a];a++);return Ys=c.slice(t,1<a?1-a:void 0)}function Qs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function qs(){return!0}function Ld(){return!1}function Rt(t){function r(o,a,c,f,p){this._reactName=o,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(o=t[v],this[v]=o?o(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qs:Ld,this.isPropagationStopped=Ld,this}return B(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),r}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=Rt(kr),Si=B({},kr,{view:0,detail:0}),$y=Rt(Si),ea,ta,xi,Ks=B({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(ea=t.screenX-xi.screenX,ta=t.screenY-xi.screenY):ta=ea=0,xi=t),ea)},movementY:function(t){return"movementY"in t?t.movementY:ta}}),zd=Rt(Ks),Uy=B({},Ks,{dataTransfer:0}),Gy=Rt(Uy),Vy=B({},Si,{relatedTarget:0}),na=Rt(Vy),Hy=B({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yy=Rt(Hy),Qy=B({},kr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qy=Rt(Qy),Ky=B({},kr,{data:0}),Wd=Rt(Ky),Xy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ev(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Zy[t])?!!r[t]:!1}function ra(){return ev}var tv=B({},Si,{key:function(t){if(t.key){var r=Xy[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(t){return t.type==="keypress"?Qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nv=Rt(tv),rv=B({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bd=Rt(rv),iv=B({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),sv=Rt(iv),ov=B({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),lv=Rt(ov),av=B({},Ks,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uv=Rt(av),cv=[9,13,27,32],ia=h&&"CompositionEvent"in window,Ei=null;h&&"documentMode"in document&&(Ei=document.documentMode);var dv=h&&"TextEvent"in window&&!Ei,$d=h&&(!ia||Ei&&8<Ei&&11>=Ei),Ud=" ",Gd=!1;function Vd(t,r){switch(t){case"keyup":return cv.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nr=!1;function fv(t,r){switch(t){case"compositionend":return Hd(r);case"keypress":return r.which!==32?null:(Gd=!0,Ud);case"textInput":return t=r.data,t===Ud&&Gd?null:t;default:return null}}function hv(t,r){if(Nr)return t==="compositionend"||!ia&&Vd(t,r)?(t=Fd(),Ys=Jl=Tn=null,Nr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return $d&&r.locale!=="ko"?null:r.data;default:return null}}var pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!pv[t.type]:r==="textarea"}function Qd(t,r,o,a){pd(a),r=to(r,"onChange"),0<r.length&&(o=new Zl("onChange","change",null,o,a),t.push({event:o,listeners:r}))}var ki=null,Ni=null;function mv(t){hf(t,0)}function Xs(t){var r=Mr(t);if(nd(r))return t}function gv(t,r){if(t==="change")return r}var qd=!1;if(h){var sa;if(h){var oa="oninput"in document;if(!oa){var Kd=document.createElement("div");Kd.setAttribute("oninput","return;"),oa=typeof Kd.oninput=="function"}sa=oa}else sa=!1;qd=sa&&(!document.documentMode||9<document.documentMode)}function Xd(){ki&&(ki.detachEvent("onpropertychange",Jd),Ni=ki=null)}function Jd(t){if(t.propertyName==="value"&&Xs(Ni)){var r=[];Qd(r,Ni,t,zl(t)),vd(mv,r)}}function yv(t,r,o){t==="focusin"?(Xd(),ki=r,Ni=o,ki.attachEvent("onpropertychange",Jd)):t==="focusout"&&Xd()}function vv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xs(Ni)}function _v(t,r){if(t==="click")return Xs(r)}function wv(t,r){if(t==="input"||t==="change")return Xs(r)}function Cv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Vt=typeof Object.is=="function"?Object.is:Cv;function Ti(t,r){if(Vt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),a=Object.keys(r);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var c=o[a];if(!m.call(r,c)||!Vt(t[c],r[c]))return!1}return!0}function Zd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ef(t,r){var o=Zd(t);t=0;for(var a;o;){if(o.nodeType===3){if(a=t+o.textContent.length,t<=r&&a>=r)return{node:o,offset:r-t};t=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Zd(o)}}function tf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?tf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function nf(){for(var t=window,r=As();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=As(t.document)}return r}function la(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Sv(t){var r=nf(),o=t.focusedElem,a=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&tf(o.ownerDocument.documentElement,o)){if(a!==null&&la(o)){if(r=a.start,t=a.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var c=o.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!t.extend&&f>a&&(c=a,a=f,f=c),c=ef(o,f);var p=ef(o,a);c&&p&&(t.rangeCount!==1||t.anchorNode!==c.node||t.anchorOffset!==c.offset||t.focusNode!==p.node||t.focusOffset!==p.offset)&&(r=r.createRange(),r.setStart(c.node,c.offset),t.removeAllRanges(),f>a?(t.addRange(r),t.extend(p.node,p.offset)):(r.setEnd(p.node,p.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xv=h&&"documentMode"in document&&11>=document.documentMode,Tr=null,aa=null,Ii=null,ua=!1;function rf(t,r,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ua||Tr==null||Tr!==As(a)||(a=Tr,"selectionStart"in a&&la(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ii&&Ti(Ii,a)||(Ii=a,a=to(aa,"onSelect"),0<a.length&&(r=new Zl("onSelect","select",null,r,o),t.push({event:r,listeners:a}),r.target=Tr)))}function Js(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var Ir={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionend:Js("Transition","TransitionEnd")},ca={},sf={};h&&(sf=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function Zs(t){if(ca[t])return ca[t];if(!Ir[t])return t;var r=Ir[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in sf)return ca[t]=r[o];return t}var of=Zs("animationend"),lf=Zs("animationiteration"),af=Zs("animationstart"),uf=Zs("transitionend"),cf=new Map,df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(t,r){cf.set(t,r),u(r,[t])}for(var da=0;da<df.length;da++){var fa=df[da],Ev=fa.toLowerCase(),kv=fa[0].toUpperCase()+fa.slice(1);In(Ev,"on"+kv)}In(of,"onAnimationEnd"),In(lf,"onAnimationIteration"),In(af,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(uf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nv=new Set("cancel close invalid load scroll toggle".split(" ").concat(bi));function ff(t,r,o){var a=t.type||"unknown-event";t.currentTarget=o,Ey(a,r,void 0,t),t.currentTarget=null}function hf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var a=t[o],c=a.event;a=a.listeners;e:{var f=void 0;if(r)for(var p=a.length-1;0<=p;p--){var v=a[p],S=v.instance,T=v.currentTarget;if(v=v.listener,S!==f&&c.isPropagationStopped())break e;ff(c,v,T),f=S}else for(p=0;p<a.length;p++){if(v=a[p],S=v.instance,T=v.currentTarget,v=v.listener,S!==f&&c.isPropagationStopped())break e;ff(c,v,T),f=S}}}if(Fs)throw t=Ul,Fs=!1,Ul=null,t}function je(t,r){var o=r[wa];o===void 0&&(o=r[wa]=new Set);var a=t+"__bubble";o.has(a)||(pf(r,t,2,!1),o.add(a))}function ha(t,r,o){var a=0;r&&(a|=4),pf(o,t,a,r)}var eo="_reactListening"+Math.random().toString(36).slice(2);function Pi(t){if(!t[eo]){t[eo]=!0,s.forEach(function(o){o!=="selectionchange"&&(Nv.has(o)||ha(o,!1,t),ha(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[eo]||(r[eo]=!0,ha("selectionchange",!1,r))}}function pf(t,r,o,a){switch(jd(r)){case 1:var c=Wy;break;case 4:c=By;break;default:c=Kl}o=c.bind(null,r,o,t),c=void 0,!$l||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(c=!0),a?c!==void 0?t.addEventListener(r,o,{capture:!0,passive:c}):t.addEventListener(r,o,!0):c!==void 0?t.addEventListener(r,o,{passive:c}):t.addEventListener(r,o,!1)}function pa(t,r,o,a,c){var f=a;if(!(r&1)&&!(r&2)&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var v=a.stateNode.containerInfo;if(v===c||v.nodeType===8&&v.parentNode===c)break;if(p===4)for(p=a.return;p!==null;){var S=p.tag;if((S===3||S===4)&&(S=p.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;p=p.return}for(;v!==null;){if(p=er(v),p===null)return;if(S=p.tag,S===5||S===6){a=f=p;continue e}v=v.parentNode}}a=a.return}vd(function(){var T=f,D=zl(o),O=[];e:{var R=cf.get(t);if(R!==void 0){var $=Zl,V=t;switch(t){case"keypress":if(Qs(o)===0)break e;case"keydown":case"keyup":$=nv;break;case"focusin":V="focus",$=na;break;case"focusout":V="blur",$=na;break;case"beforeblur":case"afterblur":$=na;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=sv;break;case of:case lf:case af:$=Yy;break;case uf:$=lv;break;case"scroll":$=$y;break;case"wheel":$=uv;break;case"copy":case"cut":case"paste":$=qy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Bd}var Y=(r&4)!==0,Ye=!Y&&t==="scroll",k=Y?R!==null?R+"Capture":null:R;Y=[];for(var x=T,N;x!==null;){N=x;var j=N.stateNode;if(N.tag===5&&j!==null&&(N=j,k!==null&&(j=fi(x,k),j!=null&&Y.push(Mi(x,j,N)))),Ye)break;x=x.return}0<Y.length&&(R=new $(R,V,null,o,D),O.push({event:R,listeners:Y}))}}if(!(r&7)){e:{if(R=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",R&&o!==Ll&&(V=o.relatedTarget||o.fromElement)&&(er(V)||V[an]))break e;if(($||R)&&(R=D.window===D?D:(R=D.ownerDocument)?R.defaultView||R.parentWindow:window,$?(V=o.relatedTarget||o.toElement,$=T,V=V?er(V):null,V!==null&&(Ye=Zn(V),V!==Ye||V.tag!==5&&V.tag!==6)&&(V=null)):($=null,V=T),$!==V)){if(Y=zd,j="onMouseLeave",k="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(Y=Bd,j="onPointerLeave",k="onPointerEnter",x="pointer"),Ye=$==null?R:Mr($),N=V==null?R:Mr(V),R=new Y(j,x+"leave",$,o,D),R.target=Ye,R.relatedTarget=N,j=null,er(D)===T&&(Y=new Y(k,x+"enter",V,o,D),Y.target=N,Y.relatedTarget=Ye,j=Y),Ye=j,$&&V)t:{for(Y=$,k=V,x=0,N=Y;N;N=br(N))x++;for(N=0,j=k;j;j=br(j))N++;for(;0<x-N;)Y=br(Y),x--;for(;0<N-x;)k=br(k),N--;for(;x--;){if(Y===k||k!==null&&Y===k.alternate)break t;Y=br(Y),k=br(k)}Y=null}else Y=null;$!==null&&mf(O,R,$,Y,!1),V!==null&&Ye!==null&&mf(O,Ye,V,Y,!0)}}e:{if(R=T?Mr(T):window,$=R.nodeName&&R.nodeName.toLowerCase(),$==="select"||$==="input"&&R.type==="file")var K=gv;else if(Yd(R))if(qd)K=wv;else{K=vv;var ee=yv}else($=R.nodeName)&&$.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(K=_v);if(K&&(K=K(t,T))){Qd(O,K,o,D);break e}ee&&ee(t,R,T),t==="focusout"&&(ee=R._wrapperState)&&ee.controlled&&R.type==="number"&&Dl(R,"number",R.value)}switch(ee=T?Mr(T):window,t){case"focusin":(Yd(ee)||ee.contentEditable==="true")&&(Tr=ee,aa=T,Ii=null);break;case"focusout":Ii=aa=Tr=null;break;case"mousedown":ua=!0;break;case"contextmenu":case"mouseup":case"dragend":ua=!1,rf(O,o,D);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":rf(O,o,D)}var te;if(ia)e:{switch(t){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Nr?Vd(t,o)&&(se="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(se="onCompositionStart");se&&($d&&o.locale!=="ko"&&(Nr||se!=="onCompositionStart"?se==="onCompositionEnd"&&Nr&&(te=Fd()):(Tn=D,Jl="value"in Tn?Tn.value:Tn.textContent,Nr=!0)),ee=to(T,se),0<ee.length&&(se=new Wd(se,t,null,o,D),O.push({event:se,listeners:ee}),te?se.data=te:(te=Hd(o),te!==null&&(se.data=te)))),(te=dv?fv(t,o):hv(t,o))&&(T=to(T,"onBeforeInput"),0<T.length&&(D=new Wd("onBeforeInput","beforeinput",null,o,D),O.push({event:D,listeners:T}),D.data=te))}hf(O,r)})}function Mi(t,r,o){return{instance:t,listener:r,currentTarget:o}}function to(t,r){for(var o=r+"Capture",a=[];t!==null;){var c=t,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=fi(t,o),f!=null&&a.unshift(Mi(t,f,c)),f=fi(t,r),f!=null&&a.push(Mi(t,f,c))),t=t.return}return a}function br(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mf(t,r,o,a,c){for(var f=r._reactName,p=[];o!==null&&o!==a;){var v=o,S=v.alternate,T=v.stateNode;if(S!==null&&S===a)break;v.tag===5&&T!==null&&(v=T,c?(S=fi(o,f),S!=null&&p.unshift(Mi(o,S,v))):c||(S=fi(o,f),S!=null&&p.push(Mi(o,S,v)))),o=o.return}p.length!==0&&t.push({event:r,listeners:p})}var Tv=/\r\n?/g,Iv=/\u0000|\uFFFD/g;function gf(t){return(typeof t=="string"?t:""+t).replace(Tv,`
`).replace(Iv,"")}function no(t,r,o){if(r=gf(r),gf(t)!==r&&o)throw Error(n(425))}function ro(){}var ma=null,ga=null;function ya(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var va=typeof setTimeout=="function"?setTimeout:void 0,bv=typeof clearTimeout=="function"?clearTimeout:void 0,yf=typeof Promise=="function"?Promise:void 0,Pv=typeof queueMicrotask=="function"?queueMicrotask:typeof yf<"u"?function(t){return yf.resolve(null).then(t).catch(Mv)}:va;function Mv(t){setTimeout(function(){throw t})}function _a(t,r){var o=r,a=0;do{var c=o.nextSibling;if(t.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(a===0){t.removeChild(c),Ci(r);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=c}while(o);Ci(r)}function bn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function vf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Pr=Math.random().toString(36).slice(2),nn="__reactFiber$"+Pr,Ri="__reactProps$"+Pr,an="__reactContainer$"+Pr,wa="__reactEvents$"+Pr,Rv="__reactListeners$"+Pr,Dv="__reactHandles$"+Pr;function er(t){var r=t[nn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[an]||o[nn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=vf(t);t!==null;){if(o=t[nn])return o;t=vf(t)}return r}t=o,o=t.parentNode}return null}function Di(t){return t=t[nn]||t[an],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function io(t){return t[Ri]||null}var Ca=[],Rr=-1;function Pn(t){return{current:t}}function Fe(t){0>Rr||(t.current=Ca[Rr],Ca[Rr]=null,Rr--)}function Re(t,r){Rr++,Ca[Rr]=t.current,t.current=r}var Mn={},ft=Pn(Mn),St=Pn(!1),tr=Mn;function Dr(t,r){var o=t.type.contextTypes;if(!o)return Mn;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in o)c[f]=r[f];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=c),c}function xt(t){return t=t.childContextTypes,t!=null}function so(){Fe(St),Fe(ft)}function _f(t,r,o){if(ft.current!==Mn)throw Error(n(168));Re(ft,r),Re(St,o)}function wf(t,r,o){var a=t.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var c in a)if(!(c in r))throw Error(n(108,oe(t)||"Unknown",c));return B({},o,a)}function oo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mn,tr=ft.current,Re(ft,t),Re(St,St.current),!0}function Cf(t,r,o){var a=t.stateNode;if(!a)throw Error(n(169));o?(t=wf(t,r,tr),a.__reactInternalMemoizedMergedChildContext=t,Fe(St),Fe(ft),Re(ft,t)):Fe(St),Re(St,o)}var un=null,lo=!1,Sa=!1;function Sf(t){un===null?un=[t]:un.push(t)}function Av(t){lo=!0,Sf(t)}function Rn(){if(!Sa&&un!==null){Sa=!0;var t=0,r=Te;try{var o=un;for(Te=1;t<o.length;t++){var a=o[t];do a=a(!0);while(a!==null)}un=null,lo=!1}catch(c){throw un!==null&&(un=un.slice(t+1)),xd(Gl,Rn),c}finally{Te=r,Sa=!1}}return null}var Ar=[],Or=0,ao=null,uo=0,jt=[],Ft=0,nr=null,cn=1,dn="";function rr(t,r){Ar[Or++]=uo,Ar[Or++]=ao,ao=t,uo=r}function xf(t,r,o){jt[Ft++]=cn,jt[Ft++]=dn,jt[Ft++]=nr,nr=t;var a=cn;t=dn;var c=32-Gt(a)-1;a&=~(1<<c),o+=1;var f=32-Gt(r)+c;if(30<f){var p=c-c%5;f=(a&(1<<p)-1).toString(32),a>>=p,c-=p,cn=1<<32-Gt(r)+c|o<<c|a,dn=f+t}else cn=1<<f|o<<c|a,dn=t}function xa(t){t.return!==null&&(rr(t,1),xf(t,1,0))}function Ea(t){for(;t===ao;)ao=Ar[--Or],Ar[Or]=null,uo=Ar[--Or],Ar[Or]=null;for(;t===nr;)nr=jt[--Ft],jt[Ft]=null,dn=jt[--Ft],jt[Ft]=null,cn=jt[--Ft],jt[Ft]=null}var Dt=null,At=null,We=!1,Ht=null;function Ef(t,r){var o=Bt(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function kf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Dt=t,At=bn(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Dt=t,At=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=nr!==null?{id:cn,overflow:dn}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Bt(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Dt=t,At=null,!0):!1;default:return!1}}function ka(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Na(t){if(We){var r=At;if(r){var o=r;if(!kf(t,r)){if(ka(t))throw Error(n(418));r=bn(o.nextSibling);var a=Dt;r&&kf(t,r)?Ef(a,o):(t.flags=t.flags&-4097|2,We=!1,Dt=t)}}else{if(ka(t))throw Error(n(418));t.flags=t.flags&-4097|2,We=!1,Dt=t}}}function Nf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dt=t}function co(t){if(t!==Dt)return!1;if(!We)return Nf(t),We=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!ya(t.type,t.memoizedProps)),r&&(r=At)){if(ka(t))throw Tf(),Error(n(418));for(;r;)Ef(t,r),r=bn(r.nextSibling)}if(Nf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){At=bn(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}At=null}}else At=Dt?bn(t.stateNode.nextSibling):null;return!0}function Tf(){for(var t=At;t;)t=bn(t.nextSibling)}function jr(){At=Dt=null,We=!1}function Ta(t){Ht===null?Ht=[t]:Ht.push(t)}var Ov=H.ReactCurrentBatchConfig;function Ai(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var a=o.stateNode}if(!a)throw Error(n(147,t));var c=a,f=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===f?r.ref:(r=function(p){var v=c.refs;p===null?delete v[f]:v[f]=p},r._stringRef=f,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function fo(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function If(t){var r=t._init;return r(t._payload)}function bf(t){function r(k,x){if(t){var N=k.deletions;N===null?(k.deletions=[x],k.flags|=16):N.push(x)}}function o(k,x){if(!t)return null;for(;x!==null;)r(k,x),x=x.sibling;return null}function a(k,x){for(k=new Map;x!==null;)x.key!==null?k.set(x.key,x):k.set(x.index,x),x=x.sibling;return k}function c(k,x){return k=Wn(k,x),k.index=0,k.sibling=null,k}function f(k,x,N){return k.index=N,t?(N=k.alternate,N!==null?(N=N.index,N<x?(k.flags|=2,x):N):(k.flags|=2,x)):(k.flags|=1048576,x)}function p(k){return t&&k.alternate===null&&(k.flags|=2),k}function v(k,x,N,j){return x===null||x.tag!==6?(x=vu(N,k.mode,j),x.return=k,x):(x=c(x,N),x.return=k,x)}function S(k,x,N,j){var K=N.type;return K===ge?D(k,x,N.props.children,j,N.key):x!==null&&(x.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Ce&&If(K)===x.type)?(j=c(x,N.props),j.ref=Ai(k,x,N),j.return=k,j):(j=jo(N.type,N.key,N.props,null,k.mode,j),j.ref=Ai(k,x,N),j.return=k,j)}function T(k,x,N,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=_u(N,k.mode,j),x.return=k,x):(x=c(x,N.children||[]),x.return=k,x)}function D(k,x,N,j,K){return x===null||x.tag!==7?(x=dr(N,k.mode,j,K),x.return=k,x):(x=c(x,N),x.return=k,x)}function O(k,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return x=vu(""+x,k.mode,N),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case L:return N=jo(x.type,x.key,x.props,null,k.mode,N),N.ref=Ai(k,null,x),N.return=k,N;case re:return x=_u(x,k.mode,N),x.return=k,x;case Ce:var j=x._init;return O(k,j(x._payload),N)}if(ui(x)||G(x))return x=dr(x,k.mode,N,null),x.return=k,x;fo(k,x)}return null}function R(k,x,N,j){var K=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return K!==null?null:v(k,x,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case L:return N.key===K?S(k,x,N,j):null;case re:return N.key===K?T(k,x,N,j):null;case Ce:return K=N._init,R(k,x,K(N._payload),j)}if(ui(N)||G(N))return K!==null?null:D(k,x,N,j,null);fo(k,N)}return null}function $(k,x,N,j,K){if(typeof j=="string"&&j!==""||typeof j=="number")return k=k.get(N)||null,v(x,k,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case L:return k=k.get(j.key===null?N:j.key)||null,S(x,k,j,K);case re:return k=k.get(j.key===null?N:j.key)||null,T(x,k,j,K);case Ce:var ee=j._init;return $(k,x,N,ee(j._payload),K)}if(ui(j)||G(j))return k=k.get(N)||null,D(x,k,j,K,null);fo(x,j)}return null}function V(k,x,N,j){for(var K=null,ee=null,te=x,se=x=0,it=null;te!==null&&se<N.length;se++){te.index>se?(it=te,te=null):it=te.sibling;var xe=R(k,te,N[se],j);if(xe===null){te===null&&(te=it);break}t&&te&&xe.alternate===null&&r(k,te),x=f(xe,x,se),ee===null?K=xe:ee.sibling=xe,ee=xe,te=it}if(se===N.length)return o(k,te),We&&rr(k,se),K;if(te===null){for(;se<N.length;se++)te=O(k,N[se],j),te!==null&&(x=f(te,x,se),ee===null?K=te:ee.sibling=te,ee=te);return We&&rr(k,se),K}for(te=a(k,te);se<N.length;se++)it=$(te,k,se,N[se],j),it!==null&&(t&&it.alternate!==null&&te.delete(it.key===null?se:it.key),x=f(it,x,se),ee===null?K=it:ee.sibling=it,ee=it);return t&&te.forEach(function(Bn){return r(k,Bn)}),We&&rr(k,se),K}function Y(k,x,N,j){var K=G(N);if(typeof K!="function")throw Error(n(150));if(N=K.call(N),N==null)throw Error(n(151));for(var ee=K=null,te=x,se=x=0,it=null,xe=N.next();te!==null&&!xe.done;se++,xe=N.next()){te.index>se?(it=te,te=null):it=te.sibling;var Bn=R(k,te,xe.value,j);if(Bn===null){te===null&&(te=it);break}t&&te&&Bn.alternate===null&&r(k,te),x=f(Bn,x,se),ee===null?K=Bn:ee.sibling=Bn,ee=Bn,te=it}if(xe.done)return o(k,te),We&&rr(k,se),K;if(te===null){for(;!xe.done;se++,xe=N.next())xe=O(k,xe.value,j),xe!==null&&(x=f(xe,x,se),ee===null?K=xe:ee.sibling=xe,ee=xe);return We&&rr(k,se),K}for(te=a(k,te);!xe.done;se++,xe=N.next())xe=$(te,k,se,xe.value,j),xe!==null&&(t&&xe.alternate!==null&&te.delete(xe.key===null?se:xe.key),x=f(xe,x,se),ee===null?K=xe:ee.sibling=xe,ee=xe);return t&&te.forEach(function(p_){return r(k,p_)}),We&&rr(k,se),K}function Ye(k,x,N,j){if(typeof N=="object"&&N!==null&&N.type===ge&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case L:e:{for(var K=N.key,ee=x;ee!==null;){if(ee.key===K){if(K=N.type,K===ge){if(ee.tag===7){o(k,ee.sibling),x=c(ee,N.props.children),x.return=k,k=x;break e}}else if(ee.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Ce&&If(K)===ee.type){o(k,ee.sibling),x=c(ee,N.props),x.ref=Ai(k,ee,N),x.return=k,k=x;break e}o(k,ee);break}else r(k,ee);ee=ee.sibling}N.type===ge?(x=dr(N.props.children,k.mode,j,N.key),x.return=k,k=x):(j=jo(N.type,N.key,N.props,null,k.mode,j),j.ref=Ai(k,x,N),j.return=k,k=j)}return p(k);case re:e:{for(ee=N.key;x!==null;){if(x.key===ee)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){o(k,x.sibling),x=c(x,N.children||[]),x.return=k,k=x;break e}else{o(k,x);break}else r(k,x);x=x.sibling}x=_u(N,k.mode,j),x.return=k,k=x}return p(k);case Ce:return ee=N._init,Ye(k,x,ee(N._payload),j)}if(ui(N))return V(k,x,N,j);if(G(N))return Y(k,x,N,j);fo(k,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,x!==null&&x.tag===6?(o(k,x.sibling),x=c(x,N),x.return=k,k=x):(o(k,x),x=vu(N,k.mode,j),x.return=k,k=x),p(k)):o(k,x)}return Ye}var Fr=bf(!0),Pf=bf(!1),ho=Pn(null),po=null,Lr=null,Ia=null;function ba(){Ia=Lr=po=null}function Pa(t){var r=ho.current;Fe(ho),t._currentValue=r}function Ma(t,r,o){for(;t!==null;){var a=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),t===o)break;t=t.return}}function zr(t,r){po=t,Ia=Lr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Et=!0),t.firstContext=null)}function Lt(t){var r=t._currentValue;if(Ia!==t)if(t={context:t,memoizedValue:r,next:null},Lr===null){if(po===null)throw Error(n(308));Lr=t,po.dependencies={lanes:0,firstContext:t}}else Lr=Lr.next=t;return r}var ir=null;function Ra(t){ir===null?ir=[t]:ir.push(t)}function Mf(t,r,o,a){var c=r.interleaved;return c===null?(o.next=o,Ra(r)):(o.next=c.next,c.next=o),r.interleaved=o,fn(t,a)}function fn(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Dn=!1;function Da(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hn(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function An(t,r,o){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,Se&2){var c=a.pending;return c===null?r.next=r:(r.next=c.next,c.next=r),a.pending=r,fn(t,o)}return c=a.interleaved,c===null?(r.next=r,Ra(a)):(r.next=c.next,c.next=r),a.interleaved=r,fn(t,o)}function mo(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var a=r.lanes;a&=t.pendingLanes,o|=a,r.lanes=o,Yl(t,o)}}function Df(t,r){var o=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var c=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var p={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?c=f=p:f=f.next=p,o=o.next}while(o!==null);f===null?c=f=r:f=f.next=r}else c=f=r;o={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function go(t,r,o,a){var c=t.updateQueue;Dn=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var S=v,T=S.next;S.next=null,p===null?f=T:p.next=T,p=S;var D=t.alternate;D!==null&&(D=D.updateQueue,v=D.lastBaseUpdate,v!==p&&(v===null?D.firstBaseUpdate=T:v.next=T,D.lastBaseUpdate=S))}if(f!==null){var O=c.baseState;p=0,D=T=S=null,v=f;do{var R=v.lane,$=v.eventTime;if((a&R)===R){D!==null&&(D=D.next={eventTime:$,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var V=t,Y=v;switch(R=r,$=o,Y.tag){case 1:if(V=Y.payload,typeof V=="function"){O=V.call($,O,R);break e}O=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=Y.payload,R=typeof V=="function"?V.call($,O,R):V,R==null)break e;O=B({},O,R);break e;case 2:Dn=!0}}v.callback!==null&&v.lane!==0&&(t.flags|=64,R=c.effects,R===null?c.effects=[v]:R.push(v))}else $={eventTime:$,lane:R,tag:v.tag,payload:v.payload,callback:v.callback,next:null},D===null?(T=D=$,S=O):D=D.next=$,p|=R;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;R=v,v=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);if(D===null&&(S=O),c.baseState=S,c.firstBaseUpdate=T,c.lastBaseUpdate=D,r=c.shared.interleaved,r!==null){c=r;do p|=c.lane,c=c.next;while(c!==r)}else f===null&&(c.shared.lanes=0);lr|=p,t.lanes=p,t.memoizedState=O}}function Af(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var a=t[r],c=a.callback;if(c!==null){if(a.callback=null,a=o,typeof c!="function")throw Error(n(191,c));c.call(a)}}}var Oi={},rn=Pn(Oi),ji=Pn(Oi),Fi=Pn(Oi);function sr(t){if(t===Oi)throw Error(n(174));return t}function Aa(t,r){switch(Re(Fi,r),Re(ji,t),Re(rn,Oi),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Ol(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Ol(r,t)}Fe(rn),Re(rn,r)}function Wr(){Fe(rn),Fe(ji),Fe(Fi)}function Of(t){sr(Fi.current);var r=sr(rn.current),o=Ol(r,t.type);r!==o&&(Re(ji,t),Re(rn,o))}function Oa(t){ji.current===t&&(Fe(rn),Fe(ji))}var Be=Pn(0);function yo(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ja=[];function Fa(){for(var t=0;t<ja.length;t++)ja[t]._workInProgressVersionPrimary=null;ja.length=0}var vo=H.ReactCurrentDispatcher,La=H.ReactCurrentBatchConfig,or=0,$e=null,Je=null,nt=null,_o=!1,Li=!1,zi=0,jv=0;function ht(){throw Error(n(321))}function za(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Vt(t[o],r[o]))return!1;return!0}function Wa(t,r,o,a,c,f){if(or=f,$e=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,vo.current=t===null||t.memoizedState===null?Wv:Bv,t=o(a,c),Li){f=0;do{if(Li=!1,zi=0,25<=f)throw Error(n(301));f+=1,nt=Je=null,r.updateQueue=null,vo.current=$v,t=o(a,c)}while(Li)}if(vo.current=So,r=Je!==null&&Je.next!==null,or=0,nt=Je=$e=null,_o=!1,r)throw Error(n(300));return t}function Ba(){var t=zi!==0;return zi=0,t}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?$e.memoizedState=nt=t:nt=nt.next=t,nt}function zt(){if(Je===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var r=nt===null?$e.memoizedState:nt.next;if(r!==null)nt=r,Je=t;else{if(t===null)throw Error(n(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},nt===null?$e.memoizedState=nt=t:nt=nt.next=t}return nt}function Wi(t,r){return typeof r=="function"?r(t):r}function $a(t){var r=zt(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var a=Je,c=a.baseQueue,f=o.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}a.baseQueue=c=f,o.pending=null}if(c!==null){f=c.next,a=a.baseState;var v=p=null,S=null,T=f;do{var D=T.lane;if((or&D)===D)S!==null&&(S=S.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),a=T.hasEagerState?T.eagerState:t(a,T.action);else{var O={lane:D,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};S===null?(v=S=O,p=a):S=S.next=O,$e.lanes|=D,lr|=D}T=T.next}while(T!==null&&T!==f);S===null?p=a:S.next=v,Vt(a,r.memoizedState)||(Et=!0),r.memoizedState=a,r.baseState=p,r.baseQueue=S,o.lastRenderedState=a}if(t=o.interleaved,t!==null){c=t;do f=c.lane,$e.lanes|=f,lr|=f,c=c.next;while(c!==t)}else c===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Ua(t){var r=zt(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var a=o.dispatch,c=o.pending,f=r.memoizedState;if(c!==null){o.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);Vt(f,r.memoizedState)||(Et=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),o.lastRenderedState=f}return[f,a]}function jf(){}function Ff(t,r){var o=$e,a=zt(),c=r(),f=!Vt(a.memoizedState,c);if(f&&(a.memoizedState=c,Et=!0),a=a.queue,Ga(Wf.bind(null,o,a,t),[t]),a.getSnapshot!==r||f||nt!==null&&nt.memoizedState.tag&1){if(o.flags|=2048,Bi(9,zf.bind(null,o,a,c,r),void 0,null),rt===null)throw Error(n(349));or&30||Lf(o,r,c)}return c}function Lf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=$e.updateQueue,r===null?(r={lastEffect:null,stores:null},$e.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function zf(t,r,o,a){r.value=o,r.getSnapshot=a,Bf(r)&&$f(t)}function Wf(t,r,o){return o(function(){Bf(r)&&$f(t)})}function Bf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Vt(t,o)}catch{return!0}}function $f(t){var r=fn(t,1);r!==null&&Kt(r,t,1,-1)}function Uf(t){var r=sn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},r.queue=t,t=t.dispatch=zv.bind(null,$e,t),[r.memoizedState,t]}function Bi(t,r,o,a){return t={tag:t,create:r,destroy:o,deps:a,next:null},r=$e.updateQueue,r===null?(r={lastEffect:null,stores:null},$e.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(a=o.next,o.next=t,t.next=a,r.lastEffect=t)),t}function Gf(){return zt().memoizedState}function wo(t,r,o,a){var c=sn();$e.flags|=t,c.memoizedState=Bi(1|r,o,void 0,a===void 0?null:a)}function Co(t,r,o,a){var c=zt();a=a===void 0?null:a;var f=void 0;if(Je!==null){var p=Je.memoizedState;if(f=p.destroy,a!==null&&za(a,p.deps)){c.memoizedState=Bi(r,o,f,a);return}}$e.flags|=t,c.memoizedState=Bi(1|r,o,f,a)}function Vf(t,r){return wo(8390656,8,t,r)}function Ga(t,r){return Co(2048,8,t,r)}function Hf(t,r){return Co(4,2,t,r)}function Yf(t,r){return Co(4,4,t,r)}function Qf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function qf(t,r,o){return o=o!=null?o.concat([t]):null,Co(4,4,Qf.bind(null,r,t),o)}function Va(){}function Kf(t,r){var o=zt();r=r===void 0?null:r;var a=o.memoizedState;return a!==null&&r!==null&&za(r,a[1])?a[0]:(o.memoizedState=[t,r],t)}function Xf(t,r){var o=zt();r=r===void 0?null:r;var a=o.memoizedState;return a!==null&&r!==null&&za(r,a[1])?a[0]:(t=t(),o.memoizedState=[t,r],t)}function Jf(t,r,o){return or&21?(Vt(o,r)||(o=Td(),$e.lanes|=o,lr|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Et=!0),t.memoizedState=o)}function Fv(t,r){var o=Te;Te=o!==0&&4>o?o:4,t(!0);var a=La.transition;La.transition={};try{t(!1),r()}finally{Te=o,La.transition=a}}function Zf(){return zt().memoizedState}function Lv(t,r,o){var a=Ln(t);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},eh(t))th(r,o);else if(o=Mf(t,r,o,a),o!==null){var c=vt();Kt(o,t,a,c),nh(o,r,a)}}function zv(t,r,o){var a=Ln(t),c={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(eh(t))th(r,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var p=r.lastRenderedState,v=f(p,o);if(c.hasEagerState=!0,c.eagerState=v,Vt(v,p)){var S=r.interleaved;S===null?(c.next=c,Ra(r)):(c.next=S.next,S.next=c),r.interleaved=c;return}}catch{}finally{}o=Mf(t,r,c,a),o!==null&&(c=vt(),Kt(o,t,a,c),nh(o,r,a))}}function eh(t){var r=t.alternate;return t===$e||r!==null&&r===$e}function th(t,r){Li=_o=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function nh(t,r,o){if(o&4194240){var a=r.lanes;a&=t.pendingLanes,o|=a,r.lanes=o,Yl(t,o)}}var So={readContext:Lt,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},Wv={readContext:Lt,useCallback:function(t,r){return sn().memoizedState=[t,r===void 0?null:r],t},useContext:Lt,useEffect:Vf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,wo(4194308,4,Qf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return wo(4194308,4,t,r)},useInsertionEffect:function(t,r){return wo(4,2,t,r)},useMemo:function(t,r){var o=sn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var a=sn();return r=o!==void 0?o(r):r,a.memoizedState=a.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},a.queue=t,t=t.dispatch=Lv.bind(null,$e,t),[a.memoizedState,t]},useRef:function(t){var r=sn();return t={current:t},r.memoizedState=t},useState:Uf,useDebugValue:Va,useDeferredValue:function(t){return sn().memoizedState=t},useTransition:function(){var t=Uf(!1),r=t[0];return t=Fv.bind(null,t[1]),sn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var a=$e,c=sn();if(We){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),rt===null)throw Error(n(349));or&30||Lf(a,r,o)}c.memoizedState=o;var f={value:o,getSnapshot:r};return c.queue=f,Vf(Wf.bind(null,a,f,t),[t]),a.flags|=2048,Bi(9,zf.bind(null,a,f,o,r),void 0,null),o},useId:function(){var t=sn(),r=rt.identifierPrefix;if(We){var o=dn,a=cn;o=(a&~(1<<32-Gt(a)-1)).toString(32)+o,r=":"+r+"R"+o,o=zi++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=jv++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Bv={readContext:Lt,useCallback:Kf,useContext:Lt,useEffect:Ga,useImperativeHandle:qf,useInsertionEffect:Hf,useLayoutEffect:Yf,useMemo:Xf,useReducer:$a,useRef:Gf,useState:function(){return $a(Wi)},useDebugValue:Va,useDeferredValue:function(t){var r=zt();return Jf(r,Je.memoizedState,t)},useTransition:function(){var t=$a(Wi)[0],r=zt().memoizedState;return[t,r]},useMutableSource:jf,useSyncExternalStore:Ff,useId:Zf,unstable_isNewReconciler:!1},$v={readContext:Lt,useCallback:Kf,useContext:Lt,useEffect:Ga,useImperativeHandle:qf,useInsertionEffect:Hf,useLayoutEffect:Yf,useMemo:Xf,useReducer:Ua,useRef:Gf,useState:function(){return Ua(Wi)},useDebugValue:Va,useDeferredValue:function(t){var r=zt();return Je===null?r.memoizedState=t:Jf(r,Je.memoizedState,t)},useTransition:function(){var t=Ua(Wi)[0],r=zt().memoizedState;return[t,r]},useMutableSource:jf,useSyncExternalStore:Ff,useId:Zf,unstable_isNewReconciler:!1};function Yt(t,r){if(t&&t.defaultProps){r=B({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Ha(t,r,o,a){r=t.memoizedState,o=o(a,r),o=o==null?r:B({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var xo={isMounted:function(t){return(t=t._reactInternals)?Zn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var a=vt(),c=Ln(t),f=hn(a,c);f.payload=r,o!=null&&(f.callback=o),r=An(t,f,c),r!==null&&(Kt(r,t,c,a),mo(r,t,c))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var a=vt(),c=Ln(t),f=hn(a,c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=An(t,f,c),r!==null&&(Kt(r,t,c,a),mo(r,t,c))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=vt(),a=Ln(t),c=hn(o,a);c.tag=2,r!=null&&(c.callback=r),r=An(t,c,a),r!==null&&(Kt(r,t,a,o),mo(r,t,a))}};function rh(t,r,o,a,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,f,p):r.prototype&&r.prototype.isPureReactComponent?!Ti(o,a)||!Ti(c,f):!0}function ih(t,r,o){var a=!1,c=Mn,f=r.contextType;return typeof f=="object"&&f!==null?f=Lt(f):(c=xt(r)?tr:ft.current,a=r.contextTypes,f=(a=a!=null)?Dr(t,c):Mn),r=new r(o,f),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=xo,t.stateNode=r,r._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=c,t.__reactInternalMemoizedMaskedChildContext=f),r}function sh(t,r,o,a){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,a),r.state!==t&&xo.enqueueReplaceState(r,r.state,null)}function Ya(t,r,o,a){var c=t.stateNode;c.props=o,c.state=t.memoizedState,c.refs={},Da(t);var f=r.contextType;typeof f=="object"&&f!==null?c.context=Lt(f):(f=xt(r)?tr:ft.current,c.context=Dr(t,f)),c.state=t.memoizedState,f=r.getDerivedStateFromProps,typeof f=="function"&&(Ha(t,r,f,o),c.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(r=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),r!==c.state&&xo.enqueueReplaceState(c,c.state,null),go(t,o,c,a),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308)}function Br(t,r){try{var o="",a=r;do o+=_e(a),a=a.return;while(a);var c=o}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:r,stack:c,digest:null}}function Qa(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function qa(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Uv=typeof WeakMap=="function"?WeakMap:Map;function oh(t,r,o){o=hn(-1,o),o.tag=3,o.payload={element:null};var a=r.value;return o.callback=function(){Po||(Po=!0,cu=a),qa(t,r)},o}function lh(t,r,o){o=hn(-1,o),o.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var c=r.value;o.payload=function(){return a(c)},o.callback=function(){qa(t,r)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){qa(t,r),typeof a!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var p=r.stack;this.componentDidCatch(r.value,{componentStack:p!==null?p:""})}),o}function ah(t,r,o){var a=t.pingCache;if(a===null){a=t.pingCache=new Uv;var c=new Set;a.set(r,c)}else c=a.get(r),c===void 0&&(c=new Set,a.set(r,c));c.has(o)||(c.add(o),t=r_.bind(null,t,r,o),r.then(t,t))}function uh(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function ch(t,r,o,a,c){return t.mode&1?(t.flags|=65536,t.lanes=c,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=hn(-1,1),r.tag=2,An(o,r,1))),o.lanes|=1),t)}var Gv=H.ReactCurrentOwner,Et=!1;function yt(t,r,o,a){r.child=t===null?Pf(r,null,o,a):Fr(r,t.child,o,a)}function dh(t,r,o,a,c){o=o.render;var f=r.ref;return zr(r,c),a=Wa(t,r,o,a,f,c),o=Ba(),t!==null&&!Et?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~c,pn(t,r,c)):(We&&o&&xa(r),r.flags|=1,yt(t,r,a,c),r.child)}function fh(t,r,o,a,c){if(t===null){var f=o.type;return typeof f=="function"&&!yu(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=f,hh(t,r,f,a,c)):(t=jo(o.type,null,a,r,r.mode,c),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!(t.lanes&c)){var p=f.memoizedProps;if(o=o.compare,o=o!==null?o:Ti,o(p,a)&&t.ref===r.ref)return pn(t,r,c)}return r.flags|=1,t=Wn(f,a),t.ref=r.ref,t.return=r,r.child=t}function hh(t,r,o,a,c){if(t!==null){var f=t.memoizedProps;if(Ti(f,a)&&t.ref===r.ref)if(Et=!1,r.pendingProps=a=f,(t.lanes&c)!==0)t.flags&131072&&(Et=!0);else return r.lanes=t.lanes,pn(t,r,c)}return Ka(t,r,o,a,c)}function ph(t,r,o){var a=r.pendingProps,c=a.children,f=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Ur,Ot),Ot|=o;else{if(!(o&1073741824))return t=f!==null?f.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Re(Ur,Ot),Ot|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:o,Re(Ur,Ot),Ot|=a}else f!==null?(a=f.baseLanes|o,r.memoizedState=null):a=o,Re(Ur,Ot),Ot|=a;return yt(t,r,c,o),r.child}function mh(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Ka(t,r,o,a,c){var f=xt(o)?tr:ft.current;return f=Dr(r,f),zr(r,c),o=Wa(t,r,o,a,f,c),a=Ba(),t!==null&&!Et?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~c,pn(t,r,c)):(We&&a&&xa(r),r.flags|=1,yt(t,r,o,c),r.child)}function gh(t,r,o,a,c){if(xt(o)){var f=!0;oo(r)}else f=!1;if(zr(r,c),r.stateNode===null)ko(t,r),ih(r,o,a),Ya(r,o,a,c),a=!0;else if(t===null){var p=r.stateNode,v=r.memoizedProps;p.props=v;var S=p.context,T=o.contextType;typeof T=="object"&&T!==null?T=Lt(T):(T=xt(o)?tr:ft.current,T=Dr(r,T));var D=o.getDerivedStateFromProps,O=typeof D=="function"||typeof p.getSnapshotBeforeUpdate=="function";O||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==a||S!==T)&&sh(r,p,a,T),Dn=!1;var R=r.memoizedState;p.state=R,go(r,a,p,c),S=r.memoizedState,v!==a||R!==S||St.current||Dn?(typeof D=="function"&&(Ha(r,o,D,a),S=r.memoizedState),(v=Dn||rh(r,o,v,a,R,S,T))?(O||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=S),p.props=a,p.state=S,p.context=T,a=v):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{p=r.stateNode,Rf(t,r),v=r.memoizedProps,T=r.type===r.elementType?v:Yt(r.type,v),p.props=T,O=r.pendingProps,R=p.context,S=o.contextType,typeof S=="object"&&S!==null?S=Lt(S):(S=xt(o)?tr:ft.current,S=Dr(r,S));var $=o.getDerivedStateFromProps;(D=typeof $=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==O||R!==S)&&sh(r,p,a,S),Dn=!1,R=r.memoizedState,p.state=R,go(r,a,p,c);var V=r.memoizedState;v!==O||R!==V||St.current||Dn?(typeof $=="function"&&(Ha(r,o,$,a),V=r.memoizedState),(T=Dn||rh(r,o,T,a,R,V,S)||!1)?(D||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,V,S),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,V,S)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&R===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&R===t.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=V),p.props=a,p.state=V,p.context=S,a=T):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&R===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&R===t.memoizedState||(r.flags|=1024),a=!1)}return Xa(t,r,o,a,f,c)}function Xa(t,r,o,a,c,f){mh(t,r);var p=(r.flags&128)!==0;if(!a&&!p)return c&&Cf(r,o,!1),pn(t,r,f);a=r.stateNode,Gv.current=r;var v=p&&typeof o.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,t!==null&&p?(r.child=Fr(r,t.child,null,f),r.child=Fr(r,null,v,f)):yt(t,r,v,f),r.memoizedState=a.state,c&&Cf(r,o,!0),r.child}function yh(t){var r=t.stateNode;r.pendingContext?_f(t,r.pendingContext,r.pendingContext!==r.context):r.context&&_f(t,r.context,!1),Aa(t,r.containerInfo)}function vh(t,r,o,a,c){return jr(),Ta(c),r.flags|=256,yt(t,r,o,a),r.child}var Ja={dehydrated:null,treeContext:null,retryLane:0};function Za(t){return{baseLanes:t,cachePool:null,transitions:null}}function _h(t,r,o){var a=r.pendingProps,c=Be.current,f=!1,p=(r.flags&128)!==0,v;if((v=p)||(v=t!==null&&t.memoizedState===null?!1:(c&2)!==0),v?(f=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(c|=1),Re(Be,c&1),t===null)return Na(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(p=a.children,t=a.fallback,f?(a=r.mode,f=r.child,p={mode:"hidden",children:p},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=p):f=Fo(p,a,0,null),t=dr(t,a,o,null),f.return=r,t.return=r,f.sibling=t,r.child=f,r.child.memoizedState=Za(o),r.memoizedState=Ja,t):eu(r,p));if(c=t.memoizedState,c!==null&&(v=c.dehydrated,v!==null))return Vv(t,r,p,a,v,c,o);if(f){f=a.fallback,p=r.mode,c=t.child,v=c.sibling;var S={mode:"hidden",children:a.children};return!(p&1)&&r.child!==c?(a=r.child,a.childLanes=0,a.pendingProps=S,r.deletions=null):(a=Wn(c,S),a.subtreeFlags=c.subtreeFlags&14680064),v!==null?f=Wn(v,f):(f=dr(f,p,o,null),f.flags|=2),f.return=r,a.return=r,a.sibling=f,r.child=a,a=f,f=r.child,p=t.child.memoizedState,p=p===null?Za(o):{baseLanes:p.baseLanes|o,cachePool:null,transitions:p.transitions},f.memoizedState=p,f.childLanes=t.childLanes&~o,r.memoizedState=Ja,a}return f=t.child,t=f.sibling,a=Wn(f,{mode:"visible",children:a.children}),!(r.mode&1)&&(a.lanes=o),a.return=r,a.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=a,r.memoizedState=null,a}function eu(t,r){return r=Fo({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Eo(t,r,o,a){return a!==null&&Ta(a),Fr(r,t.child,null,o),t=eu(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Vv(t,r,o,a,c,f,p){if(o)return r.flags&256?(r.flags&=-257,a=Qa(Error(n(422))),Eo(t,r,p,a)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(f=a.fallback,c=r.mode,a=Fo({mode:"visible",children:a.children},c,0,null),f=dr(f,c,p,null),f.flags|=2,a.return=r,f.return=r,a.sibling=f,r.child=a,r.mode&1&&Fr(r,t.child,null,p),r.child.memoizedState=Za(p),r.memoizedState=Ja,f);if(!(r.mode&1))return Eo(t,r,p,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var v=a.dgst;return a=v,f=Error(n(419)),a=Qa(f,a,void 0),Eo(t,r,p,a)}if(v=(p&t.childLanes)!==0,Et||v){if(a=rt,a!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|p)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,fn(t,c),Kt(a,t,c,-1))}return gu(),a=Qa(Error(n(421))),Eo(t,r,p,a)}return c.data==="$?"?(r.flags|=128,r.child=t.child,r=i_.bind(null,t),c._reactRetry=r,null):(t=f.treeContext,At=bn(c.nextSibling),Dt=r,We=!0,Ht=null,t!==null&&(jt[Ft++]=cn,jt[Ft++]=dn,jt[Ft++]=nr,cn=t.id,dn=t.overflow,nr=r),r=eu(r,a.children),r.flags|=4096,r)}function wh(t,r,o){t.lanes|=r;var a=t.alternate;a!==null&&(a.lanes|=r),Ma(t.return,r,o)}function tu(t,r,o,a,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:c}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=o,f.tailMode=c)}function Ch(t,r,o){var a=r.pendingProps,c=a.revealOrder,f=a.tail;if(yt(t,r,a.children,o),a=Be.current,a&2)a=a&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wh(t,o,r);else if(t.tag===19)wh(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Re(Be,a),!(r.mode&1))r.memoizedState=null;else switch(c){case"forwards":for(o=r.child,c=null;o!==null;)t=o.alternate,t!==null&&yo(t)===null&&(c=o),o=o.sibling;o=c,o===null?(c=r.child,r.child=null):(c=o.sibling,o.sibling=null),tu(r,!1,c,o,f);break;case"backwards":for(o=null,c=r.child,r.child=null;c!==null;){if(t=c.alternate,t!==null&&yo(t)===null){r.child=c;break}t=c.sibling,c.sibling=o,o=c,c=t}tu(r,!0,o,null,f);break;case"together":tu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ko(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function pn(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),lr|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Wn(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Wn(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Hv(t,r,o){switch(r.tag){case 3:yh(r),jr();break;case 5:Of(r);break;case 1:xt(r.type)&&oo(r);break;case 4:Aa(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,c=r.memoizedProps.value;Re(ho,a._currentValue),a._currentValue=c;break;case 13:if(a=r.memoizedState,a!==null)return a.dehydrated!==null?(Re(Be,Be.current&1),r.flags|=128,null):o&r.child.childLanes?_h(t,r,o):(Re(Be,Be.current&1),t=pn(t,r,o),t!==null?t.sibling:null);Re(Be,Be.current&1);break;case 19:if(a=(o&r.childLanes)!==0,t.flags&128){if(a)return Ch(t,r,o);r.flags|=128}if(c=r.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Re(Be,Be.current),a)break;return null;case 22:case 23:return r.lanes=0,ph(t,r,o)}return pn(t,r,o)}var Sh,nu,xh,Eh;Sh=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},nu=function(){},xh=function(t,r,o,a){var c=t.memoizedProps;if(c!==a){t=r.stateNode,sr(rn.current);var f=null;switch(o){case"input":c=Ml(t,c),a=Ml(t,a),f=[];break;case"select":c=B({},c,{value:void 0}),a=B({},a,{value:void 0}),f=[];break;case"textarea":c=Al(t,c),a=Al(t,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=ro)}jl(o,a);var p;o=null;for(T in c)if(!a.hasOwnProperty(T)&&c.hasOwnProperty(T)&&c[T]!=null)if(T==="style"){var v=c[T];for(p in v)v.hasOwnProperty(p)&&(o||(o={}),o[p]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(l.hasOwnProperty(T)?f||(f=[]):(f=f||[]).push(T,null));for(T in a){var S=a[T];if(v=c!=null?c[T]:void 0,a.hasOwnProperty(T)&&S!==v&&(S!=null||v!=null))if(T==="style")if(v){for(p in v)!v.hasOwnProperty(p)||S&&S.hasOwnProperty(p)||(o||(o={}),o[p]="");for(p in S)S.hasOwnProperty(p)&&v[p]!==S[p]&&(o||(o={}),o[p]=S[p])}else o||(f||(f=[]),f.push(T,o)),o=S;else T==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,v=v?v.__html:void 0,S!=null&&v!==S&&(f=f||[]).push(T,S)):T==="children"?typeof S!="string"&&typeof S!="number"||(f=f||[]).push(T,""+S):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(l.hasOwnProperty(T)?(S!=null&&T==="onScroll"&&je("scroll",t),f||v===S||(f=[])):(f=f||[]).push(T,S))}o&&(f=f||[]).push("style",o);var T=f;(r.updateQueue=T)&&(r.flags|=4)}},Eh=function(t,r,o,a){o!==a&&(r.flags|=4)};function $i(t,r){if(!We)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function pt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,a=0;if(r)for(var c=t.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=a,t.childLanes=o,r}function Yv(t,r,o){var a=r.pendingProps;switch(Ea(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(r),null;case 1:return xt(r.type)&&so(),pt(r),null;case 3:return a=r.stateNode,Wr(),Fe(St),Fe(ft),Fa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(co(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Ht!==null&&(hu(Ht),Ht=null))),nu(t,r),pt(r),null;case 5:Oa(r);var c=sr(Fi.current);if(o=r.type,t!==null&&r.stateNode!=null)xh(t,r,o,a,c),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(n(166));return pt(r),null}if(t=sr(rn.current),co(r)){a=r.stateNode,o=r.type;var f=r.memoizedProps;switch(a[nn]=r,a[Ri]=f,t=(r.mode&1)!==0,o){case"dialog":je("cancel",a),je("close",a);break;case"iframe":case"object":case"embed":je("load",a);break;case"video":case"audio":for(c=0;c<bi.length;c++)je(bi[c],a);break;case"source":je("error",a);break;case"img":case"image":case"link":je("error",a),je("load",a);break;case"details":je("toggle",a);break;case"input":rd(a,f),je("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},je("invalid",a);break;case"textarea":od(a,f),je("invalid",a)}jl(o,f),c=null;for(var p in f)if(f.hasOwnProperty(p)){var v=f[p];p==="children"?typeof v=="string"?a.textContent!==v&&(f.suppressHydrationWarning!==!0&&no(a.textContent,v,t),c=["children",v]):typeof v=="number"&&a.textContent!==""+v&&(f.suppressHydrationWarning!==!0&&no(a.textContent,v,t),c=["children",""+v]):l.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&je("scroll",a)}switch(o){case"input":Ds(a),sd(a,f,!0);break;case"textarea":Ds(a),ad(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=ro)}a=c,r.updateQueue=a,a!==null&&(r.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ud(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=p.createElement(o,{is:a.is}):(t=p.createElement(o),o==="select"&&(p=t,a.multiple?p.multiple=!0:a.size&&(p.size=a.size))):t=p.createElementNS(t,o),t[nn]=r,t[Ri]=a,Sh(t,r,!1,!1),r.stateNode=t;e:{switch(p=Fl(o,a),o){case"dialog":je("cancel",t),je("close",t),c=a;break;case"iframe":case"object":case"embed":je("load",t),c=a;break;case"video":case"audio":for(c=0;c<bi.length;c++)je(bi[c],t);c=a;break;case"source":je("error",t),c=a;break;case"img":case"image":case"link":je("error",t),je("load",t),c=a;break;case"details":je("toggle",t),c=a;break;case"input":rd(t,a),c=Ml(t,a),je("invalid",t);break;case"option":c=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},c=B({},a,{value:void 0}),je("invalid",t);break;case"textarea":od(t,a),c=Al(t,a),je("invalid",t);break;default:c=a}jl(o,c),v=c;for(f in v)if(v.hasOwnProperty(f)){var S=v[f];f==="style"?fd(t,S):f==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&cd(t,S)):f==="children"?typeof S=="string"?(o!=="textarea"||S!=="")&&ci(t,S):typeof S=="number"&&ci(t,""+S):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?S!=null&&f==="onScroll"&&je("scroll",t):S!=null&&W(t,f,S,p))}switch(o){case"input":Ds(t),sd(t,a,!1);break;case"textarea":Ds(t),ad(t);break;case"option":a.value!=null&&t.setAttribute("value",""+fe(a.value));break;case"select":t.multiple=!!a.multiple,f=a.value,f!=null?Cr(t,!!a.multiple,f,!1):a.defaultValue!=null&&Cr(t,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(t.onclick=ro)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return pt(r),null;case 6:if(t&&r.stateNode!=null)Eh(t,r,t.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(n(166));if(o=sr(Fi.current),sr(rn.current),co(r)){if(a=r.stateNode,o=r.memoizedProps,a[nn]=r,(f=a.nodeValue!==o)&&(t=Dt,t!==null))switch(t.tag){case 3:no(a.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&no(a.nodeValue,o,(t.mode&1)!==0)}f&&(r.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[nn]=r,r.stateNode=a}return pt(r),null;case 13:if(Fe(Be),a=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&At!==null&&r.mode&1&&!(r.flags&128))Tf(),jr(),r.flags|=98560,f=!1;else if(f=co(r),a!==null&&a.dehydrated!==null){if(t===null){if(!f)throw Error(n(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[nn]=r}else jr(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;pt(r),f=!1}else Ht!==null&&(hu(Ht),Ht=null),f=!0;if(!f)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(r.child.flags|=8192,r.mode&1&&(t===null||Be.current&1?Ze===0&&(Ze=3):gu())),r.updateQueue!==null&&(r.flags|=4),pt(r),null);case 4:return Wr(),nu(t,r),t===null&&Pi(r.stateNode.containerInfo),pt(r),null;case 10:return Pa(r.type._context),pt(r),null;case 17:return xt(r.type)&&so(),pt(r),null;case 19:if(Fe(Be),f=r.memoizedState,f===null)return pt(r),null;if(a=(r.flags&128)!==0,p=f.rendering,p===null)if(a)$i(f,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(p=yo(t),p!==null){for(r.flags|=128,$i(f,!1),a=p.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),r.subtreeFlags=0,a=o,o=r.child;o!==null;)f=o,t=a,f.flags&=14680066,p=f.alternate,p===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=p.childLanes,f.lanes=p.lanes,f.child=p.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=p.memoizedProps,f.memoizedState=p.memoizedState,f.updateQueue=p.updateQueue,f.type=p.type,t=p.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Re(Be,Be.current&1|2),r.child}t=t.sibling}f.tail!==null&&He()>Gr&&(r.flags|=128,a=!0,$i(f,!1),r.lanes=4194304)}else{if(!a)if(t=yo(p),t!==null){if(r.flags|=128,a=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),$i(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!We)return pt(r),null}else 2*He()-f.renderingStartTime>Gr&&o!==1073741824&&(r.flags|=128,a=!0,$i(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(o=f.last,o!==null?o.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=He(),r.sibling=null,o=Be.current,Re(Be,a?o&1|2:o&1),r):(pt(r),null);case 22:case 23:return mu(),a=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(r.flags|=8192),a&&r.mode&1?Ot&1073741824&&(pt(r),r.subtreeFlags&6&&(r.flags|=8192)):pt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Qv(t,r){switch(Ea(r),r.tag){case 1:return xt(r.type)&&so(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Wr(),Fe(St),Fe(ft),Fa(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Oa(r),null;case 13:if(Fe(Be),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));jr()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Fe(Be),null;case 4:return Wr(),null;case 10:return Pa(r.type._context),null;case 22:case 23:return mu(),null;case 24:return null;default:return null}}var No=!1,mt=!1,qv=typeof WeakSet=="function"?WeakSet:Set,U=null;function $r(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){Ue(t,r,a)}else o.current=null}function ru(t,r,o){try{o()}catch(a){Ue(t,r,a)}}var kh=!1;function Kv(t,r){if(ma=Vs,t=nf(),la(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var p=0,v=-1,S=-1,T=0,D=0,O=t,R=null;t:for(;;){for(var $;O!==o||c!==0&&O.nodeType!==3||(v=p+c),O!==f||a!==0&&O.nodeType!==3||(S=p+a),O.nodeType===3&&(p+=O.nodeValue.length),($=O.firstChild)!==null;)R=O,O=$;for(;;){if(O===t)break t;if(R===o&&++T===c&&(v=p),R===f&&++D===a&&(S=p),($=O.nextSibling)!==null)break;O=R,R=O.parentNode}O=$}o=v===-1||S===-1?null:{start:v,end:S}}else o=null}o=o||{start:0,end:0}}else o=null;for(ga={focusedElem:t,selectionRange:o},Vs=!1,U=r;U!==null;)if(r=U,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,U=t;else for(;U!==null;){r=U;try{var V=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var Y=V.memoizedProps,Ye=V.memoizedState,k=r.stateNode,x=k.getSnapshotBeforeUpdate(r.elementType===r.type?Y:Yt(r.type,Y),Ye);k.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var N=r.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(j){Ue(r,r.return,j)}if(t=r.sibling,t!==null){t.return=r.return,U=t;break}U=r.return}return V=kh,kh=!1,V}function Ui(t,r,o){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&t)===t){var f=c.destroy;c.destroy=void 0,f!==void 0&&ru(r,o,f)}c=c.next}while(c!==a)}}function To(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var a=o.create;o.destroy=a()}o=o.next}while(o!==r)}}function iu(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Nh(t){var r=t.alternate;r!==null&&(t.alternate=null,Nh(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[nn],delete r[Ri],delete r[wa],delete r[Rv],delete r[Dv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Th(t){return t.tag===5||t.tag===3||t.tag===4}function Ih(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Th(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function su(t,r,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ro));else if(a!==4&&(t=t.child,t!==null))for(su(t,r,o),t=t.sibling;t!==null;)su(t,r,o),t=t.sibling}function ou(t,r,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(ou(t,r,o),t=t.sibling;t!==null;)ou(t,r,o),t=t.sibling}var at=null,Qt=!1;function On(t,r,o){for(o=o.child;o!==null;)bh(t,r,o),o=o.sibling}function bh(t,r,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(zs,o)}catch{}switch(o.tag){case 5:mt||$r(o,r);case 6:var a=at,c=Qt;at=null,On(t,r,o),at=a,Qt=c,at!==null&&(Qt?(t=at,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):at.removeChild(o.stateNode));break;case 18:at!==null&&(Qt?(t=at,o=o.stateNode,t.nodeType===8?_a(t.parentNode,o):t.nodeType===1&&_a(t,o),Ci(t)):_a(at,o.stateNode));break;case 4:a=at,c=Qt,at=o.stateNode.containerInfo,Qt=!0,On(t,r,o),at=a,Qt=c;break;case 0:case 11:case 14:case 15:if(!mt&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,p=f.destroy;f=f.tag,p!==void 0&&(f&2||f&4)&&ru(o,r,p),c=c.next}while(c!==a)}On(t,r,o);break;case 1:if(!mt&&($r(o,r),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(v){Ue(o,r,v)}On(t,r,o);break;case 21:On(t,r,o);break;case 22:o.mode&1?(mt=(a=mt)||o.memoizedState!==null,On(t,r,o),mt=a):On(t,r,o);break;default:On(t,r,o)}}function Ph(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new qv),r.forEach(function(a){var c=s_.bind(null,t,a);o.has(a)||(o.add(a),a.then(c,c))})}}function qt(t,r){var o=r.deletions;if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];try{var f=t,p=r,v=p;e:for(;v!==null;){switch(v.tag){case 5:at=v.stateNode,Qt=!1;break e;case 3:at=v.stateNode.containerInfo,Qt=!0;break e;case 4:at=v.stateNode.containerInfo,Qt=!0;break e}v=v.return}if(at===null)throw Error(n(160));bh(f,p,c),at=null,Qt=!1;var S=c.alternate;S!==null&&(S.return=null),c.return=null}catch(T){Ue(c,r,T)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Mh(r,t),r=r.sibling}function Mh(t,r){var o=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qt(r,t),on(t),a&4){try{Ui(3,t,t.return),To(3,t)}catch(Y){Ue(t,t.return,Y)}try{Ui(5,t,t.return)}catch(Y){Ue(t,t.return,Y)}}break;case 1:qt(r,t),on(t),a&512&&o!==null&&$r(o,o.return);break;case 5:if(qt(r,t),on(t),a&512&&o!==null&&$r(o,o.return),t.flags&32){var c=t.stateNode;try{ci(c,"")}catch(Y){Ue(t,t.return,Y)}}if(a&4&&(c=t.stateNode,c!=null)){var f=t.memoizedProps,p=o!==null?o.memoizedProps:f,v=t.type,S=t.updateQueue;if(t.updateQueue=null,S!==null)try{v==="input"&&f.type==="radio"&&f.name!=null&&id(c,f),Fl(v,p);var T=Fl(v,f);for(p=0;p<S.length;p+=2){var D=S[p],O=S[p+1];D==="style"?fd(c,O):D==="dangerouslySetInnerHTML"?cd(c,O):D==="children"?ci(c,O):W(c,D,O,T)}switch(v){case"input":Rl(c,f);break;case"textarea":ld(c,f);break;case"select":var R=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var $=f.value;$!=null?Cr(c,!!f.multiple,$,!1):R!==!!f.multiple&&(f.defaultValue!=null?Cr(c,!!f.multiple,f.defaultValue,!0):Cr(c,!!f.multiple,f.multiple?[]:"",!1))}c[Ri]=f}catch(Y){Ue(t,t.return,Y)}}break;case 6:if(qt(r,t),on(t),a&4){if(t.stateNode===null)throw Error(n(162));c=t.stateNode,f=t.memoizedProps;try{c.nodeValue=f}catch(Y){Ue(t,t.return,Y)}}break;case 3:if(qt(r,t),on(t),a&4&&o!==null&&o.memoizedState.isDehydrated)try{Ci(r.containerInfo)}catch(Y){Ue(t,t.return,Y)}break;case 4:qt(r,t),on(t);break;case 13:qt(r,t),on(t),c=t.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(uu=He())),a&4&&Ph(t);break;case 22:if(D=o!==null&&o.memoizedState!==null,t.mode&1?(mt=(T=mt)||D,qt(r,t),mt=T):qt(r,t),on(t),a&8192){if(T=t.memoizedState!==null,(t.stateNode.isHidden=T)&&!D&&t.mode&1)for(U=t,D=t.child;D!==null;){for(O=U=D;U!==null;){switch(R=U,$=R.child,R.tag){case 0:case 11:case 14:case 15:Ui(4,R,R.return);break;case 1:$r(R,R.return);var V=R.stateNode;if(typeof V.componentWillUnmount=="function"){a=R,o=R.return;try{r=a,V.props=r.memoizedProps,V.state=r.memoizedState,V.componentWillUnmount()}catch(Y){Ue(a,o,Y)}}break;case 5:$r(R,R.return);break;case 22:if(R.memoizedState!==null){Ah(O);continue}}$!==null?($.return=R,U=$):Ah(O)}D=D.sibling}e:for(D=null,O=t;;){if(O.tag===5){if(D===null){D=O;try{c=O.stateNode,T?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(v=O.stateNode,S=O.memoizedProps.style,p=S!=null&&S.hasOwnProperty("display")?S.display:null,v.style.display=dd("display",p))}catch(Y){Ue(t,t.return,Y)}}}else if(O.tag===6){if(D===null)try{O.stateNode.nodeValue=T?"":O.memoizedProps}catch(Y){Ue(t,t.return,Y)}}else if((O.tag!==22&&O.tag!==23||O.memoizedState===null||O===t)&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===t)break e;for(;O.sibling===null;){if(O.return===null||O.return===t)break e;D===O&&(D=null),O=O.return}D===O&&(D=null),O.sibling.return=O.return,O=O.sibling}}break;case 19:qt(r,t),on(t),a&4&&Ph(t);break;case 21:break;default:qt(r,t),on(t)}}function on(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Th(o)){var a=o;break e}o=o.return}throw Error(n(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ci(c,""),a.flags&=-33);var f=Ih(t);ou(t,f,c);break;case 3:case 4:var p=a.stateNode.containerInfo,v=Ih(t);su(t,v,p);break;default:throw Error(n(161))}}catch(S){Ue(t,t.return,S)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Xv(t,r,o){U=t,Rh(t)}function Rh(t,r,o){for(var a=(t.mode&1)!==0;U!==null;){var c=U,f=c.child;if(c.tag===22&&a){var p=c.memoizedState!==null||No;if(!p){var v=c.alternate,S=v!==null&&v.memoizedState!==null||mt;v=No;var T=mt;if(No=p,(mt=S)&&!T)for(U=c;U!==null;)p=U,S=p.child,p.tag===22&&p.memoizedState!==null?Oh(c):S!==null?(S.return=p,U=S):Oh(c);for(;f!==null;)U=f,Rh(f),f=f.sibling;U=c,No=v,mt=T}Dh(t)}else c.subtreeFlags&8772&&f!==null?(f.return=c,U=f):Dh(t)}}function Dh(t){for(;U!==null;){var r=U;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:mt||To(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!mt)if(o===null)a.componentDidMount();else{var c=r.elementType===r.type?o.memoizedProps:Yt(r.type,o.memoizedProps);a.componentDidUpdate(c,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=r.updateQueue;f!==null&&Af(r,f,a);break;case 3:var p=r.updateQueue;if(p!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Af(r,p,o)}break;case 5:var v=r.stateNode;if(o===null&&r.flags&4){o=v;var S=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&o.focus();break;case"img":S.src&&(o.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var T=r.alternate;if(T!==null){var D=T.memoizedState;if(D!==null){var O=D.dehydrated;O!==null&&Ci(O)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}mt||r.flags&512&&iu(r)}catch(R){Ue(r,r.return,R)}}if(r===t){U=null;break}if(o=r.sibling,o!==null){o.return=r.return,U=o;break}U=r.return}}function Ah(t){for(;U!==null;){var r=U;if(r===t){U=null;break}var o=r.sibling;if(o!==null){o.return=r.return,U=o;break}U=r.return}}function Oh(t){for(;U!==null;){var r=U;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{To(4,r)}catch(S){Ue(r,o,S)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var c=r.return;try{a.componentDidMount()}catch(S){Ue(r,c,S)}}var f=r.return;try{iu(r)}catch(S){Ue(r,f,S)}break;case 5:var p=r.return;try{iu(r)}catch(S){Ue(r,p,S)}}}catch(S){Ue(r,r.return,S)}if(r===t){U=null;break}var v=r.sibling;if(v!==null){v.return=r.return,U=v;break}U=r.return}}var Jv=Math.ceil,Io=H.ReactCurrentDispatcher,lu=H.ReactCurrentOwner,Wt=H.ReactCurrentBatchConfig,Se=0,rt=null,Qe=null,ut=0,Ot=0,Ur=Pn(0),Ze=0,Gi=null,lr=0,bo=0,au=0,Vi=null,kt=null,uu=0,Gr=1/0,mn=null,Po=!1,cu=null,jn=null,Mo=!1,Fn=null,Ro=0,Hi=0,du=null,Do=-1,Ao=0;function vt(){return Se&6?He():Do!==-1?Do:Do=He()}function Ln(t){return t.mode&1?Se&2&&ut!==0?ut&-ut:Ov.transition!==null?(Ao===0&&(Ao=Td()),Ao):(t=Te,t!==0||(t=window.event,t=t===void 0?16:jd(t.type)),t):1}function Kt(t,r,o,a){if(50<Hi)throw Hi=0,du=null,Error(n(185));gi(t,o,a),(!(Se&2)||t!==rt)&&(t===rt&&(!(Se&2)&&(bo|=o),Ze===4&&zn(t,ut)),Nt(t,a),o===1&&Se===0&&!(r.mode&1)&&(Gr=He()+500,lo&&Rn()))}function Nt(t,r){var o=t.callbackNode;Oy(t,r);var a=$s(t,t===rt?ut:0);if(a===0)o!==null&&Ed(o),t.callbackNode=null,t.callbackPriority=0;else if(r=a&-a,t.callbackPriority!==r){if(o!=null&&Ed(o),r===1)t.tag===0?Av(Fh.bind(null,t)):Sf(Fh.bind(null,t)),Pv(function(){!(Se&6)&&Rn()}),o=null;else{switch(Id(a)){case 1:o=Gl;break;case 4:o=kd;break;case 16:o=Ls;break;case 536870912:o=Nd;break;default:o=Ls}o=Vh(o,jh.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function jh(t,r){if(Do=-1,Ao=0,Se&6)throw Error(n(327));var o=t.callbackNode;if(Vr()&&t.callbackNode!==o)return null;var a=$s(t,t===rt?ut:0);if(a===0)return null;if(a&30||a&t.expiredLanes||r)r=Oo(t,a);else{r=a;var c=Se;Se|=2;var f=zh();(rt!==t||ut!==r)&&(mn=null,Gr=He()+500,ur(t,r));do try{t_();break}catch(v){Lh(t,v)}while(!0);ba(),Io.current=f,Se=c,Qe!==null?r=0:(rt=null,ut=0,r=Ze)}if(r!==0){if(r===2&&(c=Vl(t),c!==0&&(a=c,r=fu(t,c))),r===1)throw o=Gi,ur(t,0),zn(t,a),Nt(t,He()),o;if(r===6)zn(t,a);else{if(c=t.current.alternate,!(a&30)&&!Zv(c)&&(r=Oo(t,a),r===2&&(f=Vl(t),f!==0&&(a=f,r=fu(t,f))),r===1))throw o=Gi,ur(t,0),zn(t,a),Nt(t,He()),o;switch(t.finishedWork=c,t.finishedLanes=a,r){case 0:case 1:throw Error(n(345));case 2:cr(t,kt,mn);break;case 3:if(zn(t,a),(a&130023424)===a&&(r=uu+500-He(),10<r)){if($s(t,0)!==0)break;if(c=t.suspendedLanes,(c&a)!==a){vt(),t.pingedLanes|=t.suspendedLanes&c;break}t.timeoutHandle=va(cr.bind(null,t,kt,mn),r);break}cr(t,kt,mn);break;case 4:if(zn(t,a),(a&4194240)===a)break;for(r=t.eventTimes,c=-1;0<a;){var p=31-Gt(a);f=1<<p,p=r[p],p>c&&(c=p),a&=~f}if(a=c,a=He()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Jv(a/1960))-a,10<a){t.timeoutHandle=va(cr.bind(null,t,kt,mn),a);break}cr(t,kt,mn);break;case 5:cr(t,kt,mn);break;default:throw Error(n(329))}}}return Nt(t,He()),t.callbackNode===o?jh.bind(null,t):null}function fu(t,r){var o=Vi;return t.current.memoizedState.isDehydrated&&(ur(t,r).flags|=256),t=Oo(t,r),t!==2&&(r=kt,kt=o,r!==null&&hu(r)),t}function hu(t){kt===null?kt=t:kt.push.apply(kt,t)}function Zv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var c=o[a],f=c.getSnapshot;c=c.value;try{if(!Vt(f(),c))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function zn(t,r){for(r&=~au,r&=~bo,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Gt(r),a=1<<o;t[o]=-1,r&=~a}}function Fh(t){if(Se&6)throw Error(n(327));Vr();var r=$s(t,0);if(!(r&1))return Nt(t,He()),null;var o=Oo(t,r);if(t.tag!==0&&o===2){var a=Vl(t);a!==0&&(r=a,o=fu(t,a))}if(o===1)throw o=Gi,ur(t,0),zn(t,r),Nt(t,He()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,cr(t,kt,mn),Nt(t,He()),null}function pu(t,r){var o=Se;Se|=1;try{return t(r)}finally{Se=o,Se===0&&(Gr=He()+500,lo&&Rn())}}function ar(t){Fn!==null&&Fn.tag===0&&!(Se&6)&&Vr();var r=Se;Se|=1;var o=Wt.transition,a=Te;try{if(Wt.transition=null,Te=1,t)return t()}finally{Te=a,Wt.transition=o,Se=r,!(Se&6)&&Rn()}}function mu(){Ot=Ur.current,Fe(Ur)}function ur(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,bv(o)),Qe!==null)for(o=Qe.return;o!==null;){var a=o;switch(Ea(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&so();break;case 3:Wr(),Fe(St),Fe(ft),Fa();break;case 5:Oa(a);break;case 4:Wr();break;case 13:Fe(Be);break;case 19:Fe(Be);break;case 10:Pa(a.type._context);break;case 22:case 23:mu()}o=o.return}if(rt=t,Qe=t=Wn(t.current,null),ut=Ot=r,Ze=0,Gi=null,au=bo=lr=0,kt=Vi=null,ir!==null){for(r=0;r<ir.length;r++)if(o=ir[r],a=o.interleaved,a!==null){o.interleaved=null;var c=a.next,f=o.pending;if(f!==null){var p=f.next;f.next=c,a.next=p}o.pending=a}ir=null}return t}function Lh(t,r){do{var o=Qe;try{if(ba(),vo.current=So,_o){for(var a=$e.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}_o=!1}if(or=0,nt=Je=$e=null,Li=!1,zi=0,lu.current=null,o===null||o.return===null){Ze=1,Gi=r,Qe=null;break}e:{var f=t,p=o.return,v=o,S=r;if(r=ut,v.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var T=S,D=v,O=D.tag;if(!(D.mode&1)&&(O===0||O===11||O===15)){var R=D.alternate;R?(D.updateQueue=R.updateQueue,D.memoizedState=R.memoizedState,D.lanes=R.lanes):(D.updateQueue=null,D.memoizedState=null)}var $=uh(p);if($!==null){$.flags&=-257,ch($,p,v,f,r),$.mode&1&&ah(f,T,r),r=$,S=T;var V=r.updateQueue;if(V===null){var Y=new Set;Y.add(S),r.updateQueue=Y}else V.add(S);break e}else{if(!(r&1)){ah(f,T,r),gu();break e}S=Error(n(426))}}else if(We&&v.mode&1){var Ye=uh(p);if(Ye!==null){!(Ye.flags&65536)&&(Ye.flags|=256),ch(Ye,p,v,f,r),Ta(Br(S,v));break e}}f=S=Br(S,v),Ze!==4&&(Ze=2),Vi===null?Vi=[f]:Vi.push(f),f=p;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var k=oh(f,S,r);Df(f,k);break e;case 1:v=S;var x=f.type,N=f.stateNode;if(!(f.flags&128)&&(typeof x.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(jn===null||!jn.has(N)))){f.flags|=65536,r&=-r,f.lanes|=r;var j=lh(f,v,r);Df(f,j);break e}}f=f.return}while(f!==null)}Bh(o)}catch(K){r=K,Qe===o&&o!==null&&(Qe=o=o.return);continue}break}while(!0)}function zh(){var t=Io.current;return Io.current=So,t===null?So:t}function gu(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),rt===null||!(lr&268435455)&&!(bo&268435455)||zn(rt,ut)}function Oo(t,r){var o=Se;Se|=2;var a=zh();(rt!==t||ut!==r)&&(mn=null,ur(t,r));do try{e_();break}catch(c){Lh(t,c)}while(!0);if(ba(),Se=o,Io.current=a,Qe!==null)throw Error(n(261));return rt=null,ut=0,Ze}function e_(){for(;Qe!==null;)Wh(Qe)}function t_(){for(;Qe!==null&&!Ny();)Wh(Qe)}function Wh(t){var r=Gh(t.alternate,t,Ot);t.memoizedProps=t.pendingProps,r===null?Bh(t):Qe=r,lu.current=null}function Bh(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=Qv(o,r),o!==null){o.flags&=32767,Qe=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Qe=null;return}}else if(o=Yv(o,r,Ot),o!==null){Qe=o;return}if(r=r.sibling,r!==null){Qe=r;return}Qe=r=t}while(r!==null);Ze===0&&(Ze=5)}function cr(t,r,o){var a=Te,c=Wt.transition;try{Wt.transition=null,Te=1,n_(t,r,o,a)}finally{Wt.transition=c,Te=a}return null}function n_(t,r,o,a){do Vr();while(Fn!==null);if(Se&6)throw Error(n(327));o=t.finishedWork;var c=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var f=o.lanes|o.childLanes;if(jy(t,f),t===rt&&(Qe=rt=null,ut=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Mo||(Mo=!0,Vh(Ls,function(){return Vr(),null})),f=(o.flags&15990)!==0,o.subtreeFlags&15990||f){f=Wt.transition,Wt.transition=null;var p=Te;Te=1;var v=Se;Se|=4,lu.current=null,Kv(t,o),Mh(o,t),Sv(ga),Vs=!!ma,ga=ma=null,t.current=o,Xv(o),Ty(),Se=v,Te=p,Wt.transition=f}else t.current=o;if(Mo&&(Mo=!1,Fn=t,Ro=c),f=t.pendingLanes,f===0&&(jn=null),Py(o.stateNode),Nt(t,He()),r!==null)for(a=t.onRecoverableError,o=0;o<r.length;o++)c=r[o],a(c.value,{componentStack:c.stack,digest:c.digest});if(Po)throw Po=!1,t=cu,cu=null,t;return Ro&1&&t.tag!==0&&Vr(),f=t.pendingLanes,f&1?t===du?Hi++:(Hi=0,du=t):Hi=0,Rn(),null}function Vr(){if(Fn!==null){var t=Id(Ro),r=Wt.transition,o=Te;try{if(Wt.transition=null,Te=16>t?16:t,Fn===null)var a=!1;else{if(t=Fn,Fn=null,Ro=0,Se&6)throw Error(n(331));var c=Se;for(Se|=4,U=t.current;U!==null;){var f=U,p=f.child;if(U.flags&16){var v=f.deletions;if(v!==null){for(var S=0;S<v.length;S++){var T=v[S];for(U=T;U!==null;){var D=U;switch(D.tag){case 0:case 11:case 15:Ui(8,D,f)}var O=D.child;if(O!==null)O.return=D,U=O;else for(;U!==null;){D=U;var R=D.sibling,$=D.return;if(Nh(D),D===T){U=null;break}if(R!==null){R.return=$,U=R;break}U=$}}}var V=f.alternate;if(V!==null){var Y=V.child;if(Y!==null){V.child=null;do{var Ye=Y.sibling;Y.sibling=null,Y=Ye}while(Y!==null)}}U=f}}if(f.subtreeFlags&2064&&p!==null)p.return=f,U=p;else e:for(;U!==null;){if(f=U,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Ui(9,f,f.return)}var k=f.sibling;if(k!==null){k.return=f.return,U=k;break e}U=f.return}}var x=t.current;for(U=x;U!==null;){p=U;var N=p.child;if(p.subtreeFlags&2064&&N!==null)N.return=p,U=N;else e:for(p=x;U!==null;){if(v=U,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:To(9,v)}}catch(K){Ue(v,v.return,K)}if(v===p){U=null;break e}var j=v.sibling;if(j!==null){j.return=v.return,U=j;break e}U=v.return}}if(Se=c,Rn(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(zs,t)}catch{}a=!0}return a}finally{Te=o,Wt.transition=r}}return!1}function $h(t,r,o){r=Br(o,r),r=oh(t,r,1),t=An(t,r,1),r=vt(),t!==null&&(gi(t,1,r),Nt(t,r))}function Ue(t,r,o){if(t.tag===3)$h(t,t,o);else for(;r!==null;){if(r.tag===3){$h(r,t,o);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(jn===null||!jn.has(a))){t=Br(o,t),t=lh(r,t,1),r=An(r,t,1),t=vt(),r!==null&&(gi(r,1,t),Nt(r,t));break}}r=r.return}}function r_(t,r,o){var a=t.pingCache;a!==null&&a.delete(r),r=vt(),t.pingedLanes|=t.suspendedLanes&o,rt===t&&(ut&o)===o&&(Ze===4||Ze===3&&(ut&130023424)===ut&&500>He()-uu?ur(t,0):au|=o),Nt(t,r)}function Uh(t,r){r===0&&(t.mode&1?(r=Bs,Bs<<=1,!(Bs&130023424)&&(Bs=4194304)):r=1);var o=vt();t=fn(t,r),t!==null&&(gi(t,r,o),Nt(t,o))}function i_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Uh(t,o)}function s_(t,r){var o=0;switch(t.tag){case 13:var a=t.stateNode,c=t.memoizedState;c!==null&&(o=c.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(n(314))}a!==null&&a.delete(r),Uh(t,o)}var Gh;Gh=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||St.current)Et=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Et=!1,Hv(t,r,o);Et=!!(t.flags&131072)}else Et=!1,We&&r.flags&1048576&&xf(r,uo,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;ko(t,r),t=r.pendingProps;var c=Dr(r,ft.current);zr(r,o),c=Wa(null,r,a,t,c,o);var f=Ba();return r.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,xt(a)?(f=!0,oo(r)):f=!1,r.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Da(r),c.updater=xo,r.stateNode=c,c._reactInternals=r,Ya(r,a,t,o),r=Xa(null,r,a,!0,f,o)):(r.tag=0,We&&f&&xa(r),yt(null,r,c,o),r=r.child),r;case 16:a=r.elementType;e:{switch(ko(t,r),t=r.pendingProps,c=a._init,a=c(a._payload),r.type=a,c=r.tag=l_(a),t=Yt(a,t),c){case 0:r=Ka(null,r,a,t,o);break e;case 1:r=gh(null,r,a,t,o);break e;case 11:r=dh(null,r,a,t,o);break e;case 14:r=fh(null,r,a,Yt(a.type,t),o);break e}throw Error(n(306,a,""))}return r;case 0:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Yt(a,c),Ka(t,r,a,c,o);case 1:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Yt(a,c),gh(t,r,a,c,o);case 3:e:{if(yh(r),t===null)throw Error(n(387));a=r.pendingProps,f=r.memoizedState,c=f.element,Rf(t,r),go(r,a,null,o);var p=r.memoizedState;if(a=p.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){c=Br(Error(n(423)),r),r=vh(t,r,a,o,c);break e}else if(a!==c){c=Br(Error(n(424)),r),r=vh(t,r,a,o,c);break e}else for(At=bn(r.stateNode.containerInfo.firstChild),Dt=r,We=!0,Ht=null,o=Pf(r,null,a,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(jr(),a===c){r=pn(t,r,o);break e}yt(t,r,a,o)}r=r.child}return r;case 5:return Of(r),t===null&&Na(r),a=r.type,c=r.pendingProps,f=t!==null?t.memoizedProps:null,p=c.children,ya(a,c)?p=null:f!==null&&ya(a,f)&&(r.flags|=32),mh(t,r),yt(t,r,p,o),r.child;case 6:return t===null&&Na(r),null;case 13:return _h(t,r,o);case 4:return Aa(r,r.stateNode.containerInfo),a=r.pendingProps,t===null?r.child=Fr(r,null,a,o):yt(t,r,a,o),r.child;case 11:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Yt(a,c),dh(t,r,a,c,o);case 7:return yt(t,r,r.pendingProps,o),r.child;case 8:return yt(t,r,r.pendingProps.children,o),r.child;case 12:return yt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(a=r.type._context,c=r.pendingProps,f=r.memoizedProps,p=c.value,Re(ho,a._currentValue),a._currentValue=p,f!==null)if(Vt(f.value,p)){if(f.children===c.children&&!St.current){r=pn(t,r,o);break e}}else for(f=r.child,f!==null&&(f.return=r);f!==null;){var v=f.dependencies;if(v!==null){p=f.child;for(var S=v.firstContext;S!==null;){if(S.context===a){if(f.tag===1){S=hn(-1,o&-o),S.tag=2;var T=f.updateQueue;if(T!==null){T=T.shared;var D=T.pending;D===null?S.next=S:(S.next=D.next,D.next=S),T.pending=S}}f.lanes|=o,S=f.alternate,S!==null&&(S.lanes|=o),Ma(f.return,o,r),v.lanes|=o;break}S=S.next}}else if(f.tag===10)p=f.type===r.type?null:f.child;else if(f.tag===18){if(p=f.return,p===null)throw Error(n(341));p.lanes|=o,v=p.alternate,v!==null&&(v.lanes|=o),Ma(p,o,r),p=f.sibling}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===r){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}yt(t,r,c.children,o),r=r.child}return r;case 9:return c=r.type,a=r.pendingProps.children,zr(r,o),c=Lt(c),a=a(c),r.flags|=1,yt(t,r,a,o),r.child;case 14:return a=r.type,c=Yt(a,r.pendingProps),c=Yt(a.type,c),fh(t,r,a,c,o);case 15:return hh(t,r,r.type,r.pendingProps,o);case 17:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:Yt(a,c),ko(t,r),r.tag=1,xt(a)?(t=!0,oo(r)):t=!1,zr(r,o),ih(r,a,c),Ya(r,a,c,o),Xa(null,r,a,!0,t,o);case 19:return Ch(t,r,o);case 22:return ph(t,r,o)}throw Error(n(156,r.tag))};function Vh(t,r){return xd(t,r)}function o_(t,r,o,a){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(t,r,o,a){return new o_(t,r,o,a)}function yu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function l_(t){if(typeof t=="function")return yu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Q)return 11;if(t===Pe)return 14}return 2}function Wn(t,r){var o=t.alternate;return o===null?(o=Bt(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function jo(t,r,o,a,c,f){var p=2;if(a=t,typeof t=="function")yu(t)&&(p=1);else if(typeof t=="string")p=5;else e:switch(t){case ge:return dr(o.children,c,f,r);case ke:p=8,c|=8;break;case Oe:return t=Bt(12,o,r,c|2),t.elementType=Oe,t.lanes=f,t;case le:return t=Bt(13,o,r,c),t.elementType=le,t.lanes=f,t;case we:return t=Bt(19,o,r,c),t.elementType=we,t.lanes=f,t;case ie:return Fo(o,c,f,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:p=10;break e;case Z:p=9;break e;case Q:p=11;break e;case Pe:p=14;break e;case Ce:p=16,a=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=Bt(p,o,r,c),r.elementType=t,r.type=a,r.lanes=f,r}function dr(t,r,o,a){return t=Bt(7,t,a,r),t.lanes=o,t}function Fo(t,r,o,a){return t=Bt(22,t,a,r),t.elementType=ie,t.lanes=o,t.stateNode={isHidden:!1},t}function vu(t,r,o){return t=Bt(6,t,null,r),t.lanes=o,t}function _u(t,r,o){return r=Bt(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function a_(t,r,o,a,c){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function wu(t,r,o,a,c,f,p,v,S){return t=new a_(t,r,o,v,S),r===1?(r=1,f===!0&&(r|=8)):r=0,f=Bt(3,null,null,r),t.current=f,f.stateNode=t,f.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(f),t}function u_(t,r,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:a==null?null:""+a,children:t,containerInfo:r,implementation:o}}function Hh(t){if(!t)return Mn;t=t._reactInternals;e:{if(Zn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(xt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(xt(o))return wf(t,o,r)}return r}function Yh(t,r,o,a,c,f,p,v,S){return t=wu(o,a,!0,t,c,f,p,v,S),t.context=Hh(null),o=t.current,a=vt(),c=Ln(o),f=hn(a,c),f.callback=r??null,An(o,f,c),t.current.lanes=c,gi(t,c,a),Nt(t,a),t}function Lo(t,r,o,a){var c=r.current,f=vt(),p=Ln(c);return o=Hh(o),r.context===null?r.context=o:r.pendingContext=o,r=hn(f,p),r.payload={element:t},a=a===void 0?null:a,a!==null&&(r.callback=a),t=An(c,r,p),t!==null&&(Kt(t,c,p,f),mo(t,c,p)),p}function zo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qh(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Cu(t,r){Qh(t,r),(t=t.alternate)&&Qh(t,r)}function c_(){return null}var qh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Su(t){this._internalRoot=t}Wo.prototype.render=Su.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Lo(t,r,null,null)},Wo.prototype.unmount=Su.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;ar(function(){Lo(null,t,null,null)}),r[an]=null}};function Wo(t){this._internalRoot=t}Wo.prototype.unstable_scheduleHydration=function(t){if(t){var r=Md();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Nn.length&&r!==0&&r<Nn[o].priority;o++);Nn.splice(o,0,t),o===0&&Ad(t)}};function xu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kh(){}function d_(t,r,o,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var T=zo(p);f.call(T)}}var p=Yh(r,a,t,0,null,!1,!1,"",Kh);return t._reactRootContainer=p,t[an]=p.current,Pi(t.nodeType===8?t.parentNode:t),ar(),p}for(;c=t.lastChild;)t.removeChild(c);if(typeof a=="function"){var v=a;a=function(){var T=zo(S);v.call(T)}}var S=wu(t,0,!1,null,null,!1,!1,"",Kh);return t._reactRootContainer=S,t[an]=S.current,Pi(t.nodeType===8?t.parentNode:t),ar(function(){Lo(r,S,o,a)}),S}function $o(t,r,o,a,c){var f=o._reactRootContainer;if(f){var p=f;if(typeof c=="function"){var v=c;c=function(){var S=zo(p);v.call(S)}}Lo(r,p,t,c)}else p=d_(o,r,t,c,a);return zo(p)}bd=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=mi(r.pendingLanes);o!==0&&(Yl(r,o|1),Nt(r,He()),!(Se&6)&&(Gr=He()+500,Rn()))}break;case 13:ar(function(){var a=fn(t,1);if(a!==null){var c=vt();Kt(a,t,1,c)}}),Cu(t,1)}},Ql=function(t){if(t.tag===13){var r=fn(t,134217728);if(r!==null){var o=vt();Kt(r,t,134217728,o)}Cu(t,134217728)}},Pd=function(t){if(t.tag===13){var r=Ln(t),o=fn(t,r);if(o!==null){var a=vt();Kt(o,t,r,a)}Cu(t,r)}},Md=function(){return Te},Rd=function(t,r){var o=Te;try{return Te=t,r()}finally{Te=o}},Wl=function(t,r,o){switch(r){case"input":if(Rl(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var a=o[r];if(a!==t&&a.form===t.form){var c=io(a);if(!c)throw Error(n(90));nd(a),Rl(a,c)}}}break;case"textarea":ld(t,o);break;case"select":r=o.value,r!=null&&Cr(t,!!o.multiple,r,!1)}},gd=pu,yd=ar;var f_={usingClientEntryPoint:!1,Events:[Di,Mr,io,pd,md,pu]},Yi={findFiberByHostInstance:er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h_={bundleType:Yi.bundleType,version:Yi.version,rendererPackageName:Yi.rendererPackageName,rendererConfig:Yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cd(t),t===null?null:t.stateNode},findFiberByHostInstance:Yi.findFiberByHostInstance||c_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{zs=Uo.inject(h_),tn=Uo}catch{}}return Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f_,Tt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xu(r))throw Error(n(200));return u_(t,r,null,o)},Tt.createRoot=function(t,r){if(!xu(t))throw Error(n(299));var o=!1,a="",c=qh;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),r=wu(t,1,!1,null,null,o,!1,a,c),t[an]=r.current,Pi(t.nodeType===8?t.parentNode:t),new Su(r)},Tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Cd(r),t=t===null?null:t.stateNode,t},Tt.flushSync=function(t){return ar(t)},Tt.hydrate=function(t,r,o){if(!Bo(r))throw Error(n(200));return $o(null,t,r,!0,o)},Tt.hydrateRoot=function(t,r,o){if(!xu(t))throw Error(n(405));var a=o!=null&&o.hydratedSources||null,c=!1,f="",p=qh;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),r=Yh(r,null,t,1,o??null,c,!1,f,p),t[an]=r.current,Pi(t),a)for(t=0;t<a.length;t++)o=a[t],c=o._getVersion,c=c(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,c]:r.mutableSourceEagerHydrationData.push(o,c);return new Wo(r)},Tt.render=function(t,r,o){if(!Bo(r))throw Error(n(200));return $o(null,t,r,!1,o)},Tt.unmountComponentAtNode=function(t){if(!Bo(t))throw Error(n(40));return t._reactRootContainer?(ar(function(){$o(null,null,t,!1,function(){t._reactRootContainer=null,t[an]=null})}),!0):!1},Tt.unstable_batchedUpdates=pu,Tt.unstable_renderSubtreeIntoContainer=function(t,r,o,a){if(!Bo(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return $o(t,r,o,!1,a)},Tt.version="18.3.1-next-f1338f8080-20240426",Tt}var ip;function C_(){if(ip)return Nu.exports;ip=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Nu.exports=w_(),Nu.exports}var sp;function S_(){if(sp)return Vo;sp=1;var i=C_();return Vo.createRoot=i.createRoot,Vo.hydrateRoot=i.hydrateRoot,Vo}var x_=S_(),q=yc(),bu,op;function E_(){if(op)return bu;op=1;var i="Expected a function",e=NaN,n="[object Symbol]",s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,h=parseInt,m=typeof Go=="object"&&Go&&Go.Object===Object&&Go,g=typeof self=="object"&&self&&self.Object===Object&&self,w=m||g||Function("return this")(),_=Object.prototype,C=_.toString,I=Math.max,P=Math.min,b=function(){return w.Date.now()};function A(L,re,ge){var ke,Oe,ae,Z,Q,le,we=0,Pe=!1,Ce=!1,ie=!0;if(typeof L!="function")throw new TypeError(i);re=H(re)||0,J(ge)&&(Pe=!!ge.leading,Ce="maxWait"in ge,ae=Ce?I(H(ge.maxWait)||0,re):ae,ie="trailing"in ge?!!ge.trailing:ie);function F(oe){var fe=ke,Ne=Oe;return ke=Oe=void 0,we=oe,Z=L.apply(Ne,fe),Z}function G(oe){return we=oe,Q=setTimeout(M,re),Pe?F(oe):Z}function B(oe){var fe=oe-le,Ne=oe-we,dt=re-fe;return Ce?P(dt,ae-Ne):dt}function E(oe){var fe=oe-le,Ne=oe-we;return le===void 0||fe>=re||fe<0||Ce&&Ne>=ae}function M(){var oe=b();if(E(oe))return ue(oe);Q=setTimeout(M,B(oe))}function ue(oe){return Q=void 0,ie&&ke?F(oe):(ke=Oe=void 0,Z)}function de(){Q!==void 0&&clearTimeout(Q),we=0,ke=le=Oe=Q=void 0}function _e(){return Q===void 0?Z:ue(b())}function ye(){var oe=b(),fe=E(oe);if(ke=arguments,Oe=this,le=oe,fe){if(Q===void 0)return G(le);if(Ce)return Q=setTimeout(M,re),F(le)}return Q===void 0&&(Q=setTimeout(M,re)),Z}return ye.cancel=de,ye.flush=_e,ye}function J(L){var re=typeof L;return!!L&&(re=="object"||re=="function")}function X(L){return!!L&&typeof L=="object"}function W(L){return typeof L=="symbol"||X(L)&&C.call(L)==n}function H(L){if(typeof L=="number")return L;if(W(L))return e;if(J(L)){var re=typeof L.valueOf=="function"?L.valueOf():L;L=J(re)?re+"":re}if(typeof L!="string")return L===0?L:+L;L=L.replace(s,"");var ge=u.test(L);return ge||d.test(L)?h(L.slice(2),ge?2:8):l.test(L)?e:+L}return bu=A,bu}E_();var hm=typeof window<"u"?q.useLayoutEffect:q.useEffect;function lp(i,e,n,s){const l=q.useRef(e);hm(()=>{l.current=e},[e]),q.useEffect(()=>{const u=window;if(!(u&&u.addEventListener))return;const d=h=>{l.current(h)};return u.addEventListener(i,d,s),()=>{u.removeEventListener(i,d,s)}},[i,n,s])}function ap(i){const e=q.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return hm(()=>{e.current=i},[i]),q.useCallback((...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[e])}var Pu=typeof window>"u";function be(i,e,n={}){const{initializeWithValue:s=!0}=n,l=q.useCallback(C=>n.serializer?n.serializer(C):JSON.stringify(C),[n]),u=q.useCallback(C=>{if(n.deserializer)return n.deserializer(C);if(C==="undefined")return;const I=e instanceof Function?e():e;let P;try{P=JSON.parse(C)}catch(b){return console.error("Error parsing JSON:",b),I}return P},[n,e]),d=q.useCallback(()=>{const C=e instanceof Function?e():e;if(Pu)return C;try{const I=window.localStorage.getItem(i);return I?u(I):C}catch(I){return console.warn(`Error reading localStorage key ${i}:`,I),C}},[e,i,u]),[h,m]=q.useState(()=>s?d():e instanceof Function?e():e),g=ap(C=>{Pu&&console.warn(`Tried setting localStorage key ${i} even though environment is not a client`);try{const I=C instanceof Function?C(d()):C;window.localStorage.setItem(i,l(I)),m(I),window.dispatchEvent(new StorageEvent("local-storage",{key:i}))}catch(I){console.warn(`Error setting localStorage key ${i}:`,I)}}),w=ap(()=>{Pu&&console.warn(`Tried removing localStorage key ${i} even though environment is not a client`);const C=e instanceof Function?e():e;window.localStorage.removeItem(i),m(C),window.dispatchEvent(new StorageEvent("local-storage",{key:i}))});q.useEffect(()=>{m(d())},[i]);const _=q.useCallback(C=>{C.key&&C.key!==i||m(d())},[i,d]);return lp("storage",_),lp("local-storage",_),[h,g,w]}const pm=6048e5,k_=864e5,mm=6e4,gm=36e5,up=Symbol.for("constructDateFrom");function Ut(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&up in i?i[up](e):i instanceof Date?new i.constructor(e):new Date(e)}function Xe(i,e){return Ut(e||i,i)}function N_(i,e,n){const s=Xe(i,n==null?void 0:n.in);return isNaN(e)?Ut(i,NaN):(s.setDate(s.getDate()+e),s)}function vc(i,e,n){const s=Xe(i,n==null?void 0:n.in);if(isNaN(e))return Ut(i,NaN);if(!e)return s;const l=s.getDate(),u=Ut(i,s.getTime());u.setMonth(s.getMonth()+e+1,0);const d=u.getDate();return l>=d?u:(s.setFullYear(u.getFullYear(),u.getMonth(),l),s)}let T_={};function vl(){return T_}function qn(i,e){var h,m,g,w;const n=vl(),s=(e==null?void 0:e.weekStartsOn)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((w=(g=n.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??0,l=Xe(i,e==null?void 0:e.in),u=l.getDay(),d=(u<s?7:0)+u-s;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function Ko(i,e){return qn(i,{...e,weekStartsOn:1})}function ym(i,e){const n=Xe(i,e==null?void 0:e.in),s=n.getFullYear(),l=Ut(n,0);l.setFullYear(s+1,0,4),l.setHours(0,0,0,0);const u=Ko(l),d=Ut(n,0);d.setFullYear(s,0,4),d.setHours(0,0,0,0);const h=Ko(d);return n.getTime()>=u.getTime()?s+1:n.getTime()>=h.getTime()?s:s-1}function cp(i){const e=Xe(i),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+i-+n}function Es(i,...e){const n=Ut.bind(null,i||e.find(s=>typeof s=="object"));return e.map(n)}function Xo(i,e){const n=Xe(i,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function vm(i,e,n){const[s,l]=Es(n==null?void 0:n.in,i,e),u=Xo(s),d=Xo(l),h=+u-cp(u),m=+d-cp(d);return Math.round((h-m)/k_)}function I_(i,e){const n=ym(i,e),s=Ut(i,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Ko(s)}function qu(i,e,n){const[s,l]=Es(n==null?void 0:n.in,i,e);return+Xo(s)==+Xo(l)}function b_(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function P_(i){return!(!b_(i)&&typeof i!="number"||isNaN(+Xe(i)))}function M_(i,e){const n=Xe(i,e==null?void 0:e.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function R_(i,e){const n=Xe(i,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function D_(i,e){const n=Xe(i,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function A_(i,e){const n=e==null?void 0:e.weekStartsOn,s=Xe(i,e==null?void 0:e.in),l=s.getDay(),u=(l<n?-7:0)+6-(l-n);return s.setDate(s.getDate()+u),s.setHours(23,59,59,999),s}const O_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},j_=(i,e,n)=>{let s;const l=O_[i];return typeof l=="string"?s=l:e===1?s=l.one:s=l.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function $t(i){return(e={})=>{const n=e.width?String(e.width):i.defaultWidth;return i.formats[n]||i.formats[i.defaultWidth]}}const F_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},L_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},z_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},W_={date:$t({formats:F_,defaultWidth:"full"}),time:$t({formats:L_,defaultWidth:"full"}),dateTime:$t({formats:z_,defaultWidth:"full"})},B_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$_=(i,e,n,s)=>B_[i];function qe(i){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let l;if(s==="formatting"&&i.formattingValues){const d=i.defaultFormattingWidth||i.defaultWidth,h=n!=null&&n.width?String(n.width):d;l=i.formattingValues[h]||i.formattingValues[d]}else{const d=i.defaultWidth,h=n!=null&&n.width?String(n.width):i.defaultWidth;l=i.values[h]||i.values[d]}const u=i.argumentCallback?i.argumentCallback(e):e;return l[u]}}const U_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},G_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},V_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},H_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Y_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Q_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q_=(i,e)=>{const n=Number(i),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},K_={ordinalNumber:q_,era:qe({values:U_,defaultWidth:"wide"}),quarter:qe({values:G_,defaultWidth:"wide",argumentCallback:i=>i-1}),month:qe({values:V_,defaultWidth:"wide"}),day:qe({values:H_,defaultWidth:"wide"}),dayPeriod:qe({values:Y_,defaultWidth:"wide",formattingValues:Q_,defaultFormattingWidth:"wide"})};function Ke(i){return(e,n={})=>{const s=n.width,l=s&&i.matchPatterns[s]||i.matchPatterns[i.defaultMatchWidth],u=e.match(l);if(!u)return null;const d=u[0],h=s&&i.parsePatterns[s]||i.parsePatterns[i.defaultParseWidth],m=Array.isArray(h)?J_(h,_=>_.test(d)):X_(h,_=>_.test(d));let g;g=i.valueCallback?i.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const w=e.slice(d.length);return{value:g,rest:w}}}function X_(i,e){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&e(i[n]))return n}function J_(i,e){for(let n=0;n<i.length;n++)if(e(i[n]))return n}function _l(i){return(e,n={})=>{const s=e.match(i.matchPattern);if(!s)return null;const l=s[0],u=e.match(i.parsePattern);if(!u)return null;let d=i.valueCallback?i.valueCallback(u[0]):u[0];d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(l.length);return{value:d,rest:h}}}const Z_=/^(\d+)(th|st|nd|rd)?/i,ew=/\d+/i,tw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nw={any:[/^b/i,/^(a|c)/i]},rw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},iw={any:[/1/i,/2/i,/3/i,/4/i]},sw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ow={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dw={ordinalNumber:_l({matchPattern:Z_,parsePattern:ew,valueCallback:i=>parseInt(i,10)}),era:Ke({matchPatterns:tw,defaultMatchWidth:"wide",parsePatterns:nw,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:rw,defaultMatchWidth:"wide",parsePatterns:iw,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Ke({matchPatterns:sw,defaultMatchWidth:"wide",parsePatterns:ow,defaultParseWidth:"any"}),day:Ke({matchPatterns:lw,defaultMatchWidth:"wide",parsePatterns:aw,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:uw,defaultMatchWidth:"any",parsePatterns:cw,defaultParseWidth:"any"})},_c={code:"en-US",formatDistance:j_,formatLong:W_,formatRelative:$_,localize:K_,match:dw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fw(i,e){const n=Xe(i,e==null?void 0:e.in);return vm(n,D_(n))+1}function hw(i,e){const n=Xe(i,e==null?void 0:e.in),s=+Ko(n)-+I_(n);return Math.round(s/pm)+1}function _m(i,e){var w,_,C,I;const n=Xe(i,e==null?void 0:e.in),s=n.getFullYear(),l=vl(),u=(e==null?void 0:e.firstWeekContainsDate)??((_=(w=e==null?void 0:e.locale)==null?void 0:w.options)==null?void 0:_.firstWeekContainsDate)??l.firstWeekContainsDate??((I=(C=l.locale)==null?void 0:C.options)==null?void 0:I.firstWeekContainsDate)??1,d=Ut((e==null?void 0:e.in)||i,0);d.setFullYear(s+1,0,u),d.setHours(0,0,0,0);const h=qn(d,e),m=Ut((e==null?void 0:e.in)||i,0);m.setFullYear(s,0,u),m.setHours(0,0,0,0);const g=qn(m,e);return+n>=+h?s+1:+n>=+g?s:s-1}function pw(i,e){var h,m,g,w;const n=vl(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((w=(g=n.locale)==null?void 0:g.options)==null?void 0:w.firstWeekContainsDate)??1,l=_m(i,e),u=Ut((e==null?void 0:e.in)||i,0);return u.setFullYear(l,0,s),u.setHours(0,0,0,0),qn(u,e)}function mw(i,e){const n=Xe(i,e==null?void 0:e.in),s=+qn(n,e)-+pw(n,e);return Math.round(s/pm)+1}function Ie(i,e){const n=i<0?"-":"",s=Math.abs(i).toString().padStart(e,"0");return n+s}const $n={y(i,e){const n=i.getFullYear(),s=n>0?n:1-n;return Ie(e==="yy"?s%100:s,e.length)},M(i,e){const n=i.getMonth();return e==="M"?String(n+1):Ie(n+1,2)},d(i,e){return Ie(i.getDate(),e.length)},a(i,e){const n=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(i,e){return Ie(i.getHours()%12||12,e.length)},H(i,e){return Ie(i.getHours(),e.length)},m(i,e){return Ie(i.getMinutes(),e.length)},s(i,e){return Ie(i.getSeconds(),e.length)},S(i,e){const n=e.length,s=i.getMilliseconds(),l=Math.trunc(s*Math.pow(10,n-3));return Ie(l,e.length)}},Hr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dp={G:function(i,e,n){const s=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(i,e,n){if(e==="yo"){const s=i.getFullYear(),l=s>0?s:1-s;return n.ordinalNumber(l,{unit:"year"})}return $n.y(i,e)},Y:function(i,e,n,s){const l=_m(i,s),u=l>0?l:1-l;if(e==="YY"){const d=u%100;return Ie(d,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):Ie(u,e.length)},R:function(i,e){const n=ym(i);return Ie(n,e.length)},u:function(i,e){const n=i.getFullYear();return Ie(n,e.length)},Q:function(i,e,n){const s=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Ie(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(i,e,n){const s=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Ie(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(i,e,n){const s=i.getMonth();switch(e){case"M":case"MM":return $n.M(i,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(i,e,n){const s=i.getMonth();switch(e){case"L":return String(s+1);case"LL":return Ie(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(i,e,n,s){const l=mw(i,s);return e==="wo"?n.ordinalNumber(l,{unit:"week"}):Ie(l,e.length)},I:function(i,e,n){const s=hw(i);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Ie(s,e.length)},d:function(i,e,n){return e==="do"?n.ordinalNumber(i.getDate(),{unit:"date"}):$n.d(i,e)},D:function(i,e,n){const s=fw(i);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ie(s,e.length)},E:function(i,e,n){const s=i.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(i,e,n,s){const l=i.getDay(),u=(l-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Ie(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(i,e,n,s){const l=i.getDay(),u=(l-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Ie(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(i,e,n){const s=i.getDay(),l=s===0?7:s;switch(e){case"i":return String(l);case"ii":return Ie(l,e.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(i,e,n){const l=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(i,e,n){const s=i.getHours();let l;switch(s===12?l=Hr.noon:s===0?l=Hr.midnight:l=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(i,e,n){const s=i.getHours();let l;switch(s>=17?l=Hr.evening:s>=12?l=Hr.afternoon:s>=4?l=Hr.morning:l=Hr.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(i,e,n){if(e==="ho"){let s=i.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return $n.h(i,e)},H:function(i,e,n){return e==="Ho"?n.ordinalNumber(i.getHours(),{unit:"hour"}):$n.H(i,e)},K:function(i,e,n){const s=i.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ie(s,e.length)},k:function(i,e,n){let s=i.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ie(s,e.length)},m:function(i,e,n){return e==="mo"?n.ordinalNumber(i.getMinutes(),{unit:"minute"}):$n.m(i,e)},s:function(i,e,n){return e==="so"?n.ordinalNumber(i.getSeconds(),{unit:"second"}):$n.s(i,e)},S:function(i,e){return $n.S(i,e)},X:function(i,e,n){const s=i.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return hp(s);case"XXXX":case"XX":return fr(s);case"XXXXX":case"XXX":default:return fr(s,":")}},x:function(i,e,n){const s=i.getTimezoneOffset();switch(e){case"x":return hp(s);case"xxxx":case"xx":return fr(s);case"xxxxx":case"xxx":default:return fr(s,":")}},O:function(i,e,n){const s=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+fp(s,":");case"OOOO":default:return"GMT"+fr(s,":")}},z:function(i,e,n){const s=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+fp(s,":");case"zzzz":default:return"GMT"+fr(s,":")}},t:function(i,e,n){const s=Math.trunc(+i/1e3);return Ie(s,e.length)},T:function(i,e,n){return Ie(+i,e.length)}};function fp(i,e=""){const n=i>0?"-":"+",s=Math.abs(i),l=Math.trunc(s/60),u=s%60;return u===0?n+String(l):n+String(l)+e+Ie(u,2)}function hp(i,e){return i%60===0?(i>0?"-":"+")+Ie(Math.abs(i)/60,2):fr(i,e)}function fr(i,e=""){const n=i>0?"-":"+",s=Math.abs(i),l=Ie(Math.trunc(s/60),2),u=Ie(s%60,2);return n+l+e+u}const pp=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},wm=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},gw=(i,e)=>{const n=i.match(/(P+)(p+)?/)||[],s=n[1],l=n[2];if(!l)return pp(i,e);let u;switch(s){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",pp(s,e)).replace("{{time}}",wm(l,e))},yw={p:wm,P:gw},vw=/^D+$/,_w=/^Y+$/,ww=["D","DD","YY","YYYY"];function Cw(i){return vw.test(i)}function Sw(i){return _w.test(i)}function xw(i,e,n){const s=Ew(i,e,n);if(console.warn(s),ww.includes(i))throw new RangeError(s)}function Ew(i,e,n){const s=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Nw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tw=/^'([^]*?)'?$/,Iw=/''/g,bw=/[a-zA-Z]/;function Jo(i,e,n){var w,_,C,I,P,b,A,J;const s=vl(),l=(n==null?void 0:n.locale)??s.locale??_c,u=(n==null?void 0:n.firstWeekContainsDate)??((_=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:_.firstWeekContainsDate)??s.firstWeekContainsDate??((I=(C=s.locale)==null?void 0:C.options)==null?void 0:I.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((b=(P=n==null?void 0:n.locale)==null?void 0:P.options)==null?void 0:b.weekStartsOn)??s.weekStartsOn??((J=(A=s.locale)==null?void 0:A.options)==null?void 0:J.weekStartsOn)??0,h=Xe(i,n==null?void 0:n.in);if(!P_(h))throw new RangeError("Invalid time value");let m=e.match(Nw).map(X=>{const W=X[0];if(W==="p"||W==="P"){const H=yw[W];return H(X,l.formatLong)}return X}).join("").match(kw).map(X=>{if(X==="''")return{isToken:!1,value:"'"};const W=X[0];if(W==="'")return{isToken:!1,value:Pw(X)};if(dp[W])return{isToken:!0,value:X};if(W.match(bw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return{isToken:!1,value:X}});l.localize.preprocessor&&(m=l.localize.preprocessor(h,m));const g={firstWeekContainsDate:u,weekStartsOn:d,locale:l};return m.map(X=>{if(!X.isToken)return X.value;const W=X.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Sw(W)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Cw(W))&&xw(W,e,String(i));const H=dp[W[0]];return H(h,W,l.localize,g)}).join("")}function Pw(i){const e=i.match(Tw);return e?e[1].replace(Iw,"'"):i}function ds(i,e,n){const[s,l]=Es(n==null?void 0:n.in,i,e);return+qn(s,n)==+qn(l,n)}function wc(i,e,n){const[s,l]=Es(n==null?void 0:n.in,i,e);return s.getFullYear()===l.getFullYear()&&s.getMonth()===l.getMonth()}function Mw(i,e,n){const[s,l]=Es(n==null?void 0:n.in,i,e);return s.getFullYear()===l.getFullYear()}function Rw(i,e){const n=()=>Ut(e==null?void 0:e.in,NaN),l=jw(i);let u;if(l.date){const g=Fw(l.date,2);u=Lw(g.restDateString,g.year)}if(!u||isNaN(+u))return n();const d=+u;let h=0,m;if(l.time&&(h=zw(l.time),isNaN(h)))return n();if(l.timezone){if(m=Ww(l.timezone),isNaN(m))return n()}else{const g=new Date(d+h),w=Xe(0,e==null?void 0:e.in);return w.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),w.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),w}return Xe(d+h+m,e==null?void 0:e.in)}const Ho={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Dw=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Aw=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ow=/^([+-])(\d{2})(?::?(\d{2}))?$/;function jw(i){const e={},n=i.split(Ho.dateTimeDelimiter);let s;if(n.length>2)return e;if(/:/.test(n[0])?s=n[0]:(e.date=n[0],s=n[1],Ho.timeZoneDelimiter.test(e.date)&&(e.date=i.split(Ho.timeZoneDelimiter)[0],s=i.substr(e.date.length,i.length))),s){const l=Ho.timezone.exec(s);l?(e.time=s.replace(l[1],""),e.timezone=l[1]):e.time=s}return e}function Fw(i,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=i.match(n);if(!s)return{year:NaN,restDateString:""};const l=s[1]?parseInt(s[1]):null,u=s[2]?parseInt(s[2]):null;return{year:u===null?l:u*100,restDateString:i.slice((s[1]||s[2]).length)}}function Lw(i,e){if(e===null)return new Date(NaN);const n=i.match(Dw);if(!n)return new Date(NaN);const s=!!n[4],l=qi(n[1]),u=qi(n[2])-1,d=qi(n[3]),h=qi(n[4]),m=qi(n[5])-1;if(s)return Vw(e,h,m)?Bw(e,h,m):new Date(NaN);{const g=new Date(0);return!Uw(e,u,d)||!Gw(e,l)?new Date(NaN):(g.setUTCFullYear(e,u,Math.max(l,d)),g)}}function qi(i){return i?parseInt(i):1}function zw(i){const e=i.match(Aw);if(!e)return NaN;const n=Mu(e[1]),s=Mu(e[2]),l=Mu(e[3]);return Hw(n,s,l)?n*gm+s*mm+l*1e3:NaN}function Mu(i){return i&&parseFloat(i.replace(",","."))||0}function Ww(i){if(i==="Z")return 0;const e=i.match(Ow);if(!e)return 0;const n=e[1]==="+"?-1:1,s=parseInt(e[2]),l=e[3]&&parseInt(e[3])||0;return Yw(s,l)?n*(s*gm+l*mm):NaN}function Bw(i,e,n){const s=new Date(0);s.setUTCFullYear(i,0,4);const l=s.getUTCDay()||7,u=(e-1)*7+n+1-l;return s.setUTCDate(s.getUTCDate()+u),s}const $w=[31,null,31,30,31,30,31,31,30,31,30,31];function Cm(i){return i%400===0||i%4===0&&i%100!==0}function Uw(i,e,n){return e>=0&&e<=11&&n>=1&&n<=($w[e]||(Cm(i)?29:28))}function Gw(i,e){return e>=1&&e<=(Cm(i)?366:365)}function Vw(i,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Hw(i,e,n){return i===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&i>=0&&i<25}function Yw(i,e){return e>=0&&e<=59}function Sm(i,e,n){return vc(i,-e,n)}const Qw={lessThanXSeconds:{one:{regular:"mniej ni sekunda",past:"mniej ni sekund",future:"mniej ni sekund"},twoFour:"mniej ni {{count}} sekundy",other:"mniej ni {{count}} sekund"},xSeconds:{one:{regular:"sekunda",past:"sekund",future:"sekund"},twoFour:"{{count}} sekundy",other:"{{count}} sekund"},halfAMinute:{one:"p minuty",twoFour:"p minuty",other:"p minuty"},lessThanXMinutes:{one:{regular:"mniej ni minuta",past:"mniej ni minut",future:"mniej ni minut"},twoFour:"mniej ni {{count}} minuty",other:"mniej ni {{count}} minut"},xMinutes:{one:{regular:"minuta",past:"minut",future:"minut"},twoFour:"{{count}} minuty",other:"{{count}} minut"},aboutXHours:{one:{regular:"okoo godziny",past:"okoo godziny",future:"okoo godzin"},twoFour:"okoo {{count}} godziny",other:"okoo {{count}} godzin"},xHours:{one:{regular:"godzina",past:"godzin",future:"godzin"},twoFour:"{{count}} godziny",other:"{{count}} godzin"},xDays:{one:{regular:"dzie",past:"dzie",future:"1 dzie"},twoFour:"{{count}} dni",other:"{{count}} dni"},aboutXWeeks:{one:"okoo tygodnia",twoFour:"okoo {{count}} tygodni",other:"okoo {{count}} tygodni"},xWeeks:{one:"tydzie",twoFour:"{{count}} tygodnie",other:"{{count}} tygodni"},aboutXMonths:{one:"okoo miesic",twoFour:"okoo {{count}} miesice",other:"okoo {{count}} miesicy"},xMonths:{one:"miesic",twoFour:"{{count}} miesice",other:"{{count}} miesicy"},aboutXYears:{one:"okoo rok",twoFour:"okoo {{count}} lata",other:"okoo {{count}} lat"},xYears:{one:"rok",twoFour:"{{count}} lata",other:"{{count}} lat"},overXYears:{one:"ponad rok",twoFour:"ponad {{count}} lata",other:"ponad {{count}} lat"},almostXYears:{one:"prawie rok",twoFour:"prawie {{count}} lata",other:"prawie {{count}} lat"}};function qw(i,e){if(e===1)return i.one;const n=e%100;if(n<=20&&n>10)return i.other;const s=n%10;return s>=2&&s<=4?i.twoFour:i.other}function Ru(i,e,n){const s=qw(i,e);return(typeof s=="string"?s:s[n]).replace("{{count}}",String(e))}const Kw=(i,e,n)=>{const s=Qw[i];return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"za "+Ru(s,e,"future"):Ru(s,e,"past")+" temu":Ru(s,e,"regular")},Xw={full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},Jw={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Zw={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},e0={date:$t({formats:Xw,defaultWidth:"full"}),time:$t({formats:Jw,defaultWidth:"full"}),dateTime:$t({formats:Zw,defaultWidth:"full"})},t0={masculine:"ostatni",feminine:"ostatnia"},n0={masculine:"ten",feminine:"ta"},r0={masculine:"nastpny",feminine:"nastpna"},i0={0:"feminine",1:"masculine",2:"masculine",3:"feminine",4:"masculine",5:"masculine",6:"feminine"};function mp(i,e,n,s){let l;if(ds(e,n,s))l=n0;else if(i==="lastWeek")l=t0;else if(i==="nextWeek")l=r0;else throw new Error(`Cannot determine adjectives for token ${i}`);const u=e.getDay(),d=i0[u];return`'${l[d]}' eeee 'o' p`}const s0={lastWeek:mp,yesterday:"'wczoraj o' p",today:"'dzisiaj o' p",tomorrow:"'jutro o' p",nextWeek:mp,other:"P"},o0=(i,e,n,s)=>{const l=s0[i];return typeof l=="function"?l(i,e,n,s):l},l0={narrow:["p.n.e.","n.e."],abbreviated:["p.n.e.","n.e."],wide:["przed nasz er","naszej ery"]},a0={narrow:["1","2","3","4"],abbreviated:["I kw.","II kw.","III kw.","IV kw."],wide:["I kwarta","II kwarta","III kwarta","IV kwarta"]},u0={narrow:["S","L","M","K","M","C","L","S","W","P","L","G"],abbreviated:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru"],wide:["stycze","luty","marzec","kwiecie","maj","czerwiec","lipiec","sierpie","wrzesie","padziernik","listopad","grudzie"]},c0={narrow:["s","l","m","k","m","c","l","s","w","p","l","g"],abbreviated:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru"],wide:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrzenia","padziernika","listopada","grudnia"]},d0={narrow:["N","P","W","","C","P","S"],short:["nie","pon","wto","ro","czw","pi","sob"],abbreviated:["niedz.","pon.","wt.","r.","czw.","pt.","sob."],wide:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"]},f0={narrow:["n","p","w","","c","p","s"],short:["nie","pon","wto","ro","czw","pi","sob"],abbreviated:["niedz.","pon.","wt.","r.","czw.","pt.","sob."],wide:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"]},h0={narrow:{am:"a",pm:"p",midnight:"pn.",noon:"po",morning:"rano",afternoon:"popo.",evening:"wiecz.",night:"noc"},abbreviated:{am:"AM",pm:"PM",midnight:"pnoc",noon:"poudnie",morning:"rano",afternoon:"popoudnie",evening:"wieczr",night:"noc"},wide:{am:"AM",pm:"PM",midnight:"pnoc",noon:"poudnie",morning:"rano",afternoon:"popoudnie",evening:"wieczr",night:"noc"}},p0={narrow:{am:"a",pm:"p",midnight:"o pn.",noon:"w po.",morning:"rano",afternoon:"po po.",evening:"wiecz.",night:"w nocy"},abbreviated:{am:"AM",pm:"PM",midnight:"o pnocy",noon:"w poudnie",morning:"rano",afternoon:"po poudniu",evening:"wieczorem",night:"w nocy"},wide:{am:"AM",pm:"PM",midnight:"o pnocy",noon:"w poudnie",morning:"rano",afternoon:"po poudniu",evening:"wieczorem",night:"w nocy"}},m0=(i,e)=>String(i),g0={ordinalNumber:m0,era:qe({values:l0,defaultWidth:"wide"}),quarter:qe({values:a0,defaultWidth:"wide",argumentCallback:i=>i-1}),month:qe({values:u0,defaultWidth:"wide",formattingValues:c0,defaultFormattingWidth:"wide"}),day:qe({values:d0,defaultWidth:"wide",formattingValues:f0,defaultFormattingWidth:"wide"}),dayPeriod:qe({values:h0,defaultWidth:"wide",formattingValues:p0,defaultFormattingWidth:"wide"})},y0=/^(\d+)?/i,v0=/\d+/i,_0={narrow:/^(p\.?\s*n\.?\s*e\.?\s*|n\.?\s*e\.?\s*)/i,abbreviated:/^(p\.?\s*n\.?\s*e\.?\s*|n\.?\s*e\.?\s*)/i,wide:/^(przed\s*nasz(|a)\s*er(|a)|naszej\s*ery)/i},w0={any:[/^p/i,/^n/i]},C0={narrow:/^[1234]/i,abbreviated:/^(I|II|III|IV)\s*kw\.?/i,wide:/^(I|II|III|IV)\s*kwarta(|l)/i},S0={narrow:[/1/i,/2/i,/3/i,/4/i],any:[/^I kw/i,/^II kw/i,/^III kw/i,/^IV kw/i]},x0={narrow:/^[slmkcwpg]/i,abbreviated:/^(sty|lut|mar|kwi|maj|cze|lip|sie|wrz|pa(|z)|lis|gru)/i,wide:/^(stycznia|stycze(|n)|lutego|luty|marca|marzec|kwietnia|kwiecie(|n)|maja|maj|czerwca|czerwiec|lipca|lipiec|sierpnia|sierpie(|n)|wrze(|s)nia|wrzesie(|n)|pa(|z)dziernika|pa(|z)dziernik|listopada|listopad|grudnia|grudzie(|n))/i},E0={narrow:[/^s/i,/^l/i,/^m/i,/^k/i,/^m/i,/^c/i,/^l/i,/^s/i,/^w/i,/^p/i,/^l/i,/^g/i],any:[/^st/i,/^lu/i,/^mar/i,/^k/i,/^maj/i,/^c/i,/^lip/i,/^si/i,/^w/i,/^p/i,/^lis/i,/^g/i]},k0={narrow:/^[npwcs]/i,short:/^(nie|pon|wto|(|s)ro|czw|pi(|a)|sob)/i,abbreviated:/^(niedz|pon|wt|(|s)r|czw|pt|sob)\.?/i,wide:/^(niedziela|poniedzia(|l)ek|wtorek|(|s)roda|czwartek|pi(|a)tek|sobota)/i},N0={narrow:[/^n/i,/^p/i,/^w/i,/^/i,/^c/i,/^p/i,/^s/i],abbreviated:[/^n/i,/^po/i,/^w/i,/^(|s)r/i,/^c/i,/^pt/i,/^so/i],any:[/^n/i,/^po/i,/^w/i,/^(|s)r/i,/^c/i,/^pi/i,/^so/i]},T0={narrow:/^(^a$|^p$|p(|l)n\.?|o\s*p(|l)n\.?|po(|l)\.?|w\s*po(|l)\.?|po\s*po(|l)\.?|rano|wiecz\.?|noc|w\s*nocy)/i,any:/^(am|pm|p(|l)noc|o\s*p(|l)nocy|po(|l)udnie|w\s*po(|l)udnie|popo(|l)udnie|po\s*po(|l)udniu|rano|wieczr|wieczorem|noc|w\s*nocy)/i},I0={narrow:{am:/^a$/i,pm:/^p$/i,midnight:/p(|l)n/i,noon:/po(|l)/i,morning:/rano/i,afternoon:/po\s*po(|l)/i,evening:/wiecz/i,night:/noc/i},any:{am:/^am/i,pm:/^pm/i,midnight:/p(|l)n/i,noon:/po(|l)/i,morning:/rano/i,afternoon:/po\s*po(|l)/i,evening:/wiecz/i,night:/noc/i}},b0={ordinalNumber:_l({matchPattern:y0,parsePattern:v0,valueCallback:i=>parseInt(i,10)}),era:Ke({matchPatterns:_0,defaultMatchWidth:"wide",parsePatterns:w0,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:C0,defaultMatchWidth:"wide",parsePatterns:S0,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Ke({matchPatterns:x0,defaultMatchWidth:"wide",parsePatterns:E0,defaultParseWidth:"any"}),day:Ke({matchPatterns:k0,defaultMatchWidth:"wide",parsePatterns:N0,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:T0,defaultMatchWidth:"any",parsePatterns:I0,defaultParseWidth:"any"})},xm={code:"pl",formatDistance:Kw,formatLong:e0,formatRelative:o0,localize:g0,match:b0,options:{weekStartsOn:1,firstWeekContainsDate:4}};function Ki(i,e){if(i.one!==void 0&&e===1)return i.one;const n=e%10,s=e%100;return n===1&&s!==11?i.singularNominative.replace("{{count}}",String(e)):n>=2&&n<=4&&(s<10||s>20)?i.singularGenitive.replace("{{count}}",String(e)):i.pluralGenitive.replace("{{count}}",String(e))}function _t(i){return(e,n)=>n!=null&&n.addSuffix?n.comparison&&n.comparison>0?i.future?Ki(i.future,e):" "+Ki(i.regular,e):i.past?Ki(i.past,e):Ki(i.regular,e)+" ":Ki(i.regular,e)}const P0={lessThanXSeconds:_t({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:_t({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:(i,e)=>e!=null&&e.addSuffix?e.comparison&&e.comparison>0?" ":" ":"",lessThanXMinutes:_t({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:_t({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:_t({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:_t({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:_t({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXWeeks:_t({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:_t({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:_t({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:_t({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:_t({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:_t({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:_t({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:_t({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},M0=(i,e,n)=>P0[i](e,n),R0={full:"EEEE, d MMMM y '.'",long:"d MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},D0={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},A0={any:"{{date}}, {{time}}"},O0={date:$t({formats:R0,defaultWidth:"full"}),time:$t({formats:D0,defaultWidth:"full"}),dateTime:$t({formats:A0,defaultWidth:"any"})},Cc=["","","","","","",""];function j0(i){const e=Cc[i];switch(i){case 0:return"'  "+e+" ' p";case 1:case 2:case 4:return"'  "+e+" ' p";case 3:case 5:case 6:return"'  "+e+" ' p"}}function gp(i){const e=Cc[i];return i===2?"' "+e+" ' p":"' "+e+" ' p"}function F0(i){const e=Cc[i];switch(i){case 0:return"'  "+e+" ' p";case 1:case 2:case 4:return"'  "+e+" ' p";case 3:case 5:case 6:return"'  "+e+" ' p"}}const L0={lastWeek:(i,e,n)=>{const s=i.getDay();return ds(i,e,n)?gp(s):j0(s)},yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:(i,e,n)=>{const s=i.getDay();return ds(i,e,n)?gp(s):F0(s)},other:"P"},z0=(i,e,n,s)=>{const l=L0[i];return typeof l=="function"?l(e,n,s):l},W0={narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},B0={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},$0={narrow:["","","","","","","","","","","",""],abbreviated:[".",".","",".","","","",".",".",".",".","."],wide:["","","","","","","","","","","",""]},U0={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".","",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},G0={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},V0={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},H0={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},Y0=(i,e)=>{const n=Number(i),s=e==null?void 0:e.unit;let l;return s==="date"?l="-":s==="week"||s==="minute"||s==="second"?l="-":l="-",n+l},Q0={ordinalNumber:Y0,era:qe({values:W0,defaultWidth:"wide"}),quarter:qe({values:B0,defaultWidth:"wide",argumentCallback:i=>i-1}),month:qe({values:$0,defaultWidth:"wide",formattingValues:U0,defaultFormattingWidth:"wide"}),day:qe({values:G0,defaultWidth:"wide"}),dayPeriod:qe({values:V0,defaultWidth:"any",formattingValues:H0,defaultFormattingWidth:"wide"})},q0=/^(\d+)(-?(||||||||||))?/i,K0=/\d+/i,X0={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},J0={any:[/^/i,/^/i]},Z0={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},e1={any:[/1/i,/2/i,/3/i,/4/i]},t1={narrow:/^[]/i,abbreviated:/^(||?||[]|[]?|[]?||?||?|)\.?/i,wide:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i},n1={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},r1={narrow:/^[]/i,short:/^(|||||||||||)\.?/i,abbreviated:/^(||||||||||||).?/i,wide:/^([]|?|?|[]|?|[]|[])/i},i1={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^[]/i,/^[]/i,/^/i,/^/i,/^/i,/^[]/i,/^[]/i]},s1={narrow:/^([]|\.?|\.?|[]|||\.?|[])/i,abbreviated:/^([]|\.?|\.?|[]|||\.?|[])/i,wide:/^([]|||[]|||?|[])/i},o1={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},l1={ordinalNumber:_l({matchPattern:q0,parsePattern:K0,valueCallback:i=>parseInt(i,10)}),era:Ke({matchPatterns:X0,defaultMatchWidth:"wide",parsePatterns:J0,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:Z0,defaultMatchWidth:"wide",parsePatterns:e1,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Ke({matchPatterns:t1,defaultMatchWidth:"wide",parsePatterns:n1,defaultParseWidth:"any"}),day:Ke({matchPatterns:r1,defaultMatchWidth:"wide",parsePatterns:i1,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:s1,defaultMatchWidth:"wide",parsePatterns:o1,defaultParseWidth:"any"})},Zo={code:"ru",formatDistance:M0,formatLong:O0,formatRelative:z0,localize:Q0,match:l1,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Xi(i,e){if(i.one!==void 0&&e===1)return i.one;const n=e%10,s=e%100;return n===1&&s!==11?i.singularNominative.replace("{{count}}",String(e)):n>=2&&n<=4&&(s<10||s>20)?i.singularGenitive.replace("{{count}}",String(e)):i.pluralGenitive.replace("{{count}}",String(e))}function wt(i){return(e,n)=>n&&n.addSuffix?n.comparison&&n.comparison>0?i.future?Xi(i.future,e):" "+Xi(i.regular,e):i.past?Xi(i.past,e):Xi(i.regular,e)+" ":Xi(i.regular,e)}const a1=(i,e)=>e&&e.addSuffix?e.comparison&&e.comparison>0?" ":" ":"",u1={lessThanXSeconds:wt({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:wt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:a1,lessThanXMinutes:wt({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:wt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:wt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:wt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:wt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} i",pluralGenitive:"{{count}} "}}),aboutXWeeks:wt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:wt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:wt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:wt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:wt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:wt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:wt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:wt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},c1=(i,e,n)=>(n=n||{},u1[i](e,n)),d1={full:"EEEE, do MMMM y '.'",long:"do MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},f1={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},h1={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},p1={date:$t({formats:d1,defaultWidth:"full"}),time:$t({formats:f1,defaultWidth:"full"}),dateTime:$t({formats:h1,defaultWidth:"full"})},Sc=["","","","","","",""];function m1(i){const e=Sc[i];switch(i){case 0:case 3:case 5:case 6:return"'  "+e+" ' p";case 1:case 2:case 4:return"'  "+e+" ' p"}}function Em(i){return"' "+Sc[i]+" ' p"}function g1(i){const e=Sc[i];switch(i){case 0:case 3:case 5:case 6:return"'  "+e+" ' p";case 1:case 2:case 4:return"'  "+e+" ' p"}}const y1=(i,e,n)=>{const s=Xe(i),l=s.getDay();return ds(s,e,n)?Em(l):m1(l)},v1=(i,e,n)=>{const s=Xe(i),l=s.getDay();return ds(s,e,n)?Em(l):g1(l)},_1={lastWeek:y1,yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:v1,other:"P"},w1=(i,e,n,s)=>{const l=_1[i];return typeof l=="function"?l(e,n,s):l},C1={narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},S1={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},x1={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".",".",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},E1={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".",".",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},k1={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},N1={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},T1={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:".",night:""}},I1=(i,e)=>{const n=String(e==null?void 0:e.unit),s=Number(i);let l;return n==="date"?s===3||s===23?l="-":l="-":n==="minute"||n==="second"||n==="hour"?l="-":l="-",s+l},b1={ordinalNumber:I1,era:qe({values:C1,defaultWidth:"wide"}),quarter:qe({values:S1,defaultWidth:"wide",argumentCallback:i=>i-1}),month:qe({values:x1,defaultWidth:"wide",formattingValues:E1,defaultFormattingWidth:"wide"}),day:qe({values:k1,defaultWidth:"wide"}),dayPeriod:qe({values:N1,defaultWidth:"any",formattingValues:T1,defaultFormattingWidth:"wide"})},P1=/^(\d+)(-?(||||))?/i,M1=/\d+/i,R1={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},D1={any:[/^/i,/^/i]},A1={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},O1={any:[/1/i,/2/i,/3/i,/4/i]},j1={narrow:/^[]/i,abbreviated:/^(||()?||||||()?||()?|)\.?/i,wide:/^(||||||||||||||||||||[]?||)/i},F1={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},L1={narrow:/^[]/i,short:/^(||||||)\.?/i,abbreviated:/^(||||?|?|)\.?/i,wide:/^([]|[][]|[][]|[]|()?|\W*?[]|[])/i},z1={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^[]/i,/^/i,/^[]/i,/^/i,/^\W*?[]/i,/^[]/i]},W1={narrow:/^([]|\.?|\.?|||||\.?||)/i,abbreviated:/^([]|\.?|\.?|||||\.?||)/i,wide:/^([]||||||||||)/i},B1={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},$1={ordinalNumber:_l({matchPattern:P1,parsePattern:M1,valueCallback:i=>parseInt(i,10)}),era:Ke({matchPatterns:R1,defaultMatchWidth:"wide",parsePatterns:D1,defaultParseWidth:"any"}),quarter:Ke({matchPatterns:A1,defaultMatchWidth:"wide",parsePatterns:O1,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Ke({matchPatterns:j1,defaultMatchWidth:"wide",parsePatterns:F1,defaultParseWidth:"any"}),day:Ke({matchPatterns:L1,defaultMatchWidth:"wide",parsePatterns:z1,defaultParseWidth:"any"}),dayPeriod:Ke({matchPatterns:W1,defaultMatchWidth:"wide",parsePatterns:B1,defaultParseWidth:"any"})},km={code:"uk",formatDistance:c1,formatLong:p1,formatRelative:w1,localize:b1,match:$1,options:{weekStartsOn:1,firstWeekContainsDate:1}},yp=["#EA4335","#FFB705","#E65100","#34A853","#4285F4","#000"],U1=["","","",""],G1=["","","","","","","","","","","","","",""],Ku=[{id:"1",title:"",exchangeRate:1},{id:"2",title:"pln",exchangeRate:1},{id:"3",title:"",exchangeRate:1},{id:"4",title:"$",exchangeRate:1}],ct=[];for(let i=0;i<256;++i)ct.push((i+256).toString(16).slice(1));function V1(i,e=0){return(ct[i[e+0]]+ct[i[e+1]]+ct[i[e+2]]+ct[i[e+3]]+"-"+ct[i[e+4]]+ct[i[e+5]]+"-"+ct[i[e+6]]+ct[i[e+7]]+"-"+ct[i[e+8]]+ct[i[e+9]]+"-"+ct[i[e+10]]+ct[i[e+11]]+ct[i[e+12]]+ct[i[e+13]]+ct[i[e+14]]+ct[i[e+15]]).toLowerCase()}let Du;const H1=new Uint8Array(16);function Y1(){if(!Du){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Du=crypto.getRandomValues.bind(crypto)}return Du(H1)}const Q1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),vp={randomUUID:Q1};function Nm(i,e,n){if(vp.randomUUID&&!e&&!i)return vp.randomUUID();i=i||{};const s=i.random||(i.rng||Y1)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,V1(s)}const Ge={noConnection:{ua:" ",ru:" ",eng:"Settings",pl:"Brak sieci"},changeLanguage:{ua:" ",ru:" ",eng:"Change language",pl:"Zmie jzyk"},settings:{ua:"",ru:"",eng:"Settings",pl:"Ustawienia"},mainCurrency:{ua:" ",ru:" ",eng:"Main currency",pl:"Gwna waluta"},selectFirstPrimaryCurrency:{ua:"  ",ru:"  ",eng:"Select the primary currency",pl:"Wybierz walut gwn"},selectPrimaryCurrency:{ua:"     ",ru:"     ",eng:"First, select the primary currency in settings",pl:"Najpierw wybierz walut gwn w ustawieniach"},currentRate:{ua:" ",ru:" ",eng:"Current rate",pl:"Aktualny kurs"},appData:{ua:" ",ru:" ",eng:"App data",pl:"Dane aplikacji"},deleteAll:{ua:" ",ru:" ",eng:"Delete all",pl:"Usu wszystko"},sync:{ua:"",ru:"",eng:"Synchronization",pl:"Synchronizacja"},restoreData:{ua:"?    !",ru:"?    !",eng:"Restore? Current data will be deleted!",pl:"Przywrci? Aktualne dane zostan usunite!"},loaded:{ua:"",ru:"",eng:"Loaded",pl:"Zaadowano"},dataDeleted:{ua:"   ",ru:"   ",eng:"Data on the server has been deleted",pl:"Dane na serwerze zostay usunite"},darkTheme:{ua:" ",ru:" ",eng:"Dark theme",pl:"Ciemny motyw"},save:{ua:"",ru:"",eng:"Save",pl:"Zapisz"},confirmDeleteAll:{ua:"    ?",ru:"    ?",eng:"Do you really want to delete everything?",pl:"Czy na pewno chcesz usun wszystko?"},confirm:{ua:"",ru:"",eng:"Confirm",pl:"Potwierd"},cancel:{ua:"",ru:"",eng:"Cancel",pl:"Anuluj"},enterPassword:{ua:" ",ru:" ",eng:"Enter password",pl:"Wprowad haso"},restore:{ua:"",ru:"",eng:"Restore",pl:"Przywr"},backup:{ua:"  ",ru:"  ",eng:"Backup",pl:"Utwrz kopi zapasow"},success:{ua:"",ru:"",eng:"Success",pl:"Sukces"},error:{ua:"",ru:"",eng:"Error",pl:"Bd"},loading:{ua:"",ru:"",eng:"Loading",pl:"adowanie"},changeMainCurrency:{ua:"  ",ru:"  ",eng:"Changing main currency",pl:"Zmiana gwnej waluty"},confirmChangeMainCurrency:{ua:"     ?       !",ru:"     ?       !",eng:"Do you really want to change the main currency? The rates of the remaining currencies will need to be reset!",pl:"Czy na pewno chcesz zmieni gwn walut? Kursy pozostaych walut trzeba bdzie skonfigurowa od nowa!"},balance:{ua:"",ru:"",eng:"Balance",pl:"Saldo"},budget:{ua:"",ru:"",eng:"Budget",pl:"Budet"},selectCurrencyAndAddAccounts:{ua:"     ",ru:"     ",eng:"First, select the currency and add accounts",pl:"Najpierw wybierz walut i dodaj konta"},monthlyExpenses:{ua:"   ",ru:"   ",eng:"Monthly expenses",pl:"Miesiczne wydatki"},account:{ua:"",ru:"",eng:"Account",pl:"Konto"},selectDate:{ua:" ",ru:" ",eng:"Select date",pl:"Wybr daty"},accounts:{ua:"",ru:"",eng:"Accounts",pl:"Konta"},addAccount:{ua:" ",ru:" ",eng:"Add account",pl:"Dodaj konto"},enterPlannedAmount:{ua:"  ",ru:"  ",eng:"Enter the planned amount",pl:"Wprowad planowan kwot"},addFirstAccount:{ua:"  ",ru:"  ",eng:"Add the first account",pl:"Dodaj pierwsze konto"},accountName:{ua:" ",ru:" ",eng:"Account name",pl:"Nazwa konta"},name:{ua:"",ru:"",eng:"Name",pl:"Nazwa"},amount:{ua:"",ru:"",eng:"Amount",pl:"Kwota"},initialBalance:{ua:" ",ru:" ",eng:"Initial balance",pl:"Saldo pocztkowe"},accountCurrency:{ua:" ",ru:" ",eng:"Account currency",pl:"Waluta konta"},color:{ua:"",ru:"",eng:"Color",pl:"Kolor"},edit:{ua:"",ru:"",eng:"Edit",pl:"Edytuj"},delete:{ua:"",ru:"",eng:"Delete",pl:"Usu"},accountDeletion:{ua:" ",ru:" ",eng:"Account deletion",pl:"Usunicie konta"},confirmAccountDeletion:{ua:"    ?",ru:"    ?",eng:"Do you really want to delete the account?",pl:"Czy na pewno chcesz usun konto?"},incomes:{ua:"",ru:"",eng:"Incomes",pl:"Przychody"},expenses:{ua:"",ru:"",eng:"Expenses",pl:"Wydatki"},transactions:{ua:"",ru:"",eng:"Transactions",pl:"Transakcje"},noTansactions:{ua:" ",ru:" ",eng:"No transactions",pl:"Brak transakcji"},filter:{ua:"",ru:"",eng:"Filter",pl:"Filtr"},byDate:{ua:" ",ru:" ",eng:"By date",pl:"Wedug daty"},all:{ua:"",ru:"",eng:"All",pl:"Wszystkie"},today:{ua:"",ru:"",eng:"Today",pl:"Dzisiaj"},month:{ua:"",ru:"",eng:"Month",pl:"Miesic"},year:{ua:"",ru:"",eng:"Year",pl:"Rok"},byTransactionType:{ua:"  ",ru:"  ",eng:"By transaction type",pl:"Wedug rodzaju transakcji"},addExpense:{ua:" ",ru:" ",eng:"Add expense",pl:"Dodaj wydatek"},addIncome:{ua:" ",ru:" ",eng:"Add income",pl:"Dodaj przychd"},selectAccount:{ua:" ",ru:" ",eng:"Select account",pl:"Wybierz konto"},category:{ua:"",ru:"",eng:"Category",pl:"Kategoria"},incomeCategories:{ua:" ",ru:" ",eng:"Income categories",pl:"Kategorie dochodw"},expenseCategories:{ua:" ",ru:" ",eng:"Expense categories",pl:"Kategorie wydatkw"},description:{ua:"",ru:"",eng:"Description",pl:"Opis"},set:{ua:"",ru:"",eng:"Set",pl:"Ustawi"},confirmTransactionDeletion:{ua:"    ?",ru:"    ?",eng:"Do you really want to delete the transaction?",pl:"Czy na pewno chcesz usun transakcj?"},transactionDeletion:{ua:" ",ru:" ",eng:"Transaction deletion",pl:"Usunicie transakcji"}},is=["ua","pl","eng","ru"],Tm=q.createContext(null),q1=({children:i})=>{const[e,n]=q.useState("ua");q.useEffect(()=>{const l=localStorage.getItem("lang");l&&is.includes(l)&&n(l)},[]);const s=l=>{localStorage.setItem("lang",l),n(l)};return y.jsx(Tm.Provider,{value:{userLanguage:e,changeLanguages:s},children:i})},ks=()=>{const i=q.useContext(Tm);if(!i)throw new Error("useCurrentLanguage must be used within a LangContextProvider");return i};function el({title:i,dascription:e,onClose:n,onConfirm:s}){const{userLanguage:l}=ks();return y.jsx("div",{className:"fixed flex items-center p-6 bg-black/50 backdrop-blur inset-0 z-10",children:y.jsxs("div",{className:"bg-white dark:bg-neutral-700 dark:text-white p-4 rounded-xl max-w-lg mx-auto",children:[y.jsx("h3",{className:"text-center",children:i}),y.jsx("p",{className:"mt-2 text-neutral-500 dark:text-neutral-200 text-center",children:e}),y.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[y.jsx("button",{className:"btn_2 border border-[#EA4335] text-[#EA4335]",onClick:()=>s(),children:Ge.confirm[l]}),y.jsx("button",{className:"btn_2",onClick:()=>n(!1),children:Ge.cancel[l]})]})]})})}function Im({setModal:i,editMode:e,account:n}){const{userLanguage:s}=ks(),[l]=be("localMainCurrency",""),[u,d]=be("localAccounts",[]),[h,m]=q.useState(n?n.title:""),[g,w]=q.useState(n?n.currency:""),[_,C]=q.useState(n?n.initialBalance:""),[I,P]=q.useState(n?n.color:yp[0]),b=()=>{const W={id:e&&n?n.id:Nm(),title:h,currency:g,color:I,initialBalance:Number(_)},H=u.findIndex(L=>L.id===W.id);if(H>-1){const L=[...u];L[H]=W,d(L),i(!1)}else d([...u,W]),i(!1)},A=W=>{const H=u.filter(L=>L.id!==W);d(H)},[J,X]=q.useState(!1);return y.jsx(y.Fragment,{children:l?y.jsxs(y.Fragment,{children:[J&&y.jsx(el,{title:Ge.accountDeletion[s],dascription:Ge.confirmAccountDeletion[s],onClose:()=>X(!1),onConfirm:()=>{i(!1),n&&A(n.id)}}),y.jsxs("div",{className:"flex gap-2 items-end",children:[y.jsxs("div",{className:"w-3/4",children:[y.jsx("h3",{children:Ge.accountName[s]}),y.jsx("input",{type:"text",placeholder:Ge.name[s],className:"input text-lg mt-1",value:h,onChange:W=>m(W.target.value)})]}),y.jsxs("div",{children:[y.jsx("p",{children:Ge.initialBalance[s]}),y.jsx("input",{type:"number",placeholder:Ge.amount[s],className:"input text-lg mt-1",value:_,onChange:W=>C(W.target.value)})]})]}),y.jsx("p",{className:"mt-4",children:Ge.accountCurrency[s]}),y.jsx("div",{className:"mt-1 grid grid-cols-4 gap-4",children:Ku.map(({id:W,title:H})=>y.jsx("button",{className:`${g===H?"ring-2 ring-neutral-500":""} btn_2`,onClick:()=>w(H),children:H},W))}),y.jsx("p",{className:"mt-4",children:Ge.color[s]}),y.jsx("div",{className:"mt-1 flex justify-between",children:yp.map(W=>y.jsx("button",{style:{backgroundColor:W},className:`${I===W?"scale-[119%]":""} w-10 h-10 aspect-square px-4 rounded-full transition-all`,onClick:()=>P(W)},W))}),y.jsxs("div",{className:"mt-6 flex gap-4 justify-end",children:[e&&y.jsx("button",{className:"btn_2 border border-[#EA4335] text-[#EA4335]",onClick:()=>X(!0),disabled:!h||!g,children:Ge.delete[s]}),y.jsx("button",{className:"btn_2",onClick:b,disabled:!h||!g,children:e?Ge.edit[s]:Ge.save[s]})]})]}):`${Ge.selectPrimaryCurrency[s]}`})}function bt({title:i,setModal:e,node:n,subModal:s}){return y.jsx("div",{className:"fixed p-4 bg-black/50 backdrop-blur inset-0 z-10",children:y.jsxs("div",{className:`${s&&"mt-2 mx-2"} bg-white dark:bg-neutral-800 dark:ring-2 dark:ring-neutral-700 dark:text-white p-4 rounded-xl max-w-lg mx-auto`,children:[y.jsxs("div",{className:"flex gap-4 justify-between items-start",children:[y.jsx("h3",{children:i}),y.jsx("button",{className:"btn_1 dark:!bg-black rotate-45",onClick:()=>e(!1),children:"+"})]}),y.jsx("div",{className:"pt-4",children:n})]})})}function K1({account:i}){const{userLanguage:e}=ks(),[n,s]=q.useState(!1),[l]=be("localTransactions",[]),[u]=be("localExpensesTransactions",[]),d=[...l,...u],m=((g,w)=>g.filter(_=>_.accountId===w).reduce((_,C)=>_+C.amount,0))(d,i.id);return y.jsxs(y.Fragment,{children:[n&&y.jsx(bt,{title:Ge.account[e],setModal:s,node:y.jsx(Im,{editMode:!0,account:i,setModal:s})}),y.jsx("div",{style:{backgroundColor:i.color},onClick:()=>s(!0),className:"rounded-lg p-2 w-full flex justify-between items-start text-white font-aptosSemiBold cursor-pointer",children:y.jsxs("div",{children:[y.jsxs("p",{className:"text-xs",children:[i.title,", ",y.jsx("span",{children:i.currency})]}),y.jsxs("p",{className:"text-lg font-aptosSemiBold",children:[i.initialBalance+m," ",y.jsx("span",{className:"text-xs",children:i.currency})]})]})})]})}function X1({userLanguage:i,text:e}){const[n,s]=q.useState(!1),[l]=be("localAccounts",[]);return y.jsxs(y.Fragment,{children:[n&&y.jsx(bt,{title:e.addAccount[i],setModal:s,node:y.jsx(Im,{setModal:s})}),y.jsxs("section",{children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsx("h3",{children:e.accounts[i]}),y.jsx("button",{className:"btn_1",onClick:()=>s(!0),children:"+"})]}),l.length>0?y.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2 items-center",children:l.map(u=>y.jsx(K1,{account:u},u.id))}):y.jsx("p",{className:"text-neutral-500",children:e.addFirstAccount[i]})]})]})}var _p={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(i,e){if(!i)throw ri(e)},ri=function(i){return new Error("Firebase Database ("+bm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},J1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const l=i[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[n++],d=i[n++],h=i[n++],m=((l&7)<<18|(u&63)<<12|(d&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[n++],d=i[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},xc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const u=i[l],d=l+1<i.length,h=d?i[l+1]:0,m=l+2<i.length,g=m?i[l+2]:0,w=u>>2,_=(u&3)<<4|h>>4;let C=(h&15)<<2|g>>6,I=g&63;m||(I=64,d||(C=64)),s.push(n[w],n[_],n[C],n[I])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Pm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):J1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const u=n[i.charAt(l++)],h=l<i.length?n[i.charAt(l)]:0;++l;const g=l<i.length?n[i.charAt(l)]:64;++l;const _=l<i.length?n[i.charAt(l)]:64;if(++l,u==null||h==null||g==null||_==null)throw new Z1;const C=u<<2|h>>4;if(s.push(C),g!==64){const I=h<<4&240|g>>2;if(s.push(I),_!==64){const P=g<<6&192|_;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Z1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mm=function(i){const e=Pm(i);return xc.encodeByteArray(e,!0)},tl=function(i){return Mm(i).replace(/\./g,"")},Xu=function(i){try{return xc.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(i){return Rm(void 0,i)}function Rm(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!tC(n)||(i[n]=Rm(i[n],e[n]));return i}function tC(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=()=>nC().__FIREBASE_DEFAULTS__,iC=()=>{if(typeof process>"u"||typeof _p>"u")return;const i=_p.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},sC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Xu(i[1]);return e&&JSON.parse(e)},Dm=()=>{try{return rC()||iC()||sC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},oC=i=>{var e,n;return(n=(e=Dm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},lC=i=>{const e=oC(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Am=()=>{var i;return(i=Dm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[tl(JSON.stringify(n)),tl(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Om(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(uC())}function cC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jm(){return bm.NODE_ADMIN===!0}function dC(){try{return typeof indexedDB=="object"}catch{return!1}}function fC(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="FirebaseError";class Ns extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=hC,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fm.prototype.create)}}class Fm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?pC(u,s):"Error",h=`${this.serviceName}: ${d} (${l}).`;return new Ns(l,h,s)}}function pC(i,e){return i.replace(mC,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const mC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(i){return JSON.parse(i)}function et(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=function(i){let e={},n={},s={},l="";try{const u=i.split(".");e=fs(Xu(u[0])||""),n=fs(Xu(u[1])||""),l=u[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:l}},gC=function(i){const e=Lm(i),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},yC=function(i){const e=Lm(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Zr(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function wp(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function nl(i,e,n){const s={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=e.call(n,i[l],l,i));return s}function Ju(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=i[l],d=e[l];if(Cp(u)&&Cp(d)){if(!Ju(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function Cp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)s[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)s[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){const C=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(C<<1|C>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],d=this.chain_[2],h=this.chain_[3],m=this.chain_[4],g,w;for(let _=0;_<80;_++){_<40?_<20?(g=h^u&(d^h),w=1518500249):(g=u^d^h,w=1859775393):_<60?(g=u&d|h&(u|d),w=2400959708):(g=u^d^h,w=3395469782);const C=(l<<5|l>>>27)+g+m+w+s[_]&4294967295;m=h,h=d,d=(u<<30|u>>>2)&4294967295,u=l,l=C}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let l=0;const u=this.buf_;let d=this.inbuf_;for(;l<n;){if(d===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<n;)if(u[d]=e.charCodeAt(l),++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}else for(;l<n;)if(u[d]=e[l],++d,++l,d===this.blockSize){this.compress_(u),d=0;break}}this.inbuf_=d,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function Ec(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,z(s<i.length,"Surrogate pair missing trail surrogate.");const d=i.charCodeAt(s)-56320;l=65536+(u<<10)+d}l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):l<65536?(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Cl=function(i){let e=0;for(let n=0;n<i.length;n++){const s=i.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(i){return i&&i._delegate?i._delegate:i}class hs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new wl;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xC(e))try{this.getOrInitializeService({instanceIdentifier:hr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hr){return this.instances.has(e)}getOptions(e=hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&d.resolve(l)}return l}onInit(e,n){var s;const l=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&e(d,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:SC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=hr){return this.component?this.component.multipleInstances?e:hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SC(i){return i===hr?void 0:i}function xC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(De||(De={}));const kC={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},NC=De.INFO,TC={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},IC=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),l=TC[e];if(l)console[l](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zm{constructor(e){this.name=e,this._logLevel=NC,this._logHandler=IC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const bC=(i,e)=>e.some(n=>i instanceof n);let Sp,xp;function PC(){return Sp||(Sp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MC(){return xp||(xp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wm=new WeakMap,Zu=new WeakMap,Bm=new WeakMap,Au=new WeakMap,kc=new WeakMap;function RC(i){const e=new Promise((n,s)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(Vn(i.result)),l()},d=()=>{s(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Wm.set(n,i)}).catch(()=>{}),kc.set(e,i),e}function DC(i){if(Zu.has(i))return;const e=new Promise((n,s)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});Zu.set(i,e)}let ec={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Zu.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Bm.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vn(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function AC(i){ec=i(ec)}function OC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Ou(this),e,...n);return Bm.set(s,e.sort?e.sort():[e]),Vn(s)}:MC().includes(i)?function(...e){return i.apply(Ou(this),e),Vn(Wm.get(this))}:function(...e){return Vn(i.apply(Ou(this),e))}}function jC(i){return typeof i=="function"?OC(i):(i instanceof IDBTransaction&&DC(i),bC(i,PC())?new Proxy(i,ec):i)}function Vn(i){if(i instanceof IDBRequest)return RC(i);if(Au.has(i))return Au.get(i);const e=jC(i);return e!==i&&(Au.set(i,e),kc.set(e,i)),e}const Ou=i=>kc.get(i);function FC(i,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(i,e),h=Vn(d);return s&&d.addEventListener("upgradeneeded",m=>{s(Vn(d.result),m.oldVersion,m.newVersion,Vn(d.transaction),m)}),n&&d.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{u&&m.addEventListener("close",()=>u()),l&&m.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const LC=["get","getKey","getAll","getAllKeys","count"],zC=["put","add","delete","clear"],ju=new Map;function Ep(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(ju.get(e))return ju.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=zC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||LC.includes(n)))return;const u=async function(d,...h){const m=this.transaction(d,l?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),l&&m.done]))[0]};return ju.set(e,u),u}AC(i=>({...i,get:(e,n,s)=>Ep(e,n)||i.get(e,n,s),has:(e,n)=>!!Ep(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function BC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tc="@firebase/app",kp="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new zm("@firebase/app"),$C="@firebase/app-compat",UC="@firebase/analytics-compat",GC="@firebase/analytics",VC="@firebase/app-check-compat",HC="@firebase/app-check",YC="@firebase/auth",QC="@firebase/auth-compat",qC="@firebase/database",KC="@firebase/data-connect",XC="@firebase/database-compat",JC="@firebase/functions",ZC="@firebase/functions-compat",eS="@firebase/installations",tS="@firebase/installations-compat",nS="@firebase/messaging",rS="@firebase/messaging-compat",iS="@firebase/performance",sS="@firebase/performance-compat",oS="@firebase/remote-config",lS="@firebase/remote-config-compat",aS="@firebase/storage",uS="@firebase/storage-compat",cS="@firebase/firestore",dS="@firebase/vertexai",fS="@firebase/firestore-compat",hS="firebase",pS="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc="[DEFAULT]",mS={[tc]:"fire-core",[$C]:"fire-core-compat",[GC]:"fire-analytics",[UC]:"fire-analytics-compat",[HC]:"fire-app-check",[VC]:"fire-app-check-compat",[YC]:"fire-auth",[QC]:"fire-auth-compat",[qC]:"fire-rtdb",[KC]:"fire-data-connect",[XC]:"fire-rtdb-compat",[JC]:"fire-fn",[ZC]:"fire-fn-compat",[eS]:"fire-iid",[tS]:"fire-iid-compat",[nS]:"fire-fcm",[rS]:"fire-fcm-compat",[iS]:"fire-perf",[sS]:"fire-perf-compat",[oS]:"fire-rc",[lS]:"fire-rc-compat",[aS]:"fire-gcs",[uS]:"fire-gcs-compat",[cS]:"fire-fst",[fS]:"fire-fst-compat",[dS]:"fire-vertex","fire-js":"fire-js",[hS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new Map,gS=new Map,rc=new Map;function Np(i,e){try{i.container.addComponent(e)}catch(n){_n.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function il(i){const e=i.name;if(rc.has(e))return _n.debug(`There were multiple attempts to register component ${e}.`),!1;rc.set(e,i);for(const n of rl.values())Np(n,i);for(const n of gS.values())Np(n,i);return!0}function yS(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hn=new Fm("app","Firebase",vS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=pS;function $m(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:nc,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw Hn.create("bad-app-name",{appName:String(l)});if(n||(n=Am()),!n)throw Hn.create("no-options");const u=rl.get(l);if(u){if(Ju(n,u.options)&&Ju(s,u.config))return u;throw Hn.create("duplicate-app",{appName:l})}const d=new EC(l);for(const m of rc.values())d.addComponent(m);const h=new _S(n,s,d);return rl.set(l,h),h}function CS(i=nc){const e=rl.get(i);if(!e&&i===nc&&Am())return $m();if(!e)throw Hn.create("no-app",{appName:i});return e}function qr(i,e,n){var s;let l=(s=mS[i])!==null&&s!==void 0?s:i;n&&(l+=`-${n}`);const u=l.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const h=[`Unable to register library "${l}" with version "${e}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&h.push("and"),d&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_n.warn(h.join(" "));return}il(new hs(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="firebase-heartbeat-database",xS=1,ps="firebase-heartbeat-store";let Fu=null;function Um(){return Fu||(Fu=FC(SS,xS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ps)}catch(n){console.warn(n)}}}}).catch(i=>{throw Hn.create("idb-open",{originalErrorMessage:i.message})})),Fu}async function ES(i){try{const n=(await Um()).transaction(ps),s=await n.objectStore(ps).get(Gm(i));return await n.done,s}catch(e){if(e instanceof Ns)_n.warn(e.message);else{const n=Hn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_n.warn(n.message)}}}async function Tp(i,e){try{const s=(await Um()).transaction(ps,"readwrite");await s.objectStore(ps).put(e,Gm(i)),await s.done}catch(n){if(n instanceof Ns)_n.warn(n.message);else{const s=Hn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_n.warn(s.message)}}}function Gm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=1024,NS=30*24*60*60*1e3;class TS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Ip();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const h=new Date(d.date).valueOf();return Date.now()-h<=NS}),this._storage.overwrite(this._heartbeatsCache))}catch(s){_n.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ip(),{heartbeatsToSend:s,unsentEntries:l}=IS(this._heartbeatsCache.heartbeats),u=tl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return _n.warn(n),""}}}function Ip(){return new Date().toISOString().substring(0,10)}function IS(i,e=kS){const n=[];let s=i.slice();for(const l of i){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),bp(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),bp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class bS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dC()?fC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ES(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Tp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Tp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function bp(i){return tl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(i){il(new hs("platform-logger",e=>new WC(e),"PRIVATE")),il(new hs("heartbeat",e=>new TS(e),"PRIVATE")),qr(tc,kp,i),qr(tc,kp,"esm2017"),qr("fire-js","")}PS("");var Pp={};const Mp="@firebase/database",Rp="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vm="";function MS(i){Vm=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),et(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:fs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Cn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new RS(e)}}catch{}return new DS},mr=Hm("localStorage"),AS=Hm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new zm("@firebase/database"),OS=function(){let i=1;return function(){return i++}}(),Ym=function(i){const e=wC(i),n=new _C;n.update(e);const s=n.digest();return xc.encodeByteArray(s)},Ts=function(...i){let e="";for(let n=0;n<i.length;n++){const s=i[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Ts.apply(null,s):typeof s=="object"?e+=et(s):e+=s,e+=" "}return e};let os=null,Dp=!0;const jS=function(i,e){z(!e,"Can't turn on custom loggers persistently."),Kr.logLevel=De.VERBOSE,os=Kr.log.bind(Kr)},gt=function(...i){if(Dp===!0&&(Dp=!1,os===null&&AS.get("logging_enabled")===!0&&jS()),os){const e=Ts.apply(null,i);os(e)}},Is=function(i){return function(...e){gt(i,...e)}},ic=function(...i){const e="FIREBASE INTERNAL ERROR: "+Ts(...i);Kr.error(e)},wn=function(...i){const e=`FIREBASE FATAL ERROR: ${Ts(...i)}`;throw Kr.error(e),new Error(e)},Pt=function(...i){const e="FIREBASE WARNING: "+Ts(...i);Kr.warn(e)},FS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Qm=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},LS=function(i){if(document.readyState==="complete")i();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ei="[MIN_NAME]",yr="[MAX_NAME]",si=function(i,e){if(i===e)return 0;if(i===ei||e===yr)return-1;if(e===ei||i===yr)return 1;{const n=Ap(i),s=Ap(e);return n!==null?s!==null?n-s===0?i.length-e.length:n-s:-1:s!==null?1:i<e?-1:1}},zS=function(i,e){return i===e?0:i<e?-1:1},Ji=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+et(e))},Nc=function(i){if(typeof i!="object"||i===null)return et(i);const e=[];for(const s in i)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=et(e[s]),n+=":",n+=Nc(i[e[s]]);return n+="}",n},qm=function(i,e){const n=i.length;if(n<=e)return[i];const s=[];for(let l=0;l<n;l+=e)l+e>n?s.push(i.substring(l,n)):s.push(i.substring(l,l+e));return s};function Mt(i,e){for(const n in i)i.hasOwnProperty(n)&&e(n,i[n])}const Km=function(i){z(!Qm(i),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let l,u,d,h,m;i===0?(u=0,d=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),s),u=h+s,d=Math.round(i*Math.pow(2,n-h)-Math.pow(2,n))):(u=0,d=Math.round(i/Math.pow(2,1-s-n))));const g=[];for(m=n;m;m-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(m=e;m;m-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(l?1:0),g.reverse();const w=g.join("");let _="";for(m=0;m<64;m+=8){let C=parseInt(w.substr(m,8),2).toString(16);C.length===1&&(C="0"+C),_=_+C}return _.toLowerCase()},WS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},BS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function $S(i,e){let n="Unknown Error";i==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?n="Client doesn't have permission to access the desired data.":i==="unavailable"&&(n="The service is unavailable");const s=new Error(i+" at "+e._path.toString()+": "+n);return s.code=i.toUpperCase(),s}const US=new RegExp("^-?(0*)\\d{1,10}$"),GS=-2147483648,VS=2147483647,Ap=function(i){if(US.test(i)){const e=Number(i);if(e>=GS&&e<=VS)return e}return null},oi=function(i){try{i()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Pt("Exception was thrown by user callback.",n),e},Math.floor(0))}},HS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ls=function(i,e){const n=setTimeout(i,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Pt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pt(e)}}class qo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}qo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="5",Xm="v",Jm="s",Zm="r",eg="f",tg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ng="ls",rg="p",sc="ac",ig="websocket",sg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,s,l,u=!1,d="",h=!1,m=!1){this.secure=n,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=mr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&mr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function qS(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function lg(i,e,n){z(typeof e=="string","typeof type must == string"),z(typeof n=="object","typeof params must == object");let s;if(e===ig)s=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===sg)s=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);qS(i)&&(n.ns=i.namespace);const l=[];return Mt(n,(u,d)=>{l.push(u+"="+d)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.counters_={}}incrementCounter(e,n=1){Cn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return eC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu={},zu={};function Ic(i){const e=i.toString();return Lu[e]||(Lu[e]=new KS),Lu[e]}function XS(i,e){const n=i.toString();return zu[n]||(zu[n]=e()),zu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&oi(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="start",ZS="close",ex="pLPCommand",tx="pRTLPCB",ag="id",ug="pw",cg="ser",nx="cb",rx="seg",ix="ts",sx="d",ox="dframe",dg=1870,fg=30,lx=dg-fg,ax=25e3,ux=3e4;class Qr{constructor(e,n,s,l,u,d,h){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Is(e),this.stats_=Ic(n),this.urlFn=m=>(this.appCheckToken&&(m[sc]=this.appCheckToken),lg(n,sg,m))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new JS(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ux)),LS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bc((...u)=>{const[d,h,m,g,w]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Op)this.id=h,this.password=m;else if(d===ZS)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...u)=>{const[d,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[Op]="t",s[cg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[nx]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Xm]=Tc,this.transportSessionId&&(s[Jm]=this.transportSessionId),this.lastSessionId&&(s[ng]=this.lastSessionId),this.applicationId&&(s[rg]=this.applicationId),this.appCheckToken&&(s[sc]=this.appCheckToken),typeof location<"u"&&location.hostname&&tg.test(location.hostname)&&(s[Zm]=eg);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qr.forceAllow_=!0}static forceDisallow(){Qr.forceDisallow_=!0}static isAvailable(){return Qr.forceAllow_?!0:!Qr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!WS()&&!BS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Mm(n),l=qm(s,lx);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[ox]="t",s[ag]=e,s[ug]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=et(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class bc{constructor(e,n,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=OS(),window[ex+this.uniqueCallbackIdentifier]=e,window[tx+this.uniqueCallbackIdentifier]=n,this.myIFrame=bc.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){gt("frame writing exception"),h.stack&&gt(h.stack),gt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ag]=this.myID,e[ug]=this.myPW,e[cg]=this.currentSerial;let n=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fg+s.length<=dg;){const d=this.pendingSegs.shift();s=s+"&"+rx+l+"="+d.seg+"&"+ix+l+"="+d.ts+"&"+sx+l+"="+d.d,l++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(s,Math.floor(ax)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=16384,dx=45e3;let sl=null;typeof MozWebSocket<"u"?sl=MozWebSocket:typeof WebSocket<"u"&&(sl=WebSocket);class Xt{constructor(e,n,s,l,u,d,h){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Is(this.connId),this.stats_=Ic(n),this.connURL=Xt.connectionURL_(n,d,h,l,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,l,u){const d={};return d[Xm]=Tc,typeof location<"u"&&location.hostname&&tg.test(location.hostname)&&(d[Zm]=eg),n&&(d[Jm]=n),s&&(d[ng]=s),l&&(d[sc]=l),u&&(d[rg]=u),lg(e,ig,d)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,mr.set("previous_websocket_failure",!0);try{let s;jm(),this.mySock=new sl(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Xt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&sl!==null&&!Xt.forceDisallow_}static previouslyFailed(){return mr.isInMemoryStorage||mr.get("previous_websocket_failure")===!0}markConnectionHealthy(){mr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=fs(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(z(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=qm(n,cx);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(dx))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xt.responsesRequiredToBeHealthy=2;Xt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{static get ALL_TRANSPORTS(){return[Qr,Xt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Xt&&Xt.isAvailable();let s=n&&!Xt.previouslyFailed();if(e.webSocketOnly&&(n||Pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Xt];else{const l=this.transports_=[];for(const u of ms.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);ms.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ms.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=6e4,hx=5e3,px=10*1024,mx=100*1024,Wu="t",jp="d",gx="s",Fp="r",yx="e",Lp="o",zp="a",Wp="n",Bp="p",vx="h";class _x{constructor(e,n,s,l,u,d,h,m,g,w){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Is("c:"+this.id+":"),this.transportManager_=new ms(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=ls(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>mx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>px?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Wu in e){const n=e[Wu];n===zp?this.upgradeIfSecondaryHealthy_():n===Fp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Lp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ji("t",e),s=Ji("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Bp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Wp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ji("t",e),s=Ji("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ji(Wu,e);if(jp in e){const s=e[jp];if(n===vx){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===Wp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===gx?this.onConnectionShutdown_(s):n===Fp?this.onReset_(s):n===yx?ic("Server Error: "+s):n===Lp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ic("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Tc!==s&&Pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),ls(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(fx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ls(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(hx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Bp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(mr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{put(e,n,s,l){}merge(e,n,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const l=this.getInitialEvent(e);l&&n.apply(s,l)}off(e,n,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===n&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){z(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends pg{static getInstance(){return new ol}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Om()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=32,Up=768;class Me{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ee(){return new Me("")}function ve(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Kn(i){return i.pieces_.length-i.pieceNum_}function Ae(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new Me(i.pieces_,e)}function mg(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function wx(i){let e="";for(let n=i.pieceNum_;n<i.pieces_.length;n++)i.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[n])));return e||"/"}function gg(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function yg(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let n=i.pieceNum_;n<i.pieces_.length-1;n++)e.push(i.pieces_[n]);return new Me(e,0)}function tt(i,e){const n=[];for(let s=i.pieceNum_;s<i.pieces_.length;s++)n.push(i.pieces_[s]);if(e instanceof Me)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&n.push(s[l])}return new Me(n,0)}function me(i){return i.pieceNum_>=i.pieces_.length}function Ct(i,e){const n=ve(i),s=ve(e);if(n===null)return e;if(n===s)return Ct(Ae(i),Ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function vg(i,e){if(Kn(i)!==Kn(e))return!1;for(let n=i.pieceNum_,s=e.pieceNum_;n<=i.pieces_.length;n++,s++)if(i.pieces_[n]!==e.pieces_[s])return!1;return!0}function Jt(i,e){let n=i.pieceNum_,s=e.pieceNum_;if(Kn(i)>Kn(e))return!1;for(;n<i.pieces_.length;){if(i.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class Cx{constructor(e,n){this.errorPrefix_=n,this.parts_=gg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Cl(this.parts_[s]);_g(this)}}function Sx(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=Cl(e),_g(i)}function xx(i){const e=i.parts_.pop();i.byteLength_-=Cl(e),i.parts_.length>0&&(i.byteLength_-=1)}function _g(i){if(i.byteLength_>Up)throw new Error(i.errorPrefix_+"has a key path longer than "+Up+" bytes ("+i.byteLength_+").");if(i.parts_.length>$p)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$p+") or object contains a cycle "+pr(i))}function pr(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends pg{static getInstance(){return new Pc}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=1e3,Ex=60*5*1e3,Gp=30*1e3,kx=1.3,Nx=3e4,Tx="server_kill",Vp=3;class vn extends hg{constructor(e,n,s,l,u,d,h,m){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=vn.nextPersistentConnectionId_++,this.log_=Is("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zi,this.maxReconnectDelay_=Ex,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m&&!jm())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Pc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ol.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const l=++this.requestNumber_,u={r:l,a:e,b:n};this.log_(et(u)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const n=new wl,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,s,l){this.initConnection_();const u=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+u),this.listens.has(d)||this.listens.set(d,new Map),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(d).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:n,query:e,tag:s};this.listens.get(d).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},d="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(d,u,h=>{const m=h.d,g=h.s;vn.warnOnListenWarnings_(m,n),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(g,m))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Cn(e,"w")){const s=Zr(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();Pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||yC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Gp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=gC(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,l=>{const u=l.s,d=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,n)}sendUnlisten_(e,n,s,l){this.log_("Unlisten on "+e+" for "+n);const u={p:e},d="n";l&&(u.q=s,u.t=l),this.sendRequest(d,u)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,l){const u={p:n,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,d=>{l&&setTimeout(()=>{l(d.s,d.d)},Math.floor(0))})}put(e,n,s,l){this.putInternal("p",e,n,s,l)}merge(e,n,s,l){this.putInternal("m",e,n,s,l)}putInternal(e,n,s,l,u){this.initConnection_();const d={p:n,d:s};u!==void 0&&(d.h=u),this.outstandingPuts_.push({action:e,request:d,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+et(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ic("Unrecognized action received from server: "+et(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Nx&&(this.reconnectDelay_=Zi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*kx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+vn.nextConnectionId_++,u=this.lastSessionId;let d=!1,h=null;const m=function(){h?h.close():(d=!0,s())},g=function(_){z(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:m,sendRequest:g};const w=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,C]=await Promise.all([this.authTokenProvider_.getToken(w),this.appCheckTokenProvider_.getToken(w)]);d?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=C&&C.token,h=new _x(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,I=>{Pt(I+" ("+this.repoInfo_.toString()+")"),this.interrupt(Tx)},u))}catch(_){this.log_("Failed to get token: "+_),d||(this.repoInfo_.nodeAdmin&&Pt(_),m())}}}interrupt(e){gt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],wp(this.interruptReasons_)&&(this.reconnectDelay_=Zi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(u=>Nc(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,n){const s=new Me(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(n),u.delete(n),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,n){gt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Vp&&(this.reconnectDelay_=Gp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){gt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Vp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Vm.replace(/\./g,"-")]=1,Om()?e["framework.cordova"]=1:cC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ol.getInstance().currentlyOnline();return wp(this.interruptReasons_)&&e}}vn.nextPersistentConnectionId_=0;vn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new pe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new pe(ei,e),l=new pe(ei,n);return this.compare(s,l)!==0}minPost(){return pe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo;class wg extends Sl{static get __EMPTY_NODE(){return Yo}static set __EMPTY_NODE(e){Yo=e}compare(e,n){return si(e.name,n.name)}isDefinedOn(e){throw ri("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return pe.MIN}maxPost(){return new pe(yr,Yo)}makePost(e,n){return z(typeof e=="string","KeyIndex indexValue must always be a string."),new pe(e,Yo)}toString(){return".key"}}const Xr=new wg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(e=e,d=n?s(e.key,n):1,l&&(d*=-1),d<0)this.isReverse_?e=e.left:e=e.right;else if(d===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ot{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??ot.RED,this.left=l??It.EMPTY_NODE,this.right=u??It.EMPTY_NODE}copy(e,n,s,l,u){return new ot(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return It.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,l;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return It.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ot.RED=!0;ot.BLACK=!1;class Ix{copy(e,n,s,l,u){return this}insert(e,n,s){return new ot(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class It{constructor(e,n=It.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new It(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ot.BLACK,null,null))}remove(e){return new It(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ot.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,l=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Qo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Qo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Qo(this.root_,null,this.comparator_,!0,e)}}It.EMPTY_NODE=new Ix;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(i,e){return si(i.name,e.name)}function Mc(i,e){return si(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc;function Px(i){oc=i}const Cg=function(i){return typeof i=="number"?"number:"+Km(i):"string:"+i},Sg=function(i){if(i.isLeafNode()){const e=i.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Cn(e,".sv"),"Priority must be a string or number.")}else z(i===oc||i.isEmpty(),"priority of unexpected type.");z(i===oc||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp;class st{static set __childrenNodeConstructor(e){Hp=e}static get __childrenNodeConstructor(){return Hp}constructor(e,n=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Sg(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new st(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:ve(e)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=ve(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(z(s!==".priority"||Kn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ae(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Cg(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Km(this.value_):e+=this.value_,this.lazyHash_=Ym(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===st.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof st.__childrenNodeConstructor?-1:(z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,l=st.VALUE_TYPE_ORDER.indexOf(n),u=st.VALUE_TYPE_ORDER.indexOf(s);return z(l>=0,"Unknown leaf type: "+n),z(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xg,Eg;function Mx(i){xg=i}function Rx(i){Eg=i}class Dx extends Sl{compare(e,n){const s=e.node.getPriority(),l=n.node.getPriority(),u=s.compareTo(l);return u===0?si(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return pe.MIN}maxPost(){return new pe(yr,new st("[PRIORITY-POST]",Eg))}makePost(e,n){const s=xg(e);return new pe(n,new st("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ve=new Dx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=Math.log(2);class Ox{constructor(e){const n=u=>parseInt(Math.log(u)/Ax,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ll=function(i,e,n,s){i.sort(e);const l=function(m,g){const w=g-m;let _,C;if(w===0)return null;if(w===1)return _=i[m],C=n?n(_):_,new ot(C,_.node,ot.BLACK,null,null);{const I=parseInt(w/2,10)+m,P=l(m,I),b=l(I+1,g);return _=i[I],C=n?n(_):_,new ot(C,_.node,ot.BLACK,P,b)}},u=function(m){let g=null,w=null,_=i.length;const C=function(P,b){const A=_-P,J=_;_-=P;const X=l(A+1,J),W=i[A],H=n?n(W):W;I(new ot(H,W.node,b,null,X))},I=function(P){g?(g.left=P,g=P):(w=P,g=P)};for(let P=0;P<m.count;++P){const b=m.nextBitIsOne(),A=Math.pow(2,m.count-(P+1));b?C(A,ot.BLACK):(C(A,ot.BLACK),C(A,ot.RED))}return w},d=new Ox(i.length),h=u(d);return new It(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu;const Yr={};class yn{static get Default(){return z(Yr&&Ve,"ChildrenNode.ts has not been loaded"),Bu=Bu||new yn({".priority":Yr},{".priority":Ve}),Bu}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Zr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof It?n:null}hasIndex(e){return Cn(this.indexSet_,e.toString())}addIndex(e,n){z(e!==Xr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=n.getIterator(pe.Wrap);let d=u.getNext();for(;d;)l=l||e.isDefinedOn(d.node),s.push(d),d=u.getNext();let h;l?h=ll(s,e.getCompare()):h=Yr;const m=e.toString(),g=Object.assign({},this.indexSet_);g[m]=e;const w=Object.assign({},this.indexes_);return w[m]=h,new yn(w,g)}addToIndexes(e,n){const s=nl(this.indexes_,(l,u)=>{const d=Zr(this.indexSet_,u);if(z(d,"Missing index implementation for "+u),l===Yr)if(d.isDefinedOn(e.node)){const h=[],m=n.getIterator(pe.Wrap);let g=m.getNext();for(;g;)g.name!==e.name&&h.push(g),g=m.getNext();return h.push(e),ll(h,d.getCompare())}else return Yr;else{const h=n.get(e.name);let m=l;return h&&(m=m.remove(new pe(e.name,h))),m.insert(e,e.node)}});return new yn(s,this.indexSet_)}removeFromIndexes(e,n){const s=nl(this.indexes_,l=>{if(l===Yr)return l;{const u=n.get(e.name);return u?l.remove(new pe(e.name,u)):l}});return new yn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let es;class ne{static get EMPTY_NODE(){return es||(es=new ne(new It(Mc),null,yn.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Sg(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||es}updatePriority(e){return this.children_.isEmpty()?this:new ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?es:n}}getChild(e){const n=ve(e);return n===null?this:this.getImmediateChild(n).getChild(Ae(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new pe(e,n);let l,u;n.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(s,this.children_));const d=l.isEmpty()?es:this.priorityNode_;return new ne(l,d,u)}}updateChild(e,n){const s=ve(e);if(s===null)return n;{z(ve(e)!==".priority"||Kn(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Ae(e),n);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,l=0,u=!0;if(this.forEachChild(Ve,(d,h)=>{n[d]=h.val(e),s++,u&&ne.INTEGER_REGEXP_.test(d)?l=Math.max(l,Number(d)):u=!1}),!e&&u&&l<2*s){const d=[];for(const h in n)d[h]=n[h];return d}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Cg(this.getPriority().val())+":"),this.forEachChild(Ve,(n,s)=>{const l=s.hash();l!==""&&(e+=":"+n+":"+l)}),this.lazyHash_=e===""?"":Ym(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new pe(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new pe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new pe(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,pe.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,pe.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bs?-1:0}withIndex(e){if(e===Xr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ne(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Xr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Ve),l=n.getIterator(Ve);let u=s.getNext(),d=l.getNext();for(;u&&d;){if(u.name!==d.name||!u.node.equals(d.node))return!1;u=s.getNext(),d=l.getNext()}return u===null&&d===null}else return!1;else return!1}}resolveIndex_(e){return e===Xr?null:this.indexMap_.get(e.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class jx extends ne{constructor(){super(new It(Mc),ne.EMPTY_NODE,yn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ne.EMPTY_NODE}isEmpty(){return!1}}const bs=new jx;Object.defineProperties(pe,{MIN:{value:new pe(ei,ne.EMPTY_NODE)},MAX:{value:new pe(yr,bs)}});wg.__EMPTY_NODE=ne.EMPTY_NODE;st.__childrenNodeConstructor=ne;Px(bs);Rx(bs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=!0;function lt(i,e=null){if(i===null)return ne.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const n=i;return new st(n,lt(e))}if(!(i instanceof Array)&&Fx){const n=[];let s=!1;if(Mt(i,(d,h)=>{if(d.substring(0,1)!=="."){const m=lt(h);m.isEmpty()||(s=s||!m.getPriority().isEmpty(),n.push(new pe(d,m)))}}),n.length===0)return ne.EMPTY_NODE;const u=ll(n,bx,d=>d.name,Mc);if(s){const d=ll(n,Ve.getCompare());return new ne(u,lt(e),new yn({".priority":d},{".priority":Ve}))}else return new ne(u,lt(e),yn.Default)}else{let n=ne.EMPTY_NODE;return Mt(i,(s,l)=>{if(Cn(i,s)&&s.substring(0,1)!=="."){const u=lt(l);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(s,u))}}),n.updatePriority(lt(e))}}Mx(lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx extends Sl{constructor(e){super(),this.indexPath_=e,z(!me(e)&&ve(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),l=this.extractChild(n.node),u=s.compareTo(l);return u===0?si(e.name,n.name):u}makePost(e,n){const s=lt(e),l=ne.EMPTY_NODE.updateChild(this.indexPath_,s);return new pe(n,l)}maxPost(){const e=ne.EMPTY_NODE.updateChild(this.indexPath_,bs);return new pe(yr,e)}toString(){return gg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx extends Sl{compare(e,n){const s=e.node.compareTo(n.node);return s===0?si(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return pe.MIN}maxPost(){return pe.MAX}makePost(e,n){const s=lt(e);return new pe(n,s)}toString(){return".value"}}const Wx=new zx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(i){return{type:"value",snapshotNode:i}}function ti(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function gs(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function ys(i,e,n){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:n}}function Bx(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e){this.index_=e}updateChild(e,n,s,l,u,d){z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(d!=null&&(s.isEmpty()?e.hasChild(n)?d.trackChildChange(gs(n,h)):z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange(ti(n,s)):d.trackChildChange(ys(n,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ve,(l,u)=>{n.hasChild(l)||s.trackChildChange(gs(l,u))}),n.isLeafNode()||n.forEachChild(Ve,(l,u)=>{if(e.hasChild(l)){const d=e.getImmediateChild(l);d.equals(u)||s.trackChildChange(ys(l,u,d))}else s.trackChildChange(ti(l,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.indexedFilter_=new Rc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=vs.getStartPost_(e),this.endPost_=vs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,l,u,d){return this.matches(new pe(n,s))||(s=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,l,u,d)}updateFullNode(e,n,s){n.isLeafNode()&&(n=ne.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(ne.EMPTY_NODE);const u=this;return n.forEachChild(Ve,(d,h)=>{u.matches(new pe(d,h))||(l=l.updateImmediateChild(d,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new vs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,l,u,d){return this.rangedFilter_.matches(new pe(n,s))||(s=ne.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,l,u,d):this.fullLimitUpdateChild_(e,n,s,u,d)}updateFullNode(e,n,s){let l;if(n.isLeafNode()||n.isEmpty())l=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=ne.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;u.hasNext()&&d<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(ne.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let d=0;for(;u.hasNext();){const h=u.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:l=l.updateImmediateChild(h.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,l,u){let d;if(this.reverse_){const _=this.index_.getCompare();d=(C,I)=>_(I,C)}else d=this.index_.getCompare();const h=e;z(h.numChildren()===this.limit_,"");const m=new pe(n,s),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),w=this.rangedFilter_.matches(m);if(h.hasChild(n)){const _=h.getImmediateChild(n);let C=l.getChildAfterChild(this.index_,g,this.reverse_);for(;C!=null&&(C.name===n||h.hasChild(C.name));)C=l.getChildAfterChild(this.index_,C,this.reverse_);const I=C==null?1:d(C,m);if(w&&!s.isEmpty()&&I>=0)return u!=null&&u.trackChildChange(ys(n,s,_)),h.updateImmediateChild(n,s);{u!=null&&u.trackChildChange(gs(n,_));const b=h.updateImmediateChild(n,ne.EMPTY_NODE);return C!=null&&this.rangedFilter_.matches(C)?(u!=null&&u.trackChildChange(ti(C.name,C.node)),b.updateImmediateChild(C.name,C.node)):b}}else return s.isEmpty()?e:w&&d(g,m)>=0?(u!=null&&(u.trackChildChange(gs(g.name,g.node)),u.trackChildChange(ti(n,s))),h.updateImmediateChild(n,s).updateImmediateChild(g.name,ne.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ei}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const e=new Dc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Ux(i){return i.loadsAllData()?new Rc(i.getIndex()):i.hasLimit()?new $x(i):new vs(i)}function Yp(i){const e={};if(i.isDefault())return e;let n;if(i.index_===Ve?n="$priority":i.index_===Wx?n="$value":i.index_===Xr?n="$key":(z(i.index_ instanceof Lx,"Unrecognized index type!"),n=i.index_.toString()),e.orderBy=et(n),i.startSet_){const s=i.startAfterSet_?"startAfter":"startAt";e[s]=et(i.indexStartValue_),i.startNameSet_&&(e[s]+=","+et(i.indexStartName_))}if(i.endSet_){const s=i.endBeforeSet_?"endBefore":"endAt";e[s]=et(i.indexEndValue_),i.endNameSet_&&(e[s]+=","+et(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function Qp(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let n=i.viewFrom_;n===""&&(i.isViewFromLeft()?n="l":n="r"),e.vf=n}return i.index_!==Ve&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends hg{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Is("p:rest:"),this.listens_={}}listen(e,n,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const d=al.getListenId_(e,s),h={};this.listens_[d]=h;const m=Yp(e._queryParams);this.restRequest_(u+".json",m,(g,w)=>{let _=w;if(g===404&&(_=null,g=null),g===null&&this.onDataUpdate_(u,_,!1,s),Zr(this.listens_,d)===h){let C;g?g===401?C="permission_denied":C="rest_error:"+g:C="ok",l(C,null)}})}unlisten(e,n){const s=al.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Yp(e._queryParams),s=e._path.toString(),l=new wl;return this.restRequest_(s+".json",n,(u,d)=>{let h=d;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(n.auth=l.accessToken),u&&u.token&&(n.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+vC(n);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=fs(h.responseText)}catch{Pt("Failed to parse JSON response for "+d+": "+h.responseText)}s(null,m)}else h.status!==401&&h.status!==404&&Pt("Got unsuccessful REST response for "+d+" Status: "+h.status),s(h.status);s=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(){return{value:null,children:new Map}}function Ng(i,e,n){if(me(e))i.value=n,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,n);else{const s=ve(e);i.children.has(s)||i.children.set(s,ul());const l=i.children.get(s);e=Ae(e),Ng(l,e,n)}}function lc(i,e,n){i.value!==null?n(e,i.value):Vx(i,(s,l)=>{const u=new Me(e.toString()+"/"+s);lc(l,u,n)})}function Vx(i,e){i.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Mt(this.last_,(s,l)=>{n[s]=n[s]-l}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=10*1e3,Yx=30*1e3,Qx=5*60*1e3;class qx{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Hx(e);const s=qp+(Yx-qp)*Math.random();ls(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Mt(e,(l,u)=>{u>0&&Cn(this.statsToReport_,l)&&(n[l]=u,s=!0)}),s&&this.server_.reportStats(n),ls(this.reportStats_.bind(this),Math.floor(Math.random()*2*Qx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zt||(Zt={}));function Tg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ac(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Oc(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Zt.ACK_USER_WRITE,this.source=Tg()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Me(e));return new cl(Ee(),n,this.revert)}}else return z(ve(this.path)===e,"operationForChild called for unrelated child."),new cl(Ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n){this.source=e,this.path=n,this.type=Zt.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new _s(this.source,Ee()):new _s(this.source,Ae(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Zt.OVERWRITE}operationForChild(e){return me(this.path)?new vr(this.source,Ee(),this.snap.getImmediateChild(e)):new vr(this.source,Ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Zt.MERGE}operationForChild(e){if(me(this.path)){const n=this.children.subtree(new Me(e));return n.isEmpty()?null:n.value?new vr(this.source,Ee(),n.value):new ws(this.source,Ee(),n)}else return z(ve(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ws(this.source,Ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const n=ve(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Xx(i,e,n,s){const l=[],u=[];return e.forEach(d=>{d.type==="child_changed"&&i.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(Bx(d.childName,d.snapshotNode))}),ts(i,l,"child_removed",e,s,n),ts(i,l,"child_added",e,s,n),ts(i,l,"child_moved",u,s,n),ts(i,l,"child_changed",e,s,n),ts(i,l,"value",e,s,n),l}function ts(i,e,n,s,l,u){const d=s.filter(h=>h.type===n);d.sort((h,m)=>Zx(i,h,m)),d.forEach(h=>{const m=Jx(i,h,u);l.forEach(g=>{g.respondsTo(h.type)&&e.push(g.createEvent(m,i.query_))})})}function Jx(i,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function Zx(i,e,n){if(e.childName==null||n.childName==null)throw ri("Should only compare child_ events.");const s=new pe(e.childName,e.snapshotNode),l=new pe(n.childName,n.snapshotNode);return i.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(i,e){return{eventCache:i,serverCache:e}}function as(i,e,n,s){return xl(new Xn(e,n,s),i.serverCache)}function Ig(i,e,n,s){return xl(i.eventCache,new Xn(e,n,s))}function dl(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function _r(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u;const eE=()=>($u||($u=new It(zS)),$u);class ze{static fromObject(e){let n=new ze(null);return Mt(e,(s,l)=>{n=n.set(new Me(s),l)}),n}constructor(e,n=eE()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ee(),value:this.value};if(me(e))return null;{const s=ve(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Ae(e),n);return u!=null?{path:tt(new Me(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const n=ve(e),s=this.children.get(n);return s!==null?s.subtree(Ae(e)):new ze(null)}}set(e,n){if(me(e))return new ze(n,this.children);{const s=ve(e),u=(this.children.get(s)||new ze(null)).set(Ae(e),n),d=this.children.insert(s,u);return new ze(this.value,d)}}remove(e){if(me(e))return this.children.isEmpty()?new ze(null):new ze(null,this.children);{const n=ve(e),s=this.children.get(n);if(s){const l=s.remove(Ae(e));let u;return l.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,l),this.value===null&&u.isEmpty()?new ze(null):new ze(this.value,u)}else return this}}get(e){if(me(e))return this.value;{const n=ve(e),s=this.children.get(n);return s?s.get(Ae(e)):null}}setTree(e,n){if(me(e))return n;{const s=ve(e),u=(this.children.get(s)||new ze(null)).setTree(Ae(e),n);let d;return u.isEmpty()?d=this.children.remove(s):d=this.children.insert(s,u),new ze(this.value,d)}}fold(e){return this.fold_(Ee(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(tt(e,l),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Ee(),n)}findOnPath_(e,n,s){const l=this.value?s(n,this.value):!1;if(l)return l;if(me(e))return null;{const u=ve(e),d=this.children.get(u);return d?d.findOnPath_(Ae(e),tt(n,u),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ee(),n)}foreachOnPath_(e,n,s){if(me(e))return this;{this.value&&s(n,this.value);const l=ve(e),u=this.children.get(l);return u?u.foreachOnPath_(Ae(e),tt(n,l),s):new ze(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,n){this.children.inorderTraversal((s,l)=>{l.foreach_(tt(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.writeTree_=e}static empty(){return new en(new ze(null))}}function us(i,e,n){if(me(e))return new en(new ze(n));{const s=i.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const d=Ct(l,e);return u=u.updateChild(d,n),new en(i.writeTree_.set(l,u))}else{const l=new ze(n),u=i.writeTree_.setTree(e,l);return new en(u)}}}function Kp(i,e,n){let s=i;return Mt(n,(l,u)=>{s=us(s,tt(e,l),u)}),s}function Xp(i,e){if(me(e))return en.empty();{const n=i.writeTree_.setTree(e,new ze(null));return new en(n)}}function ac(i,e){return wr(i,e)!=null}function wr(i,e){const n=i.writeTree_.findRootMostValueAndPath(e);return n!=null?i.writeTree_.get(n.path).getChild(Ct(n.path,e)):null}function Jp(i){const e=[],n=i.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ve,(s,l)=>{e.push(new pe(s,l))}):i.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new pe(s,l.value))}),e}function Yn(i,e){if(me(e))return i;{const n=wr(i,e);return n!=null?new en(new ze(n)):new en(i.writeTree_.subtree(e))}}function uc(i){return i.writeTree_.isEmpty()}function ni(i,e){return bg(Ee(),i.writeTree_,e)}function bg(i,e,n){if(e.value!=null)return n.updateChild(i,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(z(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):n=bg(tt(i,l),u,n)}),!n.getChild(i).isEmpty()&&s!==null&&(n=n.updateChild(tt(i,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(i,e){return Dg(e,i)}function tE(i,e,n,s,l){z(s>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:e,snap:n,writeId:s,visible:l}),l&&(i.visibleWrites=us(i.visibleWrites,e,n)),i.lastWriteId=s}function nE(i,e){for(let n=0;n<i.allWrites.length;n++){const s=i.allWrites[n];if(s.writeId===e)return s}return null}function rE(i,e){const n=i.allWrites.findIndex(h=>h.writeId===e);z(n>=0,"removeWrite called with nonexistent writeId.");const s=i.allWrites[n];i.allWrites.splice(n,1);let l=s.visible,u=!1,d=i.allWrites.length-1;for(;l&&d>=0;){const h=i.allWrites[d];h.visible&&(d>=n&&iE(h,s.path)?l=!1:Jt(s.path,h.path)&&(u=!0)),d--}if(l){if(u)return sE(i),!0;if(s.snap)i.visibleWrites=Xp(i.visibleWrites,s.path);else{const h=s.children;Mt(h,m=>{i.visibleWrites=Xp(i.visibleWrites,tt(s.path,m))})}return!0}else return!1}function iE(i,e){if(i.snap)return Jt(i.path,e);for(const n in i.children)if(i.children.hasOwnProperty(n)&&Jt(tt(i.path,n),e))return!0;return!1}function sE(i){i.visibleWrites=Pg(i.allWrites,oE,Ee()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function oE(i){return i.visible}function Pg(i,e,n){let s=en.empty();for(let l=0;l<i.length;++l){const u=i[l];if(e(u)){const d=u.path;let h;if(u.snap)Jt(n,d)?(h=Ct(n,d),s=us(s,h,u.snap)):Jt(d,n)&&(h=Ct(d,n),s=us(s,Ee(),u.snap.getChild(h)));else if(u.children){if(Jt(n,d))h=Ct(n,d),s=Kp(s,h,u.children);else if(Jt(d,n))if(h=Ct(d,n),me(h))s=Kp(s,Ee(),u.children);else{const m=Zr(u.children,ve(h));if(m){const g=m.getChild(Ae(h));s=us(s,Ee(),g)}}}else throw ri("WriteRecord should have .snap or .children")}}return s}function Mg(i,e,n,s,l){if(!s&&!l){const u=wr(i.visibleWrites,e);if(u!=null)return u;{const d=Yn(i.visibleWrites,e);if(uc(d))return n;if(n==null&&!ac(d,Ee()))return null;{const h=n||ne.EMPTY_NODE;return ni(d,h)}}}else{const u=Yn(i.visibleWrites,e);if(!l&&uc(u))return n;if(!l&&n==null&&!ac(u,Ee()))return null;{const d=function(g){return(g.visible||l)&&(!s||!~s.indexOf(g.writeId))&&(Jt(g.path,e)||Jt(e,g.path))},h=Pg(i.allWrites,d,e),m=n||ne.EMPTY_NODE;return ni(h,m)}}}function lE(i,e,n){let s=ne.EMPTY_NODE;const l=wr(i.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(Ve,(u,d)=>{s=s.updateImmediateChild(u,d)}),s;if(n){const u=Yn(i.visibleWrites,e);return n.forEachChild(Ve,(d,h)=>{const m=ni(Yn(u,new Me(d)),h);s=s.updateImmediateChild(d,m)}),Jp(u).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}else{const u=Yn(i.visibleWrites,e);return Jp(u).forEach(d=>{s=s.updateImmediateChild(d.name,d.node)}),s}}function aE(i,e,n,s,l){z(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=tt(e,n);if(ac(i.visibleWrites,u))return null;{const d=Yn(i.visibleWrites,u);return uc(d)?l.getChild(n):ni(d,l.getChild(n))}}function uE(i,e,n,s){const l=tt(e,n),u=wr(i.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(n)){const d=Yn(i.visibleWrites,l);return ni(d,s.getNode().getImmediateChild(n))}else return null}function cE(i,e){return wr(i.visibleWrites,e)}function dE(i,e,n,s,l,u,d){let h;const m=Yn(i.visibleWrites,e),g=wr(m,Ee());if(g!=null)h=g;else if(n!=null)h=ni(m,n);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const w=[],_=d.getCompare(),C=u?h.getReverseIteratorFrom(s,d):h.getIteratorFrom(s,d);let I=C.getNext();for(;I&&w.length<l;)_(I,s)!==0&&w.push(I),I=C.getNext();return w}else return[]}function fE(){return{visibleWrites:en.empty(),allWrites:[],lastWriteId:-1}}function fl(i,e,n,s){return Mg(i.writeTree,i.treePath,e,n,s)}function jc(i,e){return lE(i.writeTree,i.treePath,e)}function Zp(i,e,n,s){return aE(i.writeTree,i.treePath,e,n,s)}function hl(i,e){return cE(i.writeTree,tt(i.treePath,e))}function hE(i,e,n,s,l,u){return dE(i.writeTree,i.treePath,e,n,s,l,u)}function Fc(i,e,n){return uE(i.writeTree,i.treePath,e,n)}function Rg(i,e){return Dg(tt(i.treePath,e),i.writeTree)}function Dg(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),z(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(s,ys(s,e.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(s,gs(s,l.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(s,ti(s,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(s,ys(s,e.snapshotNode,l.oldSnap));else throw ri("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const Ag=new mE;class Lc{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Xn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fc(this.writes_,e,s)}}getChildAfterChild(e,n,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:_r(this.viewCache_),u=hE(this.writes_,l,n,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(i){return{filter:i}}function yE(i,e){z(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),z(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function vE(i,e,n,s,l){const u=new pE;let d,h;if(n.type===Zt.OVERWRITE){const g=n;g.source.fromUser?d=cc(i,e,g.path,g.snap,s,l,u):(z(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered()&&!me(g.path),d=pl(i,e,g.path,g.snap,s,l,h,u))}else if(n.type===Zt.MERGE){const g=n;g.source.fromUser?d=wE(i,e,g.path,g.children,s,l,u):(z(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered(),d=dc(i,e,g.path,g.children,s,l,h,u))}else if(n.type===Zt.ACK_USER_WRITE){const g=n;g.revert?d=xE(i,e,g.path,s,l,u):d=CE(i,e,g.path,g.affectedTree,s,l,u)}else if(n.type===Zt.LISTEN_COMPLETE)d=SE(i,e,n.path,s,u);else throw ri("Unknown operation type: "+n.type);const m=u.getChanges();return _E(e,d,m),{viewCache:d,changes:m}}function _E(i,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=dl(i);(n.length>0||!i.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&n.push(kg(dl(e)))}}function Og(i,e,n,s,l,u){const d=e.eventCache;if(hl(s,n)!=null)return e;{let h,m;if(me(n))if(z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=_r(e),w=g instanceof ne?g:ne.EMPTY_NODE,_=jc(s,w);h=i.filter.updateFullNode(e.eventCache.getNode(),_,u)}else{const g=fl(s,_r(e));h=i.filter.updateFullNode(e.eventCache.getNode(),g,u)}else{const g=ve(n);if(g===".priority"){z(Kn(n)===1,"Can't have a priority with additional path components");const w=d.getNode();m=e.serverCache.getNode();const _=Zp(s,n,w,m);_!=null?h=i.filter.updatePriority(w,_):h=d.getNode()}else{const w=Ae(n);let _;if(d.isCompleteForChild(g)){m=e.serverCache.getNode();const C=Zp(s,n,d.getNode(),m);C!=null?_=d.getNode().getImmediateChild(g).updateChild(w,C):_=d.getNode().getImmediateChild(g)}else _=Fc(s,g,e.serverCache);_!=null?h=i.filter.updateChild(d.getNode(),g,_,w,l,u):h=d.getNode()}}return as(e,h,d.isFullyInitialized()||me(n),i.filter.filtersNodes())}}function pl(i,e,n,s,l,u,d,h){const m=e.serverCache;let g;const w=d?i.filter:i.filter.getIndexedFilter();if(me(n))g=w.updateFullNode(m.getNode(),s,null);else if(w.filtersNodes()&&!m.isFiltered()){const I=m.getNode().updateChild(n,s);g=w.updateFullNode(m.getNode(),I,null)}else{const I=ve(n);if(!m.isCompleteForPath(n)&&Kn(n)>1)return e;const P=Ae(n),A=m.getNode().getImmediateChild(I).updateChild(P,s);I===".priority"?g=w.updatePriority(m.getNode(),A):g=w.updateChild(m.getNode(),I,A,P,Ag,null)}const _=Ig(e,g,m.isFullyInitialized()||me(n),w.filtersNodes()),C=new Lc(l,_,u);return Og(i,_,n,l,C,h)}function cc(i,e,n,s,l,u,d){const h=e.eventCache;let m,g;const w=new Lc(l,e,u);if(me(n))g=i.filter.updateFullNode(e.eventCache.getNode(),s,d),m=as(e,g,!0,i.filter.filtersNodes());else{const _=ve(n);if(_===".priority")g=i.filter.updatePriority(e.eventCache.getNode(),s),m=as(e,g,h.isFullyInitialized(),h.isFiltered());else{const C=Ae(n),I=h.getNode().getImmediateChild(_);let P;if(me(C))P=s;else{const b=w.getCompleteChild(_);b!=null?mg(C)===".priority"&&b.getChild(yg(C)).isEmpty()?P=b:P=b.updateChild(C,s):P=ne.EMPTY_NODE}if(I.equals(P))m=e;else{const b=i.filter.updateChild(h.getNode(),_,P,C,w,d);m=as(e,b,h.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function em(i,e){return i.eventCache.isCompleteForChild(e)}function wE(i,e,n,s,l,u,d){let h=e;return s.foreach((m,g)=>{const w=tt(n,m);em(e,ve(w))&&(h=cc(i,h,w,g,l,u,d))}),s.foreach((m,g)=>{const w=tt(n,m);em(e,ve(w))||(h=cc(i,h,w,g,l,u,d))}),h}function tm(i,e,n){return n.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function dc(i,e,n,s,l,u,d,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,g;me(n)?g=s:g=new ze(null).setTree(n,s);const w=e.serverCache.getNode();return g.children.inorderTraversal((_,C)=>{if(w.hasChild(_)){const I=e.serverCache.getNode().getImmediateChild(_),P=tm(i,I,C);m=pl(i,m,new Me(_),P,l,u,d,h)}}),g.children.inorderTraversal((_,C)=>{const I=!e.serverCache.isCompleteForChild(_)&&C.value===null;if(!w.hasChild(_)&&!I){const P=e.serverCache.getNode().getImmediateChild(_),b=tm(i,P,C);m=pl(i,m,new Me(_),b,l,u,d,h)}}),m}function CE(i,e,n,s,l,u,d){if(hl(l,n)!=null)return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(s.value!=null){if(me(n)&&m.isFullyInitialized()||m.isCompleteForPath(n))return pl(i,e,n,m.getNode().getChild(n),l,u,h,d);if(me(n)){let g=new ze(null);return m.getNode().forEachChild(Xr,(w,_)=>{g=g.set(new Me(w),_)}),dc(i,e,n,g,l,u,h,d)}else return e}else{let g=new ze(null);return s.foreach((w,_)=>{const C=tt(n,w);m.isCompleteForPath(C)&&(g=g.set(w,m.getNode().getChild(C)))}),dc(i,e,n,g,l,u,h,d)}}function SE(i,e,n,s,l){const u=e.serverCache,d=Ig(e,u.getNode(),u.isFullyInitialized()||me(n),u.isFiltered());return Og(i,d,n,s,Ag,l)}function xE(i,e,n,s,l,u){let d;if(hl(s,n)!=null)return e;{const h=new Lc(s,e,l),m=e.eventCache.getNode();let g;if(me(n)||ve(n)===".priority"){let w;if(e.serverCache.isFullyInitialized())w=fl(s,_r(e));else{const _=e.serverCache.getNode();z(_ instanceof ne,"serverChildren would be complete if leaf node"),w=jc(s,_)}w=w,g=i.filter.updateFullNode(m,w,u)}else{const w=ve(n);let _=Fc(s,w,e.serverCache);_==null&&e.serverCache.isCompleteForChild(w)&&(_=m.getImmediateChild(w)),_!=null?g=i.filter.updateChild(m,w,_,Ae(n),h,u):e.eventCache.getNode().hasChild(w)?g=i.filter.updateChild(m,w,ne.EMPTY_NODE,Ae(n),h,u):g=m,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=fl(s,_r(e)),d.isLeafNode()&&(g=i.filter.updateFullNode(g,d,u)))}return d=e.serverCache.isFullyInitialized()||hl(s,Ee())!=null,as(e,g,d,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new Rc(s.getIndex()),u=Ux(s);this.processor_=gE(u);const d=n.serverCache,h=n.eventCache,m=l.updateFullNode(ne.EMPTY_NODE,d.getNode(),null),g=u.updateFullNode(ne.EMPTY_NODE,h.getNode(),null),w=new Xn(m,d.isFullyInitialized(),l.filtersNodes()),_=new Xn(g,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=xl(_,w),this.eventGenerator_=new Kx(this.query_)}get query(){return this.query_}}function kE(i){return i.viewCache_.serverCache.getNode()}function NE(i){return dl(i.viewCache_)}function TE(i,e){const n=_r(i.viewCache_);return n&&(i.query._queryParams.loadsAllData()||!me(e)&&!n.getImmediateChild(ve(e)).isEmpty())?n.getChild(e):null}function nm(i){return i.eventRegistrations_.length===0}function IE(i,e){i.eventRegistrations_.push(e)}function rm(i,e,n){const s=[];if(n){z(e==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(u=>{const d=u.createCancelEvent(n,l);d&&s.push(d)})}if(e){let l=[];for(let u=0;u<i.eventRegistrations_.length;++u){const d=i.eventRegistrations_[u];if(!d.matches(e))l.push(d);else if(e.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return s}function im(i,e,n,s){e.type===Zt.MERGE&&e.source.queryId!==null&&(z(_r(i.viewCache_),"We should always have a full cache before handling merges"),z(dl(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,u=vE(i.processor_,l,e,n,s);return yE(i.processor_,u.viewCache),z(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,jg(i,u.changes,u.viewCache.eventCache.getNode(),null)}function bE(i,e){const n=i.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ve,(u,d)=>{s.push(ti(u,d))}),n.isFullyInitialized()&&s.push(kg(n.getNode())),jg(i,s,n.getNode(),e)}function jg(i,e,n,s){const l=s?[s]:i.eventRegistrations_;return Xx(i.eventGenerator_,e,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml;class Fg{constructor(){this.views=new Map}}function PE(i){z(!ml,"__referenceConstructor has already been defined"),ml=i}function ME(){return z(ml,"Reference.ts has not been loaded"),ml}function RE(i){return i.views.size===0}function zc(i,e,n,s){const l=e.source.queryId;if(l!==null){const u=i.views.get(l);return z(u!=null,"SyncTree gave us an op for an invalid query."),im(u,e,n,s)}else{let u=[];for(const d of i.views.values())u=u.concat(im(d,e,n,s));return u}}function Lg(i,e,n,s,l){const u=e._queryIdentifier,d=i.views.get(u);if(!d){let h=fl(n,l?s:null),m=!1;h?m=!0:s instanceof ne?(h=jc(n,s),m=!1):(h=ne.EMPTY_NODE,m=!1);const g=xl(new Xn(h,m,!1),new Xn(s,l,!1));return new EE(e,g)}return d}function DE(i,e,n,s,l,u){const d=Lg(i,e,s,l,u);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,d),IE(d,n),bE(d,n)}function AE(i,e,n,s){const l=e._queryIdentifier,u=[];let d=[];const h=Jn(i);if(l==="default")for(const[m,g]of i.views.entries())d=d.concat(rm(g,n,s)),nm(g)&&(i.views.delete(m),g.query._queryParams.loadsAllData()||u.push(g.query));else{const m=i.views.get(l);m&&(d=d.concat(rm(m,n,s)),nm(m)&&(i.views.delete(l),m.query._queryParams.loadsAllData()||u.push(m.query)))}return h&&!Jn(i)&&u.push(new(ME())(e._repo,e._path)),{removed:u,events:d}}function zg(i){const e=[];for(const n of i.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Qn(i,e){let n=null;for(const s of i.views.values())n=n||TE(s,e);return n}function Wg(i,e){if(e._queryParams.loadsAllData())return kl(i);{const s=e._queryIdentifier;return i.views.get(s)}}function Bg(i,e){return Wg(i,e)!=null}function Jn(i){return kl(i)!=null}function kl(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl;function OE(i){z(!gl,"__referenceConstructor has already been defined"),gl=i}function jE(){return z(gl,"Reference.ts has not been loaded"),gl}let FE=1;class sm{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ze(null),this.pendingWriteTree_=fE(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $g(i,e,n,s,l){return tE(i.pendingWriteTree_,e,n,s,l),l?Ms(i,new vr(Tg(),e,n)):[]}function gr(i,e,n=!1){const s=nE(i.pendingWriteTree_,e);if(rE(i.pendingWriteTree_,e)){let u=new ze(null);return s.snap!=null?u=u.set(Ee(),!0):Mt(s.children,d=>{u=u.set(new Me(d),!0)}),Ms(i,new cl(s.path,u,n))}else return[]}function Ps(i,e,n){return Ms(i,new vr(Ac(),e,n))}function LE(i,e,n){const s=ze.fromObject(n);return Ms(i,new ws(Ac(),e,s))}function zE(i,e){return Ms(i,new _s(Ac(),e))}function WE(i,e,n){const s=Bc(i,n);if(s){const l=$c(s),u=l.path,d=l.queryId,h=Ct(u,e),m=new _s(Oc(d),h);return Uc(i,u,m)}else return[]}function Ug(i,e,n,s,l=!1){const u=e._path,d=i.syncPointTree_.get(u);let h=[];if(d&&(e._queryIdentifier==="default"||Bg(d,e))){const m=AE(d,e,n,s);RE(d)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const g=m.removed;if(h=m.events,!l){const w=g.findIndex(C=>C._queryParams.loadsAllData())!==-1,_=i.syncPointTree_.findOnPath(u,(C,I)=>Jn(I));if(w&&!_){const C=i.syncPointTree_.subtree(u);if(!C.isEmpty()){const I=GE(C);for(let P=0;P<I.length;++P){const b=I[P],A=b.query,J=Yg(i,b);i.listenProvider_.startListening(cs(A),Cs(i,A),J.hashFn,J.onComplete)}}}!_&&g.length>0&&!s&&(w?i.listenProvider_.stopListening(cs(e),null):g.forEach(C=>{const I=i.queryToTagMap.get(Nl(C));i.listenProvider_.stopListening(cs(C),I)}))}VE(i,g)}return h}function Gg(i,e,n,s){const l=Bc(i,s);if(l!=null){const u=$c(l),d=u.path,h=u.queryId,m=Ct(d,e),g=new vr(Oc(h),m,n);return Uc(i,d,g)}else return[]}function BE(i,e,n,s){const l=Bc(i,s);if(l){const u=$c(l),d=u.path,h=u.queryId,m=Ct(d,e),g=ze.fromObject(n),w=new ws(Oc(h),m,g);return Uc(i,d,w)}else return[]}function $E(i,e,n,s=!1){const l=e._path;let u=null,d=!1;i.syncPointTree_.foreachOnPath(l,(C,I)=>{const P=Ct(C,l);u=u||Qn(I,P),d=d||Jn(I)});let h=i.syncPointTree_.get(l);h?(d=d||Jn(h),u=u||Qn(h,Ee())):(h=new Fg,i.syncPointTree_=i.syncPointTree_.set(l,h));let m;u!=null?m=!0:(m=!1,u=ne.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((I,P)=>{const b=Qn(P,Ee());b&&(u=u.updateImmediateChild(I,b))}));const g=Bg(h,e);if(!g&&!e._queryParams.loadsAllData()){const C=Nl(e);z(!i.queryToTagMap.has(C),"View does not exist, but we have a tag");const I=HE();i.queryToTagMap.set(C,I),i.tagToQueryMap.set(I,C)}const w=El(i.pendingWriteTree_,l);let _=DE(h,e,n,w,u,m);if(!g&&!d&&!s){const C=Wg(h,e);_=_.concat(YE(i,e,C))}return _}function Wc(i,e,n){const l=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(e,(d,h)=>{const m=Ct(d,e),g=Qn(h,m);if(g)return g});return Mg(l,e,u,n,!0)}function UE(i,e){const n=e._path;let s=null;i.syncPointTree_.foreachOnPath(n,(g,w)=>{const _=Ct(g,n);s=s||Qn(w,_)});let l=i.syncPointTree_.get(n);l?s=s||Qn(l,Ee()):(l=new Fg,i.syncPointTree_=i.syncPointTree_.set(n,l));const u=s!=null,d=u?new Xn(s,!0,!1):null,h=El(i.pendingWriteTree_,e._path),m=Lg(l,e,h,u?d.getNode():ne.EMPTY_NODE,u);return NE(m)}function Ms(i,e){return Vg(e,i.syncPointTree_,null,El(i.pendingWriteTree_,Ee()))}function Vg(i,e,n,s){if(me(i.path))return Hg(i,e,n,s);{const l=e.get(Ee());n==null&&l!=null&&(n=Qn(l,Ee()));let u=[];const d=ve(i.path),h=i.operationForChild(d),m=e.children.get(d);if(m&&h){const g=n?n.getImmediateChild(d):null,w=Rg(s,d);u=u.concat(Vg(h,m,g,w))}return l&&(u=u.concat(zc(l,i,s,n))),u}}function Hg(i,e,n,s){const l=e.get(Ee());n==null&&l!=null&&(n=Qn(l,Ee()));let u=[];return e.children.inorderTraversal((d,h)=>{const m=n?n.getImmediateChild(d):null,g=Rg(s,d),w=i.operationForChild(d);w&&(u=u.concat(Hg(w,h,m,g)))}),l&&(u=u.concat(zc(l,i,s,n))),u}function Yg(i,e){const n=e.query,s=Cs(i,n);return{hashFn:()=>(kE(e)||ne.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?WE(i,n._path,s):zE(i,n._path);{const u=$S(l,n);return Ug(i,n,null,u)}}}}function Cs(i,e){const n=Nl(e);return i.queryToTagMap.get(n)}function Nl(i){return i._path.toString()+"$"+i._queryIdentifier}function Bc(i,e){return i.tagToQueryMap.get(e)}function $c(i){const e=i.indexOf("$");return z(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new Me(i.substr(0,e))}}function Uc(i,e,n){const s=i.syncPointTree_.get(e);z(s,"Missing sync point for query tag that we're tracking");const l=El(i.pendingWriteTree_,e);return zc(s,n,l,null)}function GE(i){return i.fold((e,n,s)=>{if(n&&Jn(n))return[kl(n)];{let l=[];return n&&(l=zg(n)),Mt(s,(u,d)=>{l=l.concat(d)}),l}})}function cs(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(jE())(i._repo,i._path):i}function VE(i,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const l=Nl(s),u=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(u)}}}function HE(){return FE++}function YE(i,e,n){const s=e._path,l=Cs(i,e),u=Yg(i,n),d=i.listenProvider_.startListening(cs(e),l,u.hashFn,u.onComplete),h=i.syncPointTree_.subtree(s);if(l)z(!Jn(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((g,w,_)=>{if(!me(g)&&w&&Jn(w))return[kl(w).query];{let C=[];return w&&(C=C.concat(zg(w).map(I=>I.query))),Mt(_,(I,P)=>{C=C.concat(P)}),C}});for(let g=0;g<m.length;++g){const w=m[g];i.listenProvider_.stopListening(cs(w),Cs(i,w))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Gc(n)}node(){return this.node_}}class Vc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=tt(this.path_,e);return new Vc(this.syncTree_,n)}node(){return Wc(this.syncTree_,this.path_)}}const QE=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},om=function(i,e,n){if(!i||typeof i!="object")return i;if(z(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return qE(i[".sv"],e,n);if(typeof i[".sv"]=="object")return KE(i[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},qE=function(i,e,n){switch(i){case"timestamp":return n.timestamp;default:z(!1,"Unexpected server value: "+i)}},KE=function(i,e,n){i.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const s=i.increment;typeof s!="number"&&z(!1,"Unexpected increment value: "+s);const l=e.node();if(z(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const d=l.getValue();return typeof d!="number"?s:d+s},XE=function(i,e,n,s){return Hc(e,new Vc(n,i),s)},Qg=function(i,e,n){return Hc(i,new Gc(e),n)};function Hc(i,e,n){const s=i.getPriority().val(),l=om(s,e.getImmediateChild(".priority"),n);let u;if(i.isLeafNode()){const d=i,h=om(d.getValue(),e,n);return h!==d.getValue()||l!==d.getPriority().val()?new st(h,lt(l)):i}else{const d=i;return u=d,l!==d.getPriority().val()&&(u=u.updatePriority(new st(l))),d.forEachChild(Ve,(h,m)=>{const g=Hc(m,e.getImmediateChild(h),n);g!==m&&(u=u.updateImmediateChild(h,g))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Qc(i,e){let n=e instanceof Me?e:new Me(e),s=i,l=ve(n);for(;l!==null;){const u=Zr(s.node.children,l)||{children:{},childCount:0};s=new Yc(l,s,u),n=Ae(n),l=ve(n)}return s}function li(i){return i.node.value}function qg(i,e){i.node.value=e,fc(i)}function Kg(i){return i.node.childCount>0}function JE(i){return li(i)===void 0&&!Kg(i)}function Tl(i,e){Mt(i.node.children,(n,s)=>{e(new Yc(n,i,s))})}function Xg(i,e,n,s){n&&!s&&e(i),Tl(i,l=>{Xg(l,e,!0,s)}),n&&s&&e(i)}function ZE(i,e,n){let s=i.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Rs(i){return new Me(i.parent===null?i.name:Rs(i.parent)+"/"+i.name)}function fc(i){i.parent!==null&&ek(i.parent,i.name,i)}function ek(i,e,n){const s=JE(n),l=Cn(i.node.children,e);s&&l?(delete i.node.children[e],i.node.childCount--,fc(i)):!s&&!l&&(i.node.children[e]=n.node,i.node.childCount++,fc(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=/[\[\].#$\/\u0000-\u001F\u007F]/,nk=/[\[\].#$\u0000-\u001F\u007F]/,Uu=10*1024*1024,Jg=function(i){return typeof i=="string"&&i.length!==0&&!tk.test(i)},Zg=function(i){return typeof i=="string"&&i.length!==0&&!nk.test(i)},rk=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Zg(i)},ik=function(i,e,n,s){qc(Ec(i,"value"),e,n)},qc=function(i,e,n){const s=n instanceof Me?new Cx(n,i):n;if(e===void 0)throw new Error(i+"contains undefined "+pr(s));if(typeof e=="function")throw new Error(i+"contains a function "+pr(s)+" with contents = "+e.toString());if(Qm(e))throw new Error(i+"contains "+e.toString()+" "+pr(s));if(typeof e=="string"&&e.length>Uu/3&&Cl(e)>Uu)throw new Error(i+"contains a string greater than "+Uu+" utf8 bytes "+pr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(Mt(e,(d,h)=>{if(d===".value")l=!0;else if(d!==".priority"&&d!==".sv"&&(u=!0,!Jg(d)))throw new Error(i+" contains an invalid key ("+d+") "+pr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Sx(s,d),qc(i,h,s),xx(s)}),l&&u)throw new Error(i+' contains ".value" child '+pr(s)+" in addition to actual children.")}},ey=function(i,e,n,s){if(!Zg(n))throw new Error(Ec(i,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},sk=function(i,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ey(i,e,n)},ty=function(i,e){if(ve(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},ok=function(i,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Jg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!rk(n))throw new Error(Ec(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ny(i,e){let n=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();n!==null&&!vg(u,n.path)&&(i.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(l)}n&&i.eventLists_.push(n)}function ln(i,e,n){ny(i,n),ak(i,s=>Jt(s,e)||Jt(e,s))}function ak(i,e){i.recursionDepth_++;let n=!0;for(let s=0;s<i.eventLists_.length;s++){const l=i.eventLists_[s];if(l){const u=l.path;e(u)?(uk(i.eventLists_[s]),i.eventLists_[s]=null):n=!1}}n&&(i.eventLists_=[]),i.recursionDepth_--}function uk(i){for(let e=0;e<i.events.length;e++){const n=i.events[e];if(n!==null){i.events[e]=null;const s=n.getEventRunner();os&&gt("event: "+n.toString()),oi(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="repo_interrupt",dk=25;class fk{constructor(e,n,s,l){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ul(),this.transactionQueueTree_=new Yc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hk(i,e,n){if(i.stats_=Ic(i.repoInfo_),i.forceRestClient_||HS())i.server_=new al(i.repoInfo_,(s,l,u,d)=>{lm(i,s,l,u,d)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>am(i,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{et(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}i.persistentConnection_=new vn(i.repoInfo_,e,(s,l,u,d)=>{lm(i,s,l,u,d)},s=>{am(i,s)},s=>{mk(i,s)},i.authTokenProvider_,i.appCheckProvider_,n),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(s=>{i.server_.refreshAuthToken(s)}),i.appCheckProvider_.addTokenChangeListener(s=>{i.server_.refreshAppCheckToken(s.token)}),i.statsReporter_=XS(i.repoInfo_,()=>new qx(i.stats_,i.server_)),i.infoData_=new Gx,i.infoSyncTree_=new sm({startListening:(s,l,u,d)=>{let h=[];const m=i.infoData_.getNode(s._path);return m.isEmpty()||(h=Ps(i.infoSyncTree_,s._path,m),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),Xc(i,"connected",!1),i.serverSyncTree_=new sm({startListening:(s,l,u,d)=>(i.server_.listen(s,u,l,(h,m)=>{const g=d(h,m);ln(i.eventQueue_,s._path,g)}),[]),stopListening:(s,l)=>{i.server_.unlisten(s,l)}})}function pk(i){const n=i.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Kc(i){return QE({timestamp:pk(i)})}function lm(i,e,n,s,l){i.dataUpdateCount++;const u=new Me(e);n=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,n):n;let d=[];if(l)if(s){const m=nl(n,g=>lt(g));d=BE(i.serverSyncTree_,u,m,l)}else{const m=lt(n);d=Gg(i.serverSyncTree_,u,m,l)}else if(s){const m=nl(n,g=>lt(g));d=LE(i.serverSyncTree_,u,m)}else{const m=lt(n);d=Ps(i.serverSyncTree_,u,m)}let h=u;d.length>0&&(h=bl(i,u)),ln(i.eventQueue_,h,d)}function am(i,e){Xc(i,"connected",e),e===!1&&vk(i)}function mk(i,e){Mt(e,(n,s)=>{Xc(i,n,s)})}function Xc(i,e,n){const s=new Me("/.info/"+e),l=lt(n);i.infoData_.updateSnapshot(s,l);const u=Ps(i.infoSyncTree_,s,l);ln(i.eventQueue_,s,u)}function ry(i){return i.nextWriteId_++}function gk(i,e,n){const s=UE(i.serverSyncTree_,e);return s!=null?Promise.resolve(s):i.server_.get(e).then(l=>{const u=lt(l).withIndex(e._queryParams.getIndex());$E(i.serverSyncTree_,e,n,!0);let d;if(e._queryParams.loadsAllData())d=Ps(i.serverSyncTree_,e._path,u);else{const h=Cs(i.serverSyncTree_,e);d=Gg(i.serverSyncTree_,e._path,u,h)}return ln(i.eventQueue_,e._path,d),Ug(i.serverSyncTree_,e,n,null,!0),u},l=>(Il(i,"get for query "+et(e)+" failed: "+l),Promise.reject(new Error(l))))}function yk(i,e,n,s,l){Il(i,"set",{path:e.toString(),value:n,priority:s});const u=Kc(i),d=lt(n,s),h=Wc(i.serverSyncTree_,e),m=Qg(d,h,u),g=ry(i),w=$g(i.serverSyncTree_,e,m,g,!0);ny(i.eventQueue_,w),i.server_.put(e.toString(),d.val(!0),(C,I)=>{const P=C==="ok";P||Pt("set at "+e+" failed: "+C);const b=gr(i.serverSyncTree_,g,!P);ln(i.eventQueue_,e,b),wk(i,l,C,I)});const _=ay(i,e);bl(i,_),ln(i.eventQueue_,_,[])}function vk(i){Il(i,"onDisconnectEvents");const e=Kc(i),n=ul();lc(i.onDisconnect_,Ee(),(l,u)=>{const d=XE(l,u,i.serverSyncTree_,e);Ng(n,l,d)});let s=[];lc(n,Ee(),(l,u)=>{s=s.concat(Ps(i.serverSyncTree_,l,u));const d=ay(i,l);bl(i,d)}),i.onDisconnect_=ul(),ln(i.eventQueue_,Ee(),s)}function _k(i){i.persistentConnection_&&i.persistentConnection_.interrupt(ck)}function Il(i,...e){let n="";i.persistentConnection_&&(n=i.persistentConnection_.id+":"),gt(n,...e)}function wk(i,e,n,s){e&&oi(()=>{if(n==="ok")e(null);else{const l=(n||"error").toUpperCase();let u=l;s&&(u+=": "+s);const d=new Error(u);d.code=l,e(d)}})}function iy(i,e,n){return Wc(i.serverSyncTree_,e,n)||ne.EMPTY_NODE}function Jc(i,e=i.transactionQueueTree_){if(e||Pl(i,e),li(e)){const n=oy(i,e);z(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&Ck(i,Rs(e),n)}else Kg(e)&&Tl(e,n=>{Jc(i,n)})}function Ck(i,e,n){const s=n.map(g=>g.currentWriteId),l=iy(i,e,s);let u=l;const d=l.hash();for(let g=0;g<n.length;g++){const w=n[g];z(w.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const _=Ct(e,w.path);u=u.updateChild(_,w.currentOutputSnapshotRaw)}const h=u.val(!0),m=e;i.server_.put(m.toString(),h,g=>{Il(i,"transaction put response",{path:m.toString(),status:g});let w=[];if(g==="ok"){const _=[];for(let C=0;C<n.length;C++)n[C].status=2,w=w.concat(gr(i.serverSyncTree_,n[C].currentWriteId)),n[C].onComplete&&_.push(()=>n[C].onComplete(null,!0,n[C].currentOutputSnapshotResolved)),n[C].unwatcher();Pl(i,Qc(i.transactionQueueTree_,e)),Jc(i,i.transactionQueueTree_),ln(i.eventQueue_,e,w);for(let C=0;C<_.length;C++)oi(_[C])}else{if(g==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{Pt("transaction at "+m.toString()+" failed: "+g);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=g}bl(i,e)}},d)}function bl(i,e){const n=sy(i,e),s=Rs(n),l=oy(i,n);return Sk(i,l,s),s}function Sk(i,e,n){if(e.length===0)return;const s=[];let l=[];const d=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],g=Ct(n,m.path);let w=!1,_;if(z(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)w=!0,_=m.abortReason,l=l.concat(gr(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=dk)w=!0,_="maxretry",l=l.concat(gr(i.serverSyncTree_,m.currentWriteId,!0));else{const C=iy(i,m.path,d);m.currentInputSnapshot=C;const I=e[h].update(C.val());if(I!==void 0){qc("transaction failed: Data returned ",I,m.path);let P=lt(I);typeof I=="object"&&I!=null&&Cn(I,".priority")||(P=P.updatePriority(C.getPriority()));const A=m.currentWriteId,J=Kc(i),X=Qg(P,C,J);m.currentOutputSnapshotRaw=P,m.currentOutputSnapshotResolved=X,m.currentWriteId=ry(i),d.splice(d.indexOf(A),1),l=l.concat($g(i.serverSyncTree_,m.path,X,m.currentWriteId,m.applyLocally)),l=l.concat(gr(i.serverSyncTree_,A,!0))}else w=!0,_="nodata",l=l.concat(gr(i.serverSyncTree_,m.currentWriteId,!0))}ln(i.eventQueue_,n,l),l=[],w&&(e[h].status=2,function(C){setTimeout(C,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(_==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(_),!1,null))))}Pl(i,i.transactionQueueTree_);for(let h=0;h<s.length;h++)oi(s[h]);Jc(i,i.transactionQueueTree_)}function sy(i,e){let n,s=i.transactionQueueTree_;for(n=ve(e);n!==null&&li(s)===void 0;)s=Qc(s,n),e=Ae(e),n=ve(e);return s}function oy(i,e){const n=[];return ly(i,e,n),n.sort((s,l)=>s.order-l.order),n}function ly(i,e,n){const s=li(e);if(s)for(let l=0;l<s.length;l++)n.push(s[l]);Tl(e,l=>{ly(i,l,n)})}function Pl(i,e){const n=li(e);if(n){let s=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[s]=n[l],s++);n.length=s,qg(e,n.length>0?n:void 0)}Tl(e,s=>{Pl(i,s)})}function ay(i,e){const n=Rs(sy(i,e)),s=Qc(i.transactionQueueTree_,e);return ZE(s,l=>{Gu(i,l)}),Gu(i,s),Xg(s,l=>{Gu(i,l)}),n}function Gu(i,e){const n=li(e);if(n){const s=[];let l=[],u=-1;for(let d=0;d<n.length;d++)n[d].status===3||(n[d].status===1?(z(u===d-1,"All SENT items should be at beginning of queue."),u=d,n[d].status=3,n[d].abortReason="set"):(z(n[d].status===0,"Unexpected transaction status in abort"),n[d].unwatcher(),l=l.concat(gr(i.serverSyncTree_,n[d].currentWriteId,!0)),n[d].onComplete&&s.push(n[d].onComplete.bind(null,new Error("set"),!1,null))));u===-1?qg(e,void 0):n.length=u+1,ln(i.eventQueue_,Rs(e),l);for(let d=0;d<s.length;d++)oi(s[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(i){let e="";const n=i.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let l=n[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function Ek(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const n of i.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Pt(`Invalid query segment '${n}' in query '${i}'`)}return e}const um=function(i,e){const n=kk(i),s=n.namespace;n.domain==="firebase.com"&&wn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||FS();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new og(n.host,n.secure,s,l,e,"",s!==n.subdomain),path:new Me(n.pathString)}},kk=function(i){let e="",n="",s="",l="",u="",d=!0,h="https",m=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(h=i.substring(0,g-1),i=i.substring(g+2));let w=i.indexOf("/");w===-1&&(w=i.length);let _=i.indexOf("?");_===-1&&(_=i.length),e=i.substring(0,Math.min(w,_)),w<_&&(l=xk(i.substring(w,_)));const C=Ek(i.substring(Math.min(i.length,_)));g=e.indexOf(":"),g>=0?(d=h==="https"||h==="wss",m=parseInt(e.substring(g+1),10)):g=e.length;const I=e.slice(0,g);if(I.toLowerCase()==="localhost")n="localhost";else if(I.split(".").length<=2)n=I;else{const P=e.indexOf(".");s=e.substring(0,P).toLowerCase(),n=e.substring(P+1),u=s}"ns"in C&&(u=C.ns)}return{host:e,port:m,domain:n,subdomain:s,secure:d,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n,s,l){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+et(this.snapshot.exportVal())}}class Tk{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,s,l){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=l}get key(){return me(this._path)?null:mg(this._path)}get ref(){return new Sn(this._repo,this._path)}get _queryIdentifier(){const e=Qp(this._queryParams),n=Nc(e);return n==="{}"?"default":n}get _queryObject(){return Qp(this._queryParams)}isEqual(e){if(e=ii(e),!(e instanceof Zc))return!1;const n=this._repo===e._repo,s=vg(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return n&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+wx(this._path)}}class Sn extends Zc{constructor(e,n){super(e,n,new Dc,!1)}get parent(){const e=yg(this._path);return e===null?null:new Sn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ss{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Me(e),s=yl(this.ref,e);return new Ss(this._node.getChild(n),s,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new Ss(l,yl(this.ref,s),Ve)))}hasChild(e){const n=new Me(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Vu(i,e){return i=ii(i),i._checkNotDeleted("ref"),e!==void 0?yl(i._root,e):i._root}function yl(i,e){return i=ii(i),ve(i._path)===null?sk("child","path",e):ey("child","path",e),new Sn(i._repo,tt(i._path,e))}function bk(i){return ty("remove",i._path),uy(i,null)}function uy(i,e){i=ii(i),ty("set",i._path),ik("set",e,i._path);const n=new wl;return yk(i._repo,i._path,e,null,n.wrapCallback(()=>{})),n.promise}function Pk(i){i=ii(i);const e=new Ik(()=>{}),n=new ed(e);return gk(i._repo,i,n).then(s=>new Ss(s,new Sn(i._repo,i._path),i._queryParams.getIndex()))}class ed{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new Nk("value",this,new Ss(e.snapshotNode,new Sn(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Tk(this,e,n):null}matches(e){return e instanceof ed?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}PE(Sn);OE(Sn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="FIREBASE_DATABASE_EMULATOR_HOST",hc={};let Rk=!1;function Dk(i,e,n,s){i.repoInfo_=new og(`${e}:${n}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),s&&(i.authTokenProvider_=s)}function Ak(i,e,n,s,l){let u=s||i.options.databaseURL;u===void 0&&(i.options.projectId||wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let d=um(u,l),h=d.repoInfo,m;typeof process<"u"&&Pp&&(m=Pp[Mk]),m?(u=`http://${m}?ns=${h.namespace}`,d=um(u,l),h=d.repoInfo):d.repoInfo.secure;const g=new QS(i.name,i.options,e);ok("Invalid Firebase Database URL",d),me(d.path)||wn("Database URL must point to the root of a Firebase Database (not including a child path).");const w=jk(h,i,g,new YS(i.name,n));return new Fk(w,i)}function Ok(i,e){const n=hc[e];(!n||n[i.key]!==i)&&wn(`Database ${e}(${i.repoInfo_}) has already been deleted.`),_k(i),delete n[i.key]}function jk(i,e,n,s){let l=hc[e.name];l||(l={},hc[e.name]=l);let u=l[i.toURLString()];return u&&wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new fk(i,Rk,n,s),l[i.toURLString()]=u,u}class Fk{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sn(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Ok(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&wn("Cannot call "+e+" on a deleted database.")}}function Lk(i=CS(),e){const n=yS(i,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=lC("database");s&&zk(n,...s)}return n}function zk(i,e,n,s={}){i=ii(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&wn("Cannot call useEmulator() after instance has already been initialized.");const l=i._repoInternal;let u;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&wn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new qo(qo.OWNER);else if(s.mockUserToken){const d=typeof s.mockUserToken=="string"?s.mockUserToken:aC(s.mockUserToken,i.app.options.projectId);u=new qo(d)}Dk(l,e,n,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(i){MS(wS),il(new hs("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return Ak(s,l,u,n)},"PUBLIC").setMultipleInstances(!0)),qr(Mp,Rp,i),qr(Mp,Rp,"esm2017")}vn.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};vn.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};Wk();var Bk="firebase",$k="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(Bk,$k,"app");const Uk={apiKey:"AIzaSyCO0jRb1uLoeaTLo7NE0BdRKVERp2anC-A",authDomain:"bodik-75ffc.firebaseapp.com",databaseURL:"https://bodik-75ffc-default-rtdb.europe-west1.firebasedatabase.app",projectId:"bodik-75ffc",storageBucket:"bodik-75ffc.appspot.com",messagingSenderId:"904451021821",appId:"1:904451021821:web:b1b6606a4d38a6c1941794"},Gk=$m(Uk),Hu=Lk(Gk),Yu="/app_budget/items/";function Vk({userLanguage:i,text:e}){const[n,s]=q.useState(!1),[l,u]=q.useState(""),[d,h]=q.useState(""),[m,g]=be("localMainCurrency",""),[w,_]=be("localAccounts",[]),[C,I]=be("localCurrency",[]),[P,b]=be("localTransactions",[]),A=()=>{u(""),h(""),s(!0);try{uy(Vu(Hu,Yu+"bodik"),{localMainCurrency:m,localAccounts:w,localCurrency:C,localTransactions:P}).then(()=>{u(""),s(!1)})}catch(W){console.log(W),h("Error. Try later")}},J=()=>{if(confirm(e.restoreData[i])===!0){u(""),h(""),s(!0);try{const W=Vu(Hu);Pk(yl(W,`${Yu}/bodik`)).then(H=>{if(H.exists()){const L=H.val();L.localMainCurrency&&g(L.localMainCurrency),L.localAccounts&&_(L.localAccounts),L.localCurrency&&I(L.localCurrency),L.localTransactions&&b(L.localTransactions),u(e.loaded[i]),window.location.reload()}else h("No data available");s(!1)}).catch(H=>{console.error(H),h(H)})}catch(W){console.log(W),h("Error. Try later")}}},X=()=>{u(""),h(""),s(!0),confirm(`${e.delete[i]}?`)===!0?bk(Vu(Hu,Yu+"bodik")).then(()=>{s(!1),u(e.dataDeleted[i])}).catch(W=>{console.error("Error removing item:",W),s(!1),h(W)}):s(!1)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mt-4 flex gap-2 ",children:[y.jsx("button",{onClick:X,className:"btn_2",children:e.deleteAll[i]}),y.jsx("button",{onClick:J,className:"btn_2",children:e.restore[i]})]}),y.jsx("button",{onClick:A,className:"mt-4 py-2 w-full border-[#E64A19] border-[1.5px] font-medium text-[#E64A19] dark:text-white dark:border-white rounded-lg",children:e.backup[i]}),d&&y.jsx("p",{className:"mt-2",children:d}),n&&y.jsx("p",{className:"mt-2",children:n}),l&&y.jsx("p",{className:"mt-2",children:l})]})}function cy(){const i=localStorage.getItem("theme"),[e,n]=q.useState(()=>i||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));return q.useEffect(()=>{const l=window.document.documentElement;e==="dark"?(l.classList.remove("light"),l.classList.add("dark")):(l.classList.remove("dark"),l.classList.add("light")),localStorage.setItem("theme",e)},[e]),{theme:e,toggleTheme:()=>n(l=>l==="light"?"dark":"light")}}function Hk({theme:i,userLanguage:e,text:n}){const{toggleTheme:s}=cy(),l=()=>s();return y.jsxs("button",{title:"Theme toggle",type:"button",onClick:()=>l(),className:"flex gap-4 items-center",children:[y.jsx(Yk,{active:i==="dark"}),y.jsx("p",{children:n.darkTheme[e]})]})}function Yk({active:i=!1}){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"none",children:[y.jsx("path",{className:"fill-black dark:fill-white",d:"M15 10a5 5 0 0 0 0 10V10Z"}),y.jsx("path",{className:"fill-black dark:fill-white",fillRule:"evenodd",d:"M15 27.5c6.904 0 12.5-5.596 12.5-12.5 0-6.903-5.596-12.5-12.5-12.5C8.097 2.5 2.5 8.097 2.5 15c0 6.904 5.597 12.5 12.5 12.5Zm0-2.5v-5a5 5 0 0 0 0-10V5C9.477 5 5 9.477 5 15s4.477 10 10 10Z",clipRule:"evenodd"})]})}function dy(i){var e,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var l=i.length;for(e=0;e<l;e++)i[e]&&(n=dy(i[e]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function Qk(){for(var i,e,n=0,s="",l=arguments.length;n<l;n++)(i=arguments[n])&&(e=dy(i))&&(s&&(s+=" "),s+=e);return s}const td="-",qk=i=>{const e=Xk(i),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=i;return{getClassGroupId:d=>{const h=d.split(td);return h[0]===""&&h.length!==1&&h.shift(),fy(h,e)||Kk(d)},getConflictingClassGroupIds:(d,h)=>{const m=n[d]||[];return h&&s[d]?[...m,...s[d]]:m}}},fy=(i,e)=>{var d;if(i.length===0)return e.classGroupId;const n=i[0],s=e.nextPart.get(n),l=s?fy(i.slice(1),s):void 0;if(l)return l;if(e.validators.length===0)return;const u=i.join(td);return(d=e.validators.find(({validator:h})=>h(u)))==null?void 0:d.classGroupId},cm=/^\[(.+)\]$/,Kk=i=>{if(cm.test(i)){const e=cm.exec(i)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Xk=i=>{const{theme:e,prefix:n}=i,s={nextPart:new Map,validators:[]};return Zk(Object.entries(i.classGroups),n).forEach(([u,d])=>{pc(d,s,u,e)}),s},pc=(i,e,n,s)=>{i.forEach(l=>{if(typeof l=="string"){const u=l===""?e:dm(e,l);u.classGroupId=n;return}if(typeof l=="function"){if(Jk(l)){pc(l(s),e,n,s);return}e.validators.push({validator:l,classGroupId:n});return}Object.entries(l).forEach(([u,d])=>{pc(d,dm(e,u),n,s)})})},dm=(i,e)=>{let n=i;return e.split(td).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Jk=i=>i.isThemeGetter,Zk=(i,e)=>e?i.map(([n,s])=>{const l=s.map(u=>typeof u=="string"?e+u:typeof u=="object"?Object.fromEntries(Object.entries(u).map(([d,h])=>[e+d,h])):u);return[n,l]}):i,eN=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const l=(u,d)=>{n.set(u,d),e++,e>i&&(e=0,s=n,n=new Map)};return{get(u){let d=n.get(u);if(d!==void 0)return d;if((d=s.get(u))!==void 0)return l(u,d),d},set(u,d){n.has(u)?n.set(u,d):l(u,d)}}},hy="!",tN=i=>{const{separator:e,experimentalParseClassName:n}=i,s=e.length===1,l=e[0],u=e.length,d=h=>{const m=[];let g=0,w=0,_;for(let A=0;A<h.length;A++){let J=h[A];if(g===0){if(J===l&&(s||h.slice(A,A+u)===e)){m.push(h.slice(w,A)),w=A+u;continue}if(J==="/"){_=A;continue}}J==="["?g++:J==="]"&&g--}const C=m.length===0?h:h.substring(w),I=C.startsWith(hy),P=I?C.substring(1):C,b=_&&_>w?_-w:void 0;return{modifiers:m,hasImportantModifier:I,baseClassName:P,maybePostfixModifierPosition:b}};return n?h=>n({className:h,parseClassName:d}):d},nN=i=>{if(i.length<=1)return i;const e=[];let n=[];return i.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},rN=i=>({cache:eN(i.cacheSize),parseClassName:tN(i),...qk(i)}),iN=/\s+/,sN=(i,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:l}=e,u=[],d=i.trim().split(iN);let h="";for(let m=d.length-1;m>=0;m-=1){const g=d[m],{modifiers:w,hasImportantModifier:_,baseClassName:C,maybePostfixModifierPosition:I}=n(g);let P=!!I,b=s(P?C.substring(0,I):C);if(!b){if(!P){h=g+(h.length>0?" "+h:h);continue}if(b=s(C),!b){h=g+(h.length>0?" "+h:h);continue}P=!1}const A=nN(w).join(":"),J=_?A+hy:A,X=J+b;if(u.includes(X))continue;u.push(X);const W=l(b,P);for(let H=0;H<W.length;++H){const L=W[H];u.push(J+L)}h=g+(h.length>0?" "+h:h)}return h};function oN(){let i=0,e,n,s="";for(;i<arguments.length;)(e=arguments[i++])&&(n=py(e))&&(s&&(s+=" "),s+=n);return s}const py=i=>{if(typeof i=="string")return i;let e,n="";for(let s=0;s<i.length;s++)i[s]&&(e=py(i[s]))&&(n&&(n+=" "),n+=e);return n};function lN(i,...e){let n,s,l,u=d;function d(m){const g=e.reduce((w,_)=>_(w),i());return n=rN(g),s=n.cache.get,l=n.cache.set,u=h,h(m)}function h(m){const g=s(m);if(g)return g;const w=sN(m,n);return l(m,w),w}return function(){return u(oN.apply(null,arguments))}}const Le=i=>{const e=n=>n[i]||[];return e.isThemeGetter=!0,e},my=/^\[(?:([a-z-]+):)?(.+)\]$/i,aN=/^\d+\/\d+$/,uN=new Set(["px","full","screen"]),cN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gn=i=>Jr(i)||uN.has(i)||aN.test(i),Un=i=>ai(i,"length",SN),Jr=i=>!!i&&!Number.isNaN(Number(i)),Qu=i=>ai(i,"number",Jr),ns=i=>!!i&&Number.isInteger(Number(i)),mN=i=>i.endsWith("%")&&Jr(i.slice(0,-1)),ce=i=>my.test(i),Gn=i=>cN.test(i),gN=new Set(["length","size","percentage"]),yN=i=>ai(i,gN,gy),vN=i=>ai(i,"position",gy),_N=new Set(["image","url"]),wN=i=>ai(i,_N,EN),CN=i=>ai(i,"",xN),rs=()=>!0,ai=(i,e,n)=>{const s=my.exec(i);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},SN=i=>dN.test(i)&&!fN.test(i),gy=()=>!1,xN=i=>hN.test(i),EN=i=>pN.test(i),kN=()=>{const i=Le("colors"),e=Le("spacing"),n=Le("blur"),s=Le("brightness"),l=Le("borderColor"),u=Le("borderRadius"),d=Le("borderSpacing"),h=Le("borderWidth"),m=Le("contrast"),g=Le("grayscale"),w=Le("hueRotate"),_=Le("invert"),C=Le("gap"),I=Le("gradientColorStops"),P=Le("gradientColorStopPositions"),b=Le("inset"),A=Le("margin"),J=Le("opacity"),X=Le("padding"),W=Le("saturate"),H=Le("scale"),L=Le("sepia"),re=Le("skew"),ge=Le("space"),ke=Le("translate"),Oe=()=>["auto","contain","none"],ae=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto",ce,e],Q=()=>[ce,e],le=()=>["",gn,Un],we=()=>["auto",Jr,ce],Pe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ce=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",ce],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>[Jr,ce];return{cacheSize:500,separator:":",theme:{colors:[rs],spacing:[gn,Un],blur:["none","",Gn,ce],brightness:E(),borderColor:[i],borderRadius:["none","","full",Gn,ce],borderSpacing:Q(),borderWidth:le(),contrast:E(),grayscale:G(),hueRotate:E(),invert:G(),gap:Q(),gradientColorStops:[i],gradientColorStopPositions:[mN,Un],inset:Z(),margin:Z(),opacity:E(),padding:Q(),saturate:E(),scale:E(),sepia:G(),skew:E(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Gn]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Pe(),ce]}],overflow:[{overflow:ae()}],"overflow-x":[{"overflow-x":ae()}],"overflow-y":[{"overflow-y":ae()}],overscroll:[{overscroll:Oe()}],"overscroll-x":[{"overscroll-x":Oe()}],"overscroll-y":[{"overscroll-y":Oe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ns,ce]}],basis:[{basis:Z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",ns,ce]}],"grid-cols":[{"grid-cols":[rs]}],"col-start-end":[{col:["auto",{span:["full",ns,ce]},ce]}],"col-start":[{"col-start":we()}],"col-end":[{"col-end":we()}],"grid-rows":[{"grid-rows":[rs]}],"row-start-end":[{row:["auto",{span:[ns,ce]},ce]}],"row-start":[{"row-start":we()}],"row-end":[{"row-end":we()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[C]}],"gap-x":[{"gap-x":[C]}],"gap-y":[{"gap-y":[C]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[X]}],px:[{px:[X]}],py:[{py:[X]}],ps:[{ps:[X]}],pe:[{pe:[X]}],pt:[{pt:[X]}],pr:[{pr:[X]}],pb:[{pb:[X]}],pl:[{pl:[X]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[ge]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ge]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[Gn]},Gn]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Gn,Un]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qu]}],"font-family":[{font:[rs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",Jr,Qu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gn,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[J]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[J]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gn,Un]}],"underline-offset":[{"underline-offset":["auto",gn,ce]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[J]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Pe(),vN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wN]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[I]}],"gradient-via":[{via:[I]}],"gradient-to":[{to:[I]}],rounded:[{rounded:[u]}],"rounded-s":[{"rounded-s":[u]}],"rounded-e":[{"rounded-e":[u]}],"rounded-t":[{"rounded-t":[u]}],"rounded-r":[{"rounded-r":[u]}],"rounded-b":[{"rounded-b":[u]}],"rounded-l":[{"rounded-l":[u]}],"rounded-ss":[{"rounded-ss":[u]}],"rounded-se":[{"rounded-se":[u]}],"rounded-ee":[{"rounded-ee":[u]}],"rounded-es":[{"rounded-es":[u]}],"rounded-tl":[{"rounded-tl":[u]}],"rounded-tr":[{"rounded-tr":[u]}],"rounded-br":[{"rounded-br":[u]}],"rounded-bl":[{"rounded-bl":[u]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[J]}],"border-style":[{border:[...Ce(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[J]}],"divide-style":[{divide:Ce()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-s":[{"border-s":[l]}],"border-color-e":[{"border-e":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:["",...Ce()]}],"outline-offset":[{"outline-offset":[gn,ce]}],"outline-w":[{outline:[gn,Un]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[J]}],"ring-offset-w":[{"ring-offset":[gn,Un]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",Gn,CN]}],"shadow-color":[{shadow:[rs]}],opacity:[{opacity:[J]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",Gn,ce]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[w]}],invert:[{invert:[_]}],saturate:[{saturate:[W]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[w]}],"backdrop-invert":[{"backdrop-invert":[_]}],"backdrop-opacity":[{"backdrop-opacity":[J]}],"backdrop-saturate":[{"backdrop-saturate":[W]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:E()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:E()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[H]}],"scale-x":[{"scale-x":[H]}],"scale-y":[{"scale-y":[H]}],rotate:[{rotate:[ns,ce]}],"translate-x":[{"translate-x":[ke]}],"translate-y":[{"translate-y":[ke]}],"skew-x":[{"skew-x":[re]}],"skew-y":[{"skew-y":[re]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[gn,Un,Qu]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NN=lN(kN);function ss(...i){return NN(Qk(i))}function TN(){const{userLanguage:i,changeLanguages:e}=ks(),n=()=>e(is[0]),s=()=>e(is[1]),l=()=>e(is[2]),u=()=>e(is[3]);return y.jsxs("div",{children:[y.jsx("p",{children:Ge.changeLanguage[i]}),y.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[y.jsx("button",{onClick:n,className:ss("btn_2",i==="ua"&&"border border-red-500"),children:"UA"}),y.jsx("button",{onClick:s,className:ss("btn_2",i==="pl"&&"border border-red-500"),children:"PL"}),y.jsx("button",{onClick:l,className:ss("btn_2",i==="eng"&&"border border-red-500"),children:"EN"}),y.jsx("button",{onClick:u,className:ss("btn_2",i==="ru"&&"border border-red-500"),children:"RU"})]})]})}function IN({userLanguage:i,text:e,theme:n}){const[s,l]=be("localMainCurrency",""),[u,d]=be("localCurrency",[]),[h,m]=q.useState(s||""),g=ae=>{m(ae),l(ae),d(Ku)},[w,_]=q.useState({}),C=(ae,Z)=>{_(Q=>({...Q,[ae]:Z})),isNaN(Number(Z))||d(Q=>Q.map(le=>le.id===ae?{...le,exchangeRate:Number(Z)}:le))},[I,P]=q.useState(!1),[b,A]=q.useState(!1),[J,X]=q.useState(""),[W,H]=q.useState(!1),[L,re]=q.useState(!1),[ge,ke]=q.useState(""),Oe=ae=>{ae==="1206"&&(ke(""),H(!1),re(!0))};return y.jsxs(y.Fragment,{children:[L&&y.jsx(bt,{title:e.sync[i],setModal:re,node:y.jsx(Vk,{userLanguage:i,text:e})}),I&&y.jsx(el,{title:e.deleteAll[i],dascription:e.confirmDeleteAll[i],onClose:()=>P(!1),onConfirm:()=>{localStorage.clear(),location.reload()}}),W&&y.jsx(bt,{title:e.enterPassword[i],setModal:H,node:y.jsxs("div",{children:[y.jsx("input",{type:"password",className:"input",value:ge,autoFocus:!0,placeholder:e.enterPassword[i],onChange:ae=>ke(ae.target.value)}),y.jsx("button",{className:"btn_2 mt-4",onClick:()=>Oe(ge),children:e.confirm[i]})]}),subModal:!0}),b&&y.jsx(el,{title:e.changeMainCurrency[i],dascription:e.confirmChangeMainCurrency[i],onClose:()=>A(!1),onConfirm:()=>{g(J),A(!1)}}),y.jsx("h3",{children:h?`${e.mainCurrency[i]} ${h}`:e.selectFirstPrimaryCurrency[i]}),y.jsx("div",{className:"mt-1 grid grid-cols-4 gap-4",children:Ku.map(({id:ae,title:Z})=>y.jsx("button",{className:`${h===Z?"ring-2 ring-neutral-500":""} btn_2`,onClick:()=>{s?(A(!0),X(Z)):g(Z)},children:Z},ae))}),h&&y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"mt-4 font-aptosSemiBold",children:e.currentRate[i]}),y.jsx("div",{className:"mt-1 grid grid-cols-3 gap-4",children:u.filter(ae=>ae.title!==h).map(({id:ae,title:Z,exchangeRate:Q})=>y.jsxs("div",{className:"flex items-center",children:[y.jsx("p",{className:"w-1/2",children:Z}),y.jsx("input",{type:"number",className:"input",value:w[ae]??Q.toString(),onChange:le=>C(ae,le.target.value)})]},ae))})]}),y.jsxs("h3",{className:"mt-4",children:[" ",e.appData[i]]}),y.jsxs("div",{className:"mt-1 grid grid-cols-2 gap-4",children:[y.jsx("button",{className:"btn_2 border border-[#EA4335] text-[#EA4335]",onClick:()=>P(!0),children:e.deleteAll[i]}),y.jsx("button",{className:"btn_2",onClick:()=>H(!0),children:e.sync[i]}),y.jsx(Hk,{userLanguage:i,text:e,theme:n}),y.jsx(TN,{})]})]})}function bN({userLanguage:i,text:e,setModal:n}){const[s,l]=be("localBudget",0),u=d=>{l(d===""?"":parseFloat(d)||0)};return y.jsxs(y.Fragment,{children:[y.jsx("h3",{children:e.monthlyExpenses[i]}),y.jsx("input",{type:"number",placeholder:e.enterPlannedAmount[i],className:"w-full dark:bg-transparent dark:text-white",value:s===0?"":s,onChange:d=>u(d.target.value)}),y.jsx("button",{className:"mt-4 ml-auto block bg-black/5 aspect-square px-4 h-10 rounded-lg leading-none transition-colors hover:bg-black/10 disabled:hidden",onClick:()=>n(!1),disabled:!s,children:e.save[i]})]})}function PN({userLanguage:i,text:e,mainCurrency:n,balance:s,localCurrency:l}){const d=((h,m,g)=>{const w=g.find(C=>C.title===m);if(!w||w.exchangeRate===0)throw new Error("Invalid base currency or exchange rate is zero");const _=w.exchangeRate;return g.map(({title:C,exchangeRate:I})=>{if(I===0)return{title:C,amount:0};const P=h/_*I;return{title:C,amount:Number(P.toFixed(2))}})})(s,n,l);return y.jsx(y.Fragment,{children:d.length>0?y.jsx(y.Fragment,{children:d.map(h=>y.jsxs("p",{children:[h.amount," ",h.title]},h.title))}):y.jsx("p",{children:e.selectCurrencyAndAddAccounts[i]})})}const xs=(i,e)=>e.map(s=>{const l=i.reduce((u,d)=>{const h=e.find(g=>g.title===d.currency);if(!h)return u;const m=Number(d.amount)/h.exchangeRate*s.exchangeRate;return u+m},0);return{currency:s.title,total:l}}),yy=(i,e)=>{const s=vm(i,new Date),l={ru:{today:"",tomorrow:"",yesterday:""},pl:{today:"Dzisiaj",tomorrow:"Jutro",yesterday:"Wczoraj"},ua:{today:"",tomorrow:"",yesterday:""},eng:{today:"Today",tomorrow:"Tomorrow",yesterday:"Yesterday"}},u=h=>{var m;return((m=l[e])==null?void 0:m[h])||l.eng[h]};let d="";return s===0?d=u("today"):s===1?d=u("tomorrow"):s===-1?d=u("yesterday"):d=Jo(i,"dd.MM.yy"),d};function MN({theme:i,userLanguage:e,text:n}){var ke,Oe,ae;const[s,l]=q.useState(!1),[u,d]=q.useState(!1),[h,m]=q.useState(!1),[g]=be("localBudget",0),[w]=be("localMainCurrency",""),[_]=be("localAccounts",[]),[C]=be("localCurrency",[]),[I]=be("localTransactions",[]),P=C.map(Z=>{const Q=_.reduce((le,we)=>{const Pe=C.find(Ce=>Ce.title===we.currency);return Pe?le+we.initialBalance/Pe.exchangeRate*Z.exchangeRate:le},0);return{currency:Z.title,total:Q}}),b=C.map(Z=>{const Q=I.filter(le=>le.transactionType==="income").reduce((le,we)=>{const Pe=C.find(Ce=>Ce.title===we.currency);return Pe?le+we.amount/Pe.exchangeRate*Z.exchangeRate:le},0);return{currency:Z.title,total:Q}}),A=C.map(Z=>{const Q=I.filter(le=>le.transactionType==="expense").reduce((le,we)=>{const Pe=C.find(Ce=>Ce.title===we.currency);return Pe?le+we.amount/Pe.exchangeRate*Z.exchangeRate:le},0);return{currency:Z.title,total:Q}}),J=((ke=P.find(Z=>Z.currency===w))==null?void 0:ke.total)||0,X=((Oe=b.find(Z=>Z.currency===w))==null?void 0:Oe.total)||0,W=((ae=A.find(Z=>Z.currency===w))==null?void 0:ae.total)||0,H=J+X+W,L=xs(I.filter(Z=>Z.transactionType==="expense"),C),re=g?Math.round(L.filter(Z=>Z.currency===w)[0].total/g*100):0,ge=L.length>0?L.filter(Z=>Z.currency===w)[0].total*-1:0;return y.jsxs(y.Fragment,{children:[s&&y.jsx(bt,{title:n.settings[e],setModal:l,node:y.jsx(IN,{userLanguage:e,text:n,theme:i})}),u&&y.jsx(bt,{title:n.budget[e],setModal:d,node:y.jsx(bN,{userLanguage:e,text:n,setModal:d})}),h&&y.jsx(bt,{title:n.balance[e],setModal:m,node:y.jsx(PN,{userLanguage:e,text:n,mainCurrency:w,balance:H,localCurrency:C})}),y.jsxs("section",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex gap-4 items-center",children:[y.jsx("button",{onClick:()=>l(!0),className:"rounded-full bg-black text-white dark:bg-neutral-600 font-aptosSemiBold aspect-square w-10 h-10 flex items-center justify-center",children:"BS"}),y.jsxs("div",{onClick:()=>m(!0),className:"cursor-pointer",children:[y.jsx("p",{className:"font-aptosSemiBold text-neutral-500",children:n.balance[e]}),y.jsxs("p",{className:"text-xl font-aptosBold leading-none",children:[_.length>0?H.toFixed(1):0," ",w||""]})]})]}),y.jsxs("div",{className:"flex flex-col items-end cursor-pointer",onClick:()=>d(!0),children:[y.jsxs("p",{className:"font-aptosSemiBold text-neutral-500",children:[n.budget[e]," ",g?`${re*-1}%`:""]}),g&&y.jsxs("p",{className:"text-xl font-aptosBold leading-none",children:[ge.toFixed(0)," / ",g," ",w]})]})]})]})}function fm({title:i,color:e,amount:n,setModal:s}){const[l]=be("localMainCurrency","");return y.jsxs("div",{style:{backgroundColor:e},className:"rounded-lg p-3 pb-2 w-full flex justify-between items-start relative dark:text-black dark:saturate-[900%]",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-aptosSemiBold text-sm",children:i}),y.jsxs("p",{className:"mt-4 text-xl font-aptosBold",children:[n.toFixed(1)," ",y.jsx("span",{className:"font-aptosSemiBold text-lg",children:l})]})]}),y.jsx("button",{className:"btn_1 absolute top-2 right-2",onClick:()=>s(!0),children:"+"})]})}function RN({setModal:i}){const[e]=be("localAccounts",[]);return y.jsx(y.Fragment,{children:y.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.map(n=>y.jsxs("button",{style:{backgroundColor:n.color,color:"white"},className:"btn_2",onClick:()=>i(n),children:[n.title,", ",n.currency]},n.id))})})}function DN({categories:i,setModal:e,onClose:n}){return y.jsx(y.Fragment,{children:y.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.map(s=>y.jsx("button",{className:"btn_2",onClick:()=>{e&&e(s),n&&n(!1)},children:s},s))})})}function AN({userLanguage:i,text:e,selected:n,onDateSelect:s,setModal:l}){const[u,d]=q.useState(new Date),h=new Date,m=()=>{switch(i){case"ru":return Zo;case"pl":return xm;case"ua":return km;case"eng":return _c;default:return Zo}},g=()=>y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("button",{onClick:()=>d(Sm(u,1)),className:"text-gray-500",children:y.jsx(ON,{})}),y.jsx("div",{className:"font-aptosSemiBold capitalize text-lg",children:Jo(u,"LLLL yyyy",{locale:m()})}),y.jsx("button",{onClick:()=>d(vc(u,1)),className:"text-gray-500",children:y.jsx(jN,{})})]}),w=b=>{const A={ru:["","","","","","",""],pl:["Pn","Wt","r","Cz","Pt","So","Nd"],ua:["","","","","","",""],eng:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]};return A[b]||A.eng},_=()=>{const b=w(i);return y.jsx("div",{className:"grid grid-cols-7 text-center mb-2 font-aptosSemiBold",children:b.map((A,J)=>y.jsx("div",{children:A},J))})},C=()=>{const b=R_(u),A=M_(u),J=qn(b,{weekStartsOn:1}),X=A_(A,{weekStartsOn:1}),W=[];let H=[],L=J;for(;L<=X;){for(let re=0;re<7;re++){const ge=L;H.push(y.jsx("div",{className:`${qu(L,h)&&"text-lg bg-neutral-100 dark:bg-neutral-500"} rounded-full shrink-0 aspect-square flex items-center justify-center cursor-pointer leading-none m-px  ${qu(L,n??new Date)?ss("ring-2 ring-[#EA4335]/80 bg-[#EA4335]/20"):!wc(L,b)&&"text-gray-400"}`,onClick:()=>I(ge),children:Jo(L,"d")},L.toString())),L=N_(L,1)}W.push(y.jsx("div",{className:"grid grid-cols-7",children:H},L.toString())),H=[]}return y.jsx("div",{children:W})},I=b=>{s(b),l(!1)},P=()=>{const b=new Date;d(b),s(b),l(!1)};return y.jsxs("div",{className:"w-full max-w-md mx-auto",children:[g(),_(),C(),y.jsxs("div",{className:"mt-4 flex gap-2",children:[y.jsx("button",{className:"btn_2",onClick:P,children:e.today[i]}),y.jsx("button",{disabled:!n,className:"btn_2",onClick:()=>{n&&l(!1)},children:e.set[i]})]})]})}function ON(){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-left",children:y.jsx("path",{d:"m15 18-6-6 6-6"})})}function jN(){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right",children:y.jsx("path",{d:"m9 18 6-6-6-6"})})}function mc({userLanguage:i,text:e,transactionType:n,setModal:s,editMode:l,transaction:u}){const[d,h]=q.useState(!1),[m,g]=q.useState(!1),[w,_]=q.useState(!1),[C]=be("localAccounts",[]),I=C.filter(ie=>ie.id===(u==null?void 0:u.accountId))[0],[P,b]=q.useState(l?I:null),[A,J]=q.useState(u?u.category:""),[X,W]=q.useState(u?u.description:""),[H,L]=q.useState(u?u.date:new Date),[re,ge]=q.useState(u?u.transactionType==="income"?u.amount:-1*u.amount:""),ke=ie=>{b(ie),h(!1)},Oe=ie=>{J(ie),g(!1)},[ae,Z]=be("localTransactions",[]),Q=()=>{if(P&&A){const ie={id:l&&u?u.id:Nm(),category:A,accountId:P.id,currency:P.currency,description:X,amount:n==="income"?Number(re):-1*Number(re),transactionType:n,date:H},F=ae.findIndex(G=>G.id===ie.id);if(F>-1){const G=[...ae];G[F]=ie,Z(G),s(!1)}else Z([...ae,ie]),s(!1)}},le=ie=>{const F=ae.filter(G=>G.id!==ie);Z(F)},[we,Pe]=q.useState(!1),Ce=yy(H,i);return y.jsxs(y.Fragment,{children:[we&&y.jsx(el,{title:e.transactionDeletion[i],dascription:e.confirmTransactionDeletion[i],onClose:()=>Pe(!1),onConfirm:()=>{s(!1),u&&le(u.id)}}),w&&y.jsx(bt,{title:e.selectDate[i],setModal:_,node:y.jsx(AN,{userLanguage:i,text:e,selected:H,onDateSelect:L,setModal:_})}),d&&y.jsx(bt,{title:e.accounts[i],setModal:h,node:y.jsx(RN,{setModal:ke})}),m&&y.jsx(bt,{title:n==="income"?e.incomeCategories[i]:e.expenseCategories[i],setModal:g,node:y.jsx(DN,{categories:n==="income"?U1:G1,setModal:Oe})}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("button",{style:{backgroundColor:P?C.filter(ie=>ie.id===P.id)[0].color:"#F2F2F2",color:P?"white":"black"},className:"btn_2 !w-2/3",onClick:()=>h(!0),children:P?`${P.title}, ${P.currency}`:e.selectAccount[i]}),y.jsx("input",{type:"number",value:re,autoFocus:!0,placeholder:e.amount[i],className:"input text-lg !w-1/3",onChange:ie=>ge(ie.target.value)})]}),y.jsxs("div",{className:"mt-4 flex gap-4",children:[y.jsx("div",{className:"w-full",children:y.jsx("button",{className:"btn_2",onClick:()=>g(!0),children:A||e.category[i]})}),y.jsx("button",{className:"btn_2",onClick:()=>_(!0),children:Ce})]}),y.jsx("input",{type:"text",value:X,placeholder:e.description[i],className:"mt-4 p-4 bg-yellow-50 dark:bg-yellow-300/10 dark:placeholder:text-neutral-200 w-full rounded-lg placeholder:text-neutral-500",onChange:ie=>W(ie.target.value)}),y.jsx("div",{className:"mt-4 flex gap-4 justify-end",children:y.jsxs("div",{className:"flex gap-4 justify-end",children:[l&&y.jsx("button",{className:"btn_2 border border-[#EA4335] text-[#EA4335]",onClick:()=>Pe(!0),children:e.delete[i]}),y.jsx("button",{className:"btn_2",onClick:()=>{s(!1),Q()},disabled:!P||!A||!re,children:l?e.edit[i]:e.save[i]})]})})]})}function FN({transactions:i,userLanguage:e,text:n}){const[s,l]=q.useState(!1),[u,d]=q.useState(!1),[h]=be("localCurrency",[]),[m]=be("localMainCurrency",""),g=xs(i.filter(_=>_.transactionType==="income"),h),w=xs(i.filter(_=>_.transactionType==="expense"),h);return y.jsxs(y.Fragment,{children:[s&&y.jsx(bt,{title:n.addIncome[e],setModal:l,node:y.jsx(mc,{userLanguage:e,text:n,transactionType:"income",setModal:l})}),u&&y.jsx(bt,{title:n.addExpense[e],setModal:d,node:y.jsx(mc,{userLanguage:e,text:n,transactionType:"expense",setModal:d})}),y.jsxs("section",{className:"bg-white dark:bg-neutral-800 dark:text-white shadow-lg p-2 rounded-xl flex gap-2",children:[y.jsx(fm,{title:n.incomes[e],color:"#dcfce7",amount:g.filter(_=>_.currency===m)[0].total,setModal:l}),y.jsx(fm,{title:n.expenses[e],color:"#fee2e2",amount:w.filter(_=>_.currency===m)[0].total,setModal:d})]})]})}function LN(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M3 6h18"}),y.jsx("path",{d:"M7 12h10"}),y.jsx("path",{d:"M10 18h4"})]})}function zN(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M12 5v14"}),y.jsx("path",{d:"m19 12-7 7-7-7"})]})}function WN(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"m5 12 7-7 7 7"}),y.jsx("path",{d:"M12 19V5"})]})}function BN(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}),y.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]})}function vy({userLanguage:i,text:e,transaction:n}){const[s,l]=q.useState(!1),u=yy(n.date,i),[d]=be("localAccounts",[]),h=d.find(w=>w.id===n.accountId),m=n.transactionType==="income"?"bg-[#dcfce7] dark:bg-[#34A853]":"bg-[#fee2e2] dark:bg-[#EA4335]",g=n.amount>0?"text-[#34A853]":"text-[#EA4335]";return y.jsxs(y.Fragment,{children:[s&&y.jsx(bt,{title:"",setModal:l,node:y.jsx(mc,{userLanguage:i,text:e,transactionType:n.transactionType,transaction:n,setModal:l,editMode:!0})}),y.jsxs("div",{onClick:()=>l(!0),className:"flex items-center p-3 overflow-hidden border-b border-neutral-200 dark:border-black last:border-none cursor-pointer",children:[y.jsx("div",{className:`${m} aspect-square w-10 h-10 rounded-full text-3xl flex justify-center items-center`,children:n.transactionType==="income"?y.jsx(zN,{}):y.jsx(WN,{})}),y.jsxs("div",{className:"w-full ml-4 flex flex-col justify-center",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("p",{children:n.description?`${n.description}, ${u.toLowerCase()}`:u}),y.jsxs("p",{className:`whitespace-nowrap text-xl font-aptosBold ${g}`,children:[n.amount," ",y.jsx("span",{className:"text-xs",children:n.currency})]})]}),y.jsxs("div",{className:"flex justify-between text-sm text-neutral-500 dark:text-neutral-400",children:[y.jsx("p",{children:n.category}),h&&y.jsx("p",{style:{backgroundColor:h.color},className:"whitespace-nowrap text-white dark:text-neutral-100 px-1.5 rounded-md",children:h.title})]})]})]})]})}function $N({userLanguage:i,text:e,transactions:n}){var h;const[s]=be("localCurrency",[]),[l]=be("localMainCurrency",""),u=Object.entries(n.filter(m=>m.transactionType==="expense").reduce((m,g)=>(m[g.category]||(m[g.category]=[]),m[g.category].push(g),m),{})).sort(([,m],[,g])=>gc(m,s,l)-gc(g,s,l)),d=((h=xs(n.filter(m=>m.transactionType==="expense"),s).find(m=>m.currency===l))==null?void 0:h.total.toFixed(2))||0;return y.jsx(y.Fragment,{children:u.map(([m,g])=>y.jsx(UN,{category:m,transactions:g,userLanguage:i,text:e,localCurrency:s,localMainCurrency:l,expensesTotals:d},m))})}function UN({category:i,transactions:e,userLanguage:n,text:s,localCurrency:l,localMainCurrency:u,expensesTotals:d}){const[h,m]=q.useState(!1),g=gc(e,l,u),w=+d<0?(g/+d*100).toFixed(2):"0";return y.jsxs("div",{className:"w-full border-b last:border-none",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-[#FEE2E2]",style:{width:`${w}%`}}),y.jsxs("div",{className:`px-4 relative z-10 ${h?"pt-4":"pt-4 pb-4"} flex gap-2 items-center justify-between font-aptosSemiBold`,onClick:()=>m(!h),children:[y.jsxs("p",{children:[i," - ",w,"%"]}),y.jsxs("p",{children:[g.toFixed(2),u]})]})]}),h&&y.jsx("div",{children:e.map(_=>y.jsx(vy,{userLanguage:n,text:s,transaction:_},_.id))})]})}function gc(i,e,n){var l;return((l=xs(i,e).find(u=>u.currency===n))==null?void 0:l.total)||0}function GN({userLanguage:i,text:e,transactions:n}){const[s,l]=q.useState(!1),[u,d]=q.useState("month"),[h,m]=q.useState("all"),[g,w]=q.useState(!1),_=new Date,P=[...n.filter(b=>u==="day"?qu(b.date,_):u==="month"?wc(b.date,_):u==="year"?Mw(b.date,_):!0).filter(b=>h==="expense"?b.transactionType==="expense":h==="income"?b.transactionType==="income":!0)].sort((b,A)=>new Date(A.date).getTime()-new Date(b.date).getTime());return y.jsxs(y.Fragment,{children:[s&&y.jsx(bt,{title:e.filter[i],setModal:l,node:y.jsxs(y.Fragment,{children:[y.jsx("p",{children:e.byDate[i]}),y.jsxs("div",{className:"mt-1 flex gap-2",children:[y.jsx("button",{onClick:()=>d("all"),className:`btn_2 ${u==="all"?"ring-2 ring-neutral-500":""}`,children:e.all[i]}),y.jsx("button",{onClick:()=>d("day"),className:`btn_2 ${u==="day"?"ring-2 ring-neutral-500":""}`,children:e.today[i]}),y.jsx("button",{onClick:()=>d("month"),className:`btn_2 ${u==="month"?"ring-2 ring-neutral-500":""}`,children:e.month[i]}),y.jsx("button",{onClick:()=>d("year"),className:`btn_2 ${u==="year"?"ring-2 ring-neutral-500":""}`,children:e.year[i]})]}),y.jsx("p",{className:"mt-4",children:e.byTransactionType[i]}),y.jsxs("div",{className:"mt-1 flex gap-2",children:[y.jsx("button",{onClick:()=>{m("all")},className:`btn_2 ${h==="all"?"ring-2 ring-neutral-400":""}`,children:e.all[i]}),y.jsx("button",{onClick:()=>{m("expense")},className:`btn_2 ${h==="expense"?"ring-2 ring-neutral-400":""}`,children:e.expenses[i]}),y.jsx("button",{onClick:()=>{m("income")},className:`btn_2 ${h==="income"?"ring-2 ring-neutral-400":""}`,children:e.incomes[i]})]})]})}),y.jsxs("section",{className:"w-full",children:[y.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[y.jsx("h3",{children:e.transactions[i]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("button",{className:"btn_1 flex justify-center items-center",onClick:()=>w(!g),children:y.jsx(BN,{})}),y.jsx("button",{className:"btn_1 flex justify-center items-center",onClick:()=>l(!0),children:y.jsx(LN,{})})]})]}),n.length>0?y.jsx(y.Fragment,{children:g?y.jsx("div",{className:"mt-2 bg-white dark:bg-neutral-800 shadow-lg rounded-lg overflow-hidden",children:y.jsx($N,{userLanguage:i,text:e,transactions:n})}):y.jsx("div",{className:"mt-2 bg-white dark:bg-neutral-800 shadow-lg rounded-lg",children:P.map(b=>y.jsx(vy,{userLanguage:i,text:e,transaction:b},b.id))})}):y.jsx("p",{className:"text-neutral-500",children:e.noTansactions[i]})]})]})}function VN(){const[i,e]=q.useState(navigator.onLine),[n]=q.useState(!1);return q.useEffect(()=>{const s=()=>e(!0),l=()=>e(!1);return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[n]),i}function HN(){const{userLanguage:i}=ks(),[e]=be("localMainCurrency",""),[n]=be("localTransactions",[]),[s]=be("localAccounts",[]),l=VN(),[u,d]=q.useState(new Date),h=()=>{d(C=>Sm(C,1))},m=()=>{d(C=>vc(C,1))},g=n.filter(C=>wc(Rw(C.date.toString()),u)),{theme:w}=cy(),_=()=>{switch(i){case"ru":return Zo;case"pl":return xm;case"ua":return km;case"eng":return _c;default:return Zo}};return y.jsxs(y.Fragment,{children:[!l&&y.jsx("p",{className:"fixed left-4 top-0 text-xs",children:Ge.noConnection[i]}),y.jsxs("main",{className:"max-w-lg md:max-w-7xl mx-auto p-4 md:px-10 flex flex-col md:flex-row gap-5 md:gap-10 select-none",children:[y.jsxs("div",{className:"w-full flex flex-col gap-5",children:[y.jsx(MN,{theme:w,userLanguage:i,text:Ge}),y.jsx(X1,{userLanguage:i,text:Ge}),e&&s.length>0&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex items-center justify-between gap-4 text-lg font-aptosSemiBold",children:[y.jsx("button",{className:"btn_1 flex justify-center items-center",onClick:h,children:y.jsx(YN,{})}),y.jsx("span",{className:"capitalize",children:Jo(u,"LLLL, yyyy",{locale:_()})}),y.jsx("button",{className:"btn_1 flex justify-center items-center",onClick:m,children:y.jsx(QN,{})})]}),y.jsx(FN,{userLanguage:i,text:Ge,transactions:g})]})]}),n.length>0?y.jsx("div",{className:"w-full flex flex-col gap-4",children:y.jsx(GN,{userLanguage:i,text:Ge,transactions:g})}):y.jsx("p",{className:"w-full text-neutral-500",children:Ge.noTansactions[i]})]})]})}function YN(){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-left",children:y.jsx("path",{d:"m15 18-6-6 6-6"})})}function QN(){return y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right",children:y.jsx("path",{d:"m9 18 6-6-6-6"})})}x_.createRoot(document.getElementById("root")).render(y.jsx(q1,{children:y.jsx(HN,{})}));
